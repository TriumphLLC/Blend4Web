

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>发布说明 &mdash; Blend4Web 17.06 用户手册</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="author" title="关于这些文档"
              href="about.html"/>
    <link rel="top" title="Blend4Web 17.06 用户手册" href="index.html"/>
        <link rel="prev" title="存在的问题及解决方案" href="problems_and_solutions.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Blend4Web. 用户手册
        

        
        </a>

        
          
          
            <div class="version">
              v17.06
            </div>
          
        

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine_features.html">引擎功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">安装和更新</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">工作流程</a></li>
<li class="toctree-l1"><a class="reference internal" href="project_manager.html">项目管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">场景预览器</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_player.html">网络播放器</a></li>
<li class="toctree-l1"><a class="reference internal" href="addon.html">插件</a></li>
<li class="toctree-l1"><a class="reference internal" href="scene_settings.html">场景设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">物体</a></li>
<li class="toctree-l1"><a class="reference internal" href="meshes.html">网格</a></li>
<li class="toctree-l1"><a class="reference internal" href="normal_editor.html">法线编辑器</a></li>
<li class="toctree-l1"><a class="reference internal" href="camera.html">相机</a></li>
<li class="toctree-l1"><a class="reference internal" href="materials.html">材质</a></li>
<li class="toctree-l1"><a class="reference internal" href="material_library.html">材质库</a></li>
<li class="toctree-l1"><a class="reference internal" href="node_materials.html">节点材质</a></li>
<li class="toctree-l1"><a class="reference internal" href="logic_editor.html">逻辑编辑器</a></li>
<li class="toctree-l1"><a class="reference internal" href="lighting.html">照明、 阴影和背景</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessing_effects.html">后期处理效果</a></li>
<li class="toctree-l1"><a class="reference internal" href="stereo_rendering.html">立体渲染</a></li>
<li class="toctree-l1"><a class="reference internal" href="textures.html">纹理</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles.html">粒子系统,流体</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles_instancing.html">粒子系统.实例化</a></li>
<li class="toctree-l1"><a class="reference internal" href="animation.html">动画</a></li>
<li class="toctree-l1"><a class="reference internal" href="outdoor_rendering.html">室外效果</a></li>
<li class="toctree-l1"><a class="reference internal" href="colors.html">色彩管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">音频</a></li>
<li class="toctree-l1"><a class="reference internal" href="physics.html">物理</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">对应用程序开发人员</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers_advanced.html">对于引擎开发者</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_short_manual.html">团队工作。使用 Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems_and_solutions.html">存在的问题及解决方案</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">发布说明</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#v17-06">v17.06</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#new-features">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v17-04">v17.04</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v17-02">v17.02</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-12">v16.12</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id8">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-11">v16.11</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id11">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-10">v16.10</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-09">v16.09</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id17">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id19">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-08">v16.08</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id20">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-07">v16.07</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id23">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id25">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-06">v16.06</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id26">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id27">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id28">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-05">v16.05</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id29">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id30">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id31">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-04">v16.04</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id32">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id33">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id34">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-03">v16.03</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id35">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id36">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id37">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-02">v16.02</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id38">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id39">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id40">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#known-issues">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-01">v16.01</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id41">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id42">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id43">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id44">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-12">v15.12</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id45">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id46">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id47">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id48">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-11">v15.11</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id50">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id51">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id52">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id53">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-10">v15.10</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id55">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id56">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id57">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id58">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-09">v15.09</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id60">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id61">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id62">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id63">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-08">v15.08</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id64">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id65">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id66">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id67">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-07">v15.07</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id68">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id69">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id70">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id71">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-06">v15.06</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id72">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id73">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id74">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id75">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-05">v15.05</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id77">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id78">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id79">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id80">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-04">v15.04</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id81">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id82">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id83">修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-03">v15.03</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id84">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id85">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id86">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id87">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-02">v15.02</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id88">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id89">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id90">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id91">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-01">v15.01</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id92">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id93">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id94">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id95">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v14-12">v14.12</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id96">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id97">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id98">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id99">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v14-11">v14.11</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id100">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id101">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id102">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id103">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v14-10">v14.10</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id104">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id105">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id106">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id107">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v14-09">v14.09</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id108">新功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id109">变更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id110">修复</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id111">Known Issues</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Blend4Web. 用户手册</a>
      </nav>


      
      <div class="wy-nav-content">
        <div id="lang_cont">
          <a href="#">RU</a>
          <a href="#">EN</a>
          <a href="#">ZH</a>
        </div>
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>发布说明</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="release-notes">
<span id="id1"></span><h1>发布说明<a class="headerlink" href="#release-notes" title="永久链接至标题">¶</a></h1>
<div class="section" id="v17-06">
<span id="index-0"></span><h2>v17.06<a class="headerlink" href="#v17-06" title="永久链接至标题">¶</a></h2>
<div class="section" id="new-features">
<h3>新功能<a class="headerlink" href="#new-features" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Support for essential Blender constraints.</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Copy</span> <span class="pre">Location</span></code>, <code class="docutils literal"><span class="pre">Copy</span> <span class="pre">Rotation</span></code>, <code class="docutils literal"><span class="pre">Copy</span> <span class="pre">Transforms</span></code> and <code class="docutils literal"><span class="pre">Track</span> <span class="pre">To</span></code>
are available to use now. Also the following API methods have been
added: <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html#.append_copy_loc">append_copy_loc</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html#.append_copy_rot">append_copy_rot</a>
and <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html#.append_copy_trans">append_copy_trans</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Experimental Augmented Reality support.</p>
<blockquote>
<div><p>Check out the AR application to get the look of the feature we&#8217;re going to improve much in our next releases. The application can be found in the <code class="docutils literal"><span class="pre">apps_dev/AR</span></code> folder and is also available in Project Manager.</p>
</div></blockquote>
</li>
<li><p class="first">New logic node <code class="docutils literal"><span class="pre">Set</span> <span class="pre">Camera</span> <span class="pre">Limits</span></code>.</p>
<blockquote>
<div><p>This node allows changing limits of the camera. Each limit can be set separately. Only limits available for current move style of the camera are applied after node execution.</p>
</div></blockquote>
</li>
<li><p class="first">Improved AA rendering.</p>
<blockquote>
<div><p>Scheme of rendering post-processing effects has been changed. It increases performance and quality of the anti-aliasing.</p>
</div></blockquote>
</li>
<li><p class="first">New experimental environment lighting algorithm for scenes with <code class="docutils literal"><span class="pre">Cycles</span></code> materials.</p>
<blockquote>
<div><p>Materials with <code class="docutils literal"><span class="pre">Glossy</span> <span class="pre">BSDF</span></code> and <code class="docutils literal"><span class="pre">Diffuse</span> <span class="pre">BSDF</span></code> nodes automatically enable environment lighting, which takes into account roughness of the glossy component.</p>
<p>New algorithm requires WebGL 2.0 or WebGL 1.0 with available extension EXT_shader_texture_lod for correct work.</p>
</div></blockquote>
</li>
<li><p class="first">Optimized rendering of reflections.</p>
<blockquote>
<div><p>Cube reflections for scenes with no reflexible objects has been optimized. Now in such scenes the sky is used for reflections directly without redrawing for each individual reflective object.</p>
</div></blockquote>
</li>
<li><p class="first">Support for camera loading.</p>
<blockquote>
<div><p>From now on it&#8217;s possible to load additional cameras to the scene using dynamic loading feature.</p>
</div></blockquote>
</li>
<li><p class="first">Physics API improvements.</p>
<blockquote>
<div><p>Added <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.set_angular_velocity">set_angular_velocity</a>. It allows to set object&#8217;s angular velocity.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="changes">
<h3>变更<a class="headerlink" href="#changes" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>The &#8220;pivot&#8221; setting in the &#8220;params&#8221; parameter for the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_setup">target_setup</a> method has been made optional.</li>
<li>The Material API was improved to provide more clear messages in the browser console in case of errors. Also two methods have been added: <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.is_node_material">is_node_material</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.is_water_material">is_water_material</a>.</li>
<li>Sequential video fallback for video textures isn&#8217;t applied anymore in MS Edge due to the native support for HTMLVideoElement.</li>
</ul>
</div>
<div class="section" id="fixes">
<h3>修复<a class="headerlink" href="#fixes" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Fixed incorrect rendering of materials with normal mapping.</li>
<li>Fixed VR code snipped.</li>
<li>Fixed keyboard events when the engine is working inside an iframe.</li>
<li>MSAA is disabled from now on for Adreno 4xx/5xx GPUs to prevent some rendering bugs.</li>
<li>Fixed translating/rotating of non-active cameras.</li>
<li>Fixed getting coordinates for mouse/touch events via the <a class="reference external" href="https://www.blend4web.com/api_doc/module-mouse.html#.get_coords_x">get_coords_x</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-mouse.html#.get_coords_y">get_coords_y</a> methods.</li>
<li>Fixed bug with looped speakers that couldn&#8217;t be stopped in Firefox after calling the <a class="reference external" href="https://www.blend4web.com/api_doc/module-sfx.html#.stop">stop</a> and the <a class="reference external" href="https://www.blend4web.com/api_doc/module-sfx.html#.play">play</a> methods sequentially.</li>
<li>Fixed sky redrawing after world node material parameters change.</li>
<li>Removed auto applying modifiers for objects with the <code class="docutils literal"><span class="pre">Array</span></code> modifier.</li>
<li>Fixed rendering artifacts for the transparent node materials in Firefox under Linux.</li>
<li>Fixed applying a node material animation after material inheritance.</li>
<li>Workers were disabled for physics simulation in IE11 and MS Edge to improve physics stability.</li>
</ul>
</div>
</div>
<div class="section" id="v17-04">
<h2>v17.04<a class="headerlink" href="#v17-04" title="永久链接至标题">¶</a></h2>
<div class="section" id="id2">
<h3>新功能<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">在 <code class="docutils literal"><span class="pre">Cycles</span></code> 材质中支持世界材质。</p>
<blockquote>
<div><p>现在，可以通过 <code class="docutils literal"><span class="pre">Cycles</span></code> 材质节点设置天空渲染。 <code class="docutils literal"><span class="pre">Background</span></code> 节点用于控制环境的颜色。还支持带有 <code class="docutils literal"><span class="pre">Equirectangular</span></code> 和 <code class="docutils literal"><span class="pre">Mirror</span> <span class="pre">Ball</span></code> 投影类型的球形环境贴图。世界的材质可以直接或由NLA使用  <code class="docutils literal"><span class="pre">Value</span></code> 和 <code class="docutils literal"><span class="pre">RGB</span></code> 节点产生动画。世界物体的 <code class="docutils literal"><span class="pre">Use</span> <span class="pre">Nodes</span></code> 选项在  <code class="docutils literal"><span class="pre">World</span></code>  属性面板中复制。</p>
</div></blockquote>
</li>
<li><p class="first">实验性的 WebAssembly支持物理引擎。</p>
<blockquote>
<div><p>从现在开始，您可以使用WebAssembly编译的Uranium.js物理引擎（我们的Bullet引擎的JavaScript移植版）的优化版本。新的  <code class="docutils literal"><span class="pre">physics_use_wasm</span></code>  配置属性可用于启用此功能。该功能被认为是实验性的，默认情况下禁用。</p>
</div></blockquote>
</li>
<li><p class="first">VR控制器的实验性支持。</p>
<blockquote>
<div><p>添加 <a class="reference external" href="https://www.blend4web.com/api_doc/module-hmd.html#.enable_controllers">enable_controllers</a> 。 VR代码片段已更新。   <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gamepad_orientation_sensor">create_gamepad_orientation_sensor</a> 和 <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gamepad_position_sensor">create_gamepad_position_sensor</a> 方法已添加。</p>
</div></blockquote>
</li>
<li><p class="first">支持Alpha 抗锯齿混合模式的材质。</p>
<blockquote>
<div><p>这是Alpha 裁剪技术的一个变体，在兼容硬件上看起来更好。此模式要求MSAA启用，因此它只能在具有WebGL2功能的设备上工作。在其他情况下，<code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Clip</span></code> 混合模式将被调用。</p>
</div></blockquote>
</li>
<li><p class="first">支持加载GZIP压缩资源。</p>
<blockquote>
<div><p>除开标准的 &#8221;.json&#8221; 和 &#8221;.bin&#8221; 文件，该应用程序还可以加载压缩文件  &#8221;.json.gz&#8221; 和 &#8221;.bin.gz&#8221;. 同样适用于DDS和PVR纹理。这可以打开的网页播放器采用 &#8220;compressed_gzip&#8221; <a class="reference internal" href="web_player.html#webplayer-attributes"><span>URL 参数</span></a>.  在自定义应用程序中，应该在通过 <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.init">init</a> 方法传递  &#8220;assets_gzip_available&#8221; 标记。压缩文件可以由项目管理器命令  &#8220;转换资源&#8221; 生成。但是，gzip压缩资源应该只有在服务器上没法建立这样的压缩的时候使用。更多的信息可以在相应的文档部分发现：<a class="reference internal" href="developers.html#gzip"><span>GZIP 压缩</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">LOD系统改进。</p>
<blockquote>
<div><p>从现在开始，可以通过使用alpha测试来平滑地进行LOD层次切换，这使得转换不太明显。相应的选项称为 <code class="docutils literal"><span class="pre">LOD</span> <span class="pre">平滑切换</span></code> ，可以在 <code class="docutils literal"><span class="pre">Scene</span> <span class="pre">-&gt;</span> <span class="pre">Object</span> <span class="pre">Clustering</span> <span class="pre">&amp;</span> <span class="pre">LOD</span></code> 面板中调用。请记住，为所有物体启用此功能可能显着降低应用程序性能。</p>
<p>此外，还添加了一个名为  <code class="docutils literal"><span class="pre">Max</span> <span class="pre">LOD</span> <span class="pre">Hysteresis</span> <span class="pre">Interval</span></code> 的新选项。其目的是为了消除当相机移动到两个LOD之间的边界附近时连续的LOD切换 。该选项从 <code class="docutils literal"><span class="pre">Object-&gt;Levels</span> <span class="pre">of</span> <span class="pre">Detail</span></code>  面板中替换了旧的 <code class="docutils literal"><span class="pre">LOD</span> <span class="pre">Transition</span> <span class="pre">Ratio</span></code> 参数。</p>
<p>有关详细信息，请参阅文档: <a class="reference internal" href="objects.html#lods"><span>层次细节</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">RGBA阴影支持。</p>
<blockquote>
<div><p>支持某些不支持深度纹理的设备上的有阴影。</p>
</div></blockquote>
</li>
<li><p class="first">泛光效果改善。</p>
<blockquote>
<div><p>新开发泛光算法已经实现。现在它适用于所有灯类型，不依赖于光的方向。此外，自适应平均亮度计算可用。</p>
</div></blockquote>
</li>
<li><p class="first">在Filmic Blender中支持 <code class="docutils literal"><span class="pre">非色彩数据</span></code> 纹理。</p>
</li>
<li><p class="first">压缩纹理的调用。</p>
<blockquote>
<div><p>当服务器返回gzip / dds / pvr纹理的404错误时，引擎现在尝试加载非压缩图像。</p>
</div></blockquote>
</li>
<li><p class="first">加载阶段调试标志</p>
<blockquote>
<div><p><a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.init">init</a> 方法现在有 <code class="docutils literal"><span class="pre">debug_loading</span></code> 标志，可以通过控制台跟踪和调试加载阶段。</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">法线编辑器</span></code> 的改进。</p>
<blockquote>
<div><p>已经为一些运算符添加了 <code class="docutils literal"><span class="pre">因子</span></code> 选项，用于混合法线的初始状态和结果状态。</p>
<p>已添加使用带有多个多边形的 <code class="docutils literal"><span class="pre">面</span></code> 运算符的选项。</p>
<p>添加了新的运算符 <code class="docutils literal"><span class="pre">Scale</span></code> ，用于沿轴进行缩放。</p>
<p>一些运算符的功能得到了改进，它们已经重命名以匹配它们的新可能用法：<code class="docutils literal"><span class="pre">Tree</span></code> -&gt; <code class="docutils literal"><span class="pre">3D</span> <span class="pre">Cursor</span></code>, <code class="docutils literal"><span class="pre">Foliage</span></code> -&gt; <code class="docutils literal"><span class="pre">Axis</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">添加了用于渲染动态物体的法线的API。</p>
<blockquote>
<div><p>在 <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html">debug</a> 模块中 <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.show_normals">show_normals</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.hide_normals">hide_normals</a> 方法已经添加。</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id3">
<h3>变更<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><p class="first">删除了 <code class="docutils literal"><span class="pre">None</span></code> 类型的力场的警告。</p>
</li>
<li><p class="first"><a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_sky_params">get_sky_params</a> 方法现在为非程序天空返回null。</p>
</li>
<li><p class="first">默认的 <code class="docutils literal"><span class="pre">Mist</span></code> 面板中的 <code class="docutils literal"><span class="pre">使用自定义颜色</span></code> 属性已禁用。</p>
</li>
<li><p class="first">现在 <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.append_object">append_object</a> 方法也适用于非复制物体。</p>
</li>
<li><p class="first">SSAO <code class="docutils literal"><span class="pre">影响</span></code> 的上限已经提高到2.0。</p>
</li>
<li><p class="first">如果画布一个或两个尺寸的尺寸为零，则不再调整为320x240。</p>
</li>
<li><p class="first">在环境纹理图像更改后动态调整立方体天空渲染目标的尺寸。</p>
</li>
</ul>
</div>
<div class="section" id="id4">
<h3>修复<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><p class="first">在帮助菜单中改进了插件的俄语翻译。</p>
</li>
<li><p class="first">修复了API文档中的一些不准确之处。</p>
</li>
<li><p class="first">修复了为用作LOD级别的物体 <code class="docutils literal"><span class="pre">不要导出</span></code> 选项。以前，它没有工作。</p>
</li>
<li><p class="first">修复了在选择物体后，查看器应用程序中FPS减少的问题。</p>
</li>
<li><p class="first">修复了动态物体的LOD切换，当同时渲染多个LOD级别时。</p>
</li>
<li><p class="first">相同的打包图像/声音解包后导出到单个文件而不是多个相同文件。</p>
</li>
<li><p class="first">修复法线贴图节点强度钳制。小于0的值现在对法线值没有影响。</p>
</li>
<li><p class="first">世界动画的不必要的雾更新已被删除。</p>
</li>
<li><p class="first">带动态材质的 <code class="docutils literal"><span class="pre">空</span></code> 物体不再使引擎崩溃。</p>
</li>
<li><p class="first">修复导致内存泄漏的纹理克隆错误。</p>
</li>
<li><p class="first">修复通过alpha_clip参数批次排序。</p>
</li>
<li><p class="first">修复水材质中的泡沫+海岸贴图纹理崩溃问题。</p>
</li>
<li><p class="first">修复了 <code class="docutils literal"><span class="pre">法线编辑器</span></code> 中的空间转换。</p>
</li>
<li><p class="first">修复了非标准python环境下 <code class="docutils literal"><span class="pre">项目管理器</span></code> 服务器行为。</p>
</li>
<li><p class="first">修正了使用法线贴图材质渲染不正确的错误。</p>
</li>
<li><p class="first">修复了在VR模式下右眼的纹理过滤。</p>
</li>
<li><p class="first">修复了使用  <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.client_to_element_coords">client_to_element_coords</a> 导致IE11的崩溃的问题。</p>
</li>
<li><p class="first">修复了 <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.is_hideable">is_hideable</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.show_object">show_object</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.hide_object">hide_object</a> 方法。</p>
</li>
<li><p class="first">修复了 <code class="docutils literal"><span class="pre">Cycles</span></code> 材质有未连接的 <code class="docutils literal"><span class="pre">Surface</span></code> 输出会崩溃的问题。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v17-02">
<h2>v17.02<a class="headerlink" href="#v17-02" title="永久链接至标题">¶</a></h2>
<div class="section" id="id5">
<h3>新功能<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">项目管理器改进。</p>
<blockquote>
<div><p>为了简化项目配置一套全新的可视化配置器已经实现。要配置您的项目只需点击项目管理器的主页上的项目名称附近的 <em>[config]</em> 链接。项目配置器在非破坏性的方式下工作，并允许您更改当前项目的只可编辑参数。</p>
<p>加入克隆项目的功能。</p>
<p>添加JavaScript源映射。源映射让使用浏览器为工具的开发者可以将优化的精缩代码“映射”显示为非精缩代码。在构建项目的时候使用 <em>project.py</em> 脚本带 <em>-b</em> 标志来生成源映射。</p>
</div></blockquote>
</li>
<li><p class="first">用户界面的改进。</p>
<blockquote>
<div><p>为了使创建Blend4Web内容的任务更有效，我们细化了Blender的UI。</p>
<p><cite>Render</cite> 和 <cite>Help</cite> 菜单已为Blend4Web渲染引擎进行修改。</p>
<p>已添加有关不支持编辑器的消息。</p>
<p>&#8216;刚体&#8217; 面板为Blend4Web渲染引擎已经从View3d工具移除。</p>
<p>Blend4Web荣誉已被添加到启动画面。</p>
</div></blockquote>
</li>
<li><p class="first">对于 <code class="docutils literal"><span class="pre">Cycles</span></code> 材质的进一步支持。</p>
<blockquote>
<div><p>对于 <code class="docutils literal"><span class="pre">Displacement</span></code> 输出支持已被添加。该输出是用来方便地添加凹凸材质。</p>
<p><code class="docutils literal"><span class="pre">透明</span> <span class="pre">BSDF</span></code> 节点的支持已被添加。此节点是在 <code class="docutils literal"><span class="pre">Shader</span></code> 类别。它是用来增加无折射透明度，直接通过表面看出去，好像几何在那个位置。</p>
</div></blockquote>
</li>
<li><p class="first">扩展了材质继承。</p>
<blockquote>
<div><p><a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.inherit_material">inherit_material</a> 方法大大提高了支持节点材质。它需要源和目标物体有 &#8216;动态几何和材质&#8217; 选项（以前被命名为 &#8216;动态几何&#8217; ）在 &#8216;物体&#8217; 面板启用。这个选项也意味着所有的UV和顶点颜色层都被导出到可以被应用到目标物体的任何材质上。有关使用此功能的更多信息，可以发现在文档的 <a class="reference internal" href="materials.html#material-inherit"><span>相应章节</span></a> 中找到。</p>
</div></blockquote>
</li>
<li><p class="first">&#8220;代码片段&#8221; 改进。</p>
<blockquote>
<div><p>克隆片段的功能已被添加。现在可以创建一个基于代码片段的新项目。它提供了使用现成的模板的进一步开发的可能性。</p>
</div></blockquote>
</li>
<li><p class="first">相机改进。</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Horizontal</span></code> 和 <code class="docutils literal"><span class="pre">Auto</span></code> 相机适配支持已经添加。</p>
</div></blockquote>
</li>
<li><p class="first">风弯曲设置API。</p>
<blockquote>
<div><p>Wind Bending parameters can now be set with <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.set_wind_bending_params">set_wind_bending_params</a>, and they can be extracted with <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_wind_bending_params">get_wind_bending_params</a>. Note that this API works only with dynamic objects. A special menu for Wind Bending was added to the <a class="reference internal" href="viewer.html#viewer"><span>Viewer</span></a> interface.</p>
</div></blockquote>
</li>
<li><p class="first">影子模糊和反射质量配置</p>
<blockquote>
<div><p>新参数：<code class="docutils literal"><span class="pre">shadow_blur_samples</span></code> 和 <code class="docutils literal"><span class="pre">reflection_quality</span></code> 已添加到  <a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html">config</a> 模块。 它们可以通过  <a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html#.set">set</a>  方法设置。</p>
</div></blockquote>
</li>
<li><p class="first">支持Blend4Web插件定制。</p>
<blockquote>
<div><p>为了简化Blend4Web插件自定义一个新的字段  <em>b4w_custom_prop</em>  可以添加到物体或场景数据块。 该选项可以通过 <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_custom_prop">get_custom_prop</a> 或 <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_custom_prop">get_custom_prop</a> 方法导出为Blend4Web格式而且运行时可以访问。关于如何使用此功能的例子可以在SDK的 <cite>addons/blend4web/custom_prop_example.py</cite> 文件中找到。</p>
</div></blockquote>
</li>
<li><p class="first">更改导出UV层的执行过程。</p>
<blockquote>
<div><p>每一个网格只能有2个UV层的限制已被移除。此外，如果未指定UV层，则使用主控层代替列表中的第一层。未使用的UV图层将不会被导出，除非物体属性 <code class="docutils literal"><span class="pre">Dynamic</span> <span class="pre">Geometry</span> <span class="pre">&amp;</span> <span class="pre">Materials</span></code> 被启用。</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id6">
<h3>变更<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">项目管理器变更。</p>
<blockquote>
<div><p>&#8220;External&#8221; 引擎类型被废弃并通过 &#8220;Copy&#8221;  型自动替换。</p>
</div></blockquote>
</li>
<li><p class="first">带空插槽的材质能正确导出，不阻断导出过程。</p>
</li>
<li><p class="first">Blender插件现在增加一个名为 <code class="docutils literal"><span class="pre">Blend4Web</span></code>  的独立插件类。</p>
</li>
<li><p class="first">不兼容的纹理和约束现在打印了Blender的UI警告。</p>
</li>
<li><p class="first">两个动画间的骨骼动画混合现在正常了。此功能仍处于试验阶段，API可随时更改。</p>
</li>
<li><p class="first">静态物理物体现在可以正确地影响一个场景当动态地加载或卸载时。</p>
</li>
<li><p class="first"><a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html">fps</a> 插件收到了一些改进。<a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.enable_fps_controls">enable_fps_controls</a> 方法现在有几个设置参数。请参阅API文档了解更多详情。</p>
</li>
<li><p class="first">API 变更。</p>
<blockquote>
<div><p><a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html">container</a> 模块的 <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.set_canvas_offsets">set_canvas_offsets</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.update_canvas_offsets">update_canvas_offsets</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.force_offsets_updating">force_offsets_updating</a> 方法已被宣布为过时，并将在以后的版本中删除。使用  <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.client_to_canvas_coords">client_to_canvas_coords</a> 或 <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.client_to_element_coords">client_to_element_coords</a> 方法。</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html">screen</a> 模块已添加。</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.request_fullscreen_hmd">request_fullscreen_hmd</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.enable_split_screen">enable_split_screen</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.disable_split_screen">disable_split_screen</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.request_fullscreen">request_fullscreen</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.exit_fullscreen">exit_fullscreen</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.check_fullscreen">check_fullscreen</a> 方法已经宣布弃用。使用 <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html#.request_fullscreen_hmd">request_fullscreen_hmd</a> <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html#.request_split_screen">request_split_screen</a> <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html#.exit_split_screen">exit_split_screen</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html#.request_fullscreen">request_fullscreen</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html#.exit_fullscreen">exit_fullscreen</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html#.check_fullscreen">check_fullscreen</a> 替代.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-hud.html#.draw_mixer_strip">draw_mixer_strip</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-hud.html#.plot_array">plot_array</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-screenshooter.html#.shot">shot</a> 方法已被宣布弃用并移动到 <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html">screen</a> 模块。 <a class="reference external" href="https://www.blend4web.com/api_doc/module-hud.html">hud</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-screenshooter.html">screenshooter</a> 模块已被宣布弃用。</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_hmd_fov">set_hmd_fov</a> 方法已被宣布弃用。</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.ground_project_quat">ground_project_quat</a> 方法已更名为 <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.ground_project_cam_quat">ground_project_cam_quat</a>.</p>
<p>下列废弃方法已经移除: camera.set_move_style, camera.has_vertical_limits, camera.has_horizontal_limits, camera.move_pivot, camera.set_velocity_params, camera.get_velocity_params, camera.clear_horizontal_limits, camera.clear_vertical_limits, camera.clear_hover_angle_limits, camera.set_look_at, camera.rotate_eye_camera, camera.rotate_target_camera, camera.set_trans_pivot, camera.zoom_object, camera.set_pivot, camera.rotate_hover_camera, camera.get_hover_cam_pivot, camera.get_eye, camera.get_pivot, camera.hover_cam_set_translation, camera.set_hover_pivot, camera.get_hover_angle_limits, camera.get_cam_dist_limits, camera.apply_vertical_limits, camera.apply_hover_angle_limits, camera.apply_distance_limits, camera.clear_distance_limits, camera.get_vertical_limits, camera.apply_horizontal_limits, camera.get_horizontal_limits, controls.register_keyboard_events, controls.register_mouse_events, controls.register_wheel_events, controls.register_touch_events, controls.register_device_orientation, controls.unregister_keyboard_events, controls.unregister_mouse_events, controls.unregister_wheel_events, controls.unregister_touch_events, controls.unregister_device_orientation, app.resize_to_container, app.set_camera_move_style, app.enable_controls, app.disable_controls, hmd.get_hmd_device, hmd.reset, animation.get_first_armature_object, animation.get_bone_translation, constraints.get_parent, util.line_plane_intersect, util.is_mesh, util.is_armature, tsr.create_sep, sfx.is_play, scenes.check_object, scenes.get_object_dg_parent, nla.check_nla_scripts, main.resize, main.global_timeline, main.get_canvas_elem.</p>
<p>添加了 <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.add_click_listener">add_click_listener</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.remove_click_listener">remove_click_listener</a> 方法。</p>
</div></blockquote>
</li>
<li><p class="first">VR模式变更。</p>
<blockquote>
<div><p>切换到VR模式现在可以无需在VR功能适配的浏览器（支持WebVR的浏览器或者移动浏览器）里重新加载应用程序来完成。</p>
<p>切换到VR模式时，相机自动旋转被禁用。</p>
<p>添加了对 WebVR 1.1 的支持。</p>
</div></blockquote>
</li>
<li><p class="first">如果应用中的物理学被禁用的话，<a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.is_character">is_character</a> 方法不再返回 <code class="docutils literal"><span class="pre">true</span></code> 。</p>
</li>
<li><p class="first">该段  <a class="reference internal" href="developers.html#non-standard-canvas-pos"><span>非标准画布位置和方向</span></a> 被重写，以反映最近的引擎变化。</p>
<blockquote>
<div><p>此外，新的段落 <a class="reference internal" href="developers.html#mobile-web-apps"><span>移动网络应用程序</span></a> 添加，描述有关的方向和一个浏览器页缩放的某些方面。</p>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="materials.html#material-api"><span>材质 API</span></a> 段落已添加到用户手册中。它描述了如何使用  <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html">material</a>  模块的API方法调整物体材质。</p>
</li>
<li><p class="first">使用在 <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.set_ssao_params">set_ssao_params</a> 和 <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_ssao_params">get_ssao_params</a> 方法中的 <code class="docutils literal"><span class="pre">SSAOParams</span></code> 物体的结构修改得更加一致。</p>
</li>
<li><p class="first"><a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.object_distance">object_distance</a> 方法已被宣布弃用，从现在开始改为使用 <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.distance">distance</a> 方法。</p>
</li>
<li><p class="first"><a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_ray_sensor">create_ray_sensor</a> 和 <a class="reference external" href="https://www.blend4web.com/api_doc/module-npc_ai.html#.new_event_track">new_event_track</a> 方法不再接受非物理物体作为参数，因为那样会导致引擎崩溃。</p>
</li>
<li><p class="first">视频纹理不再通过 <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.change_image">change_image</a> 方法进行改变。</p>
</li>
</ul>
</div>
<div class="section" id="id7">
<h3>修复<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><p class="first">修正了当锚点描述不只包含文本节点的错误。</p>
</li>
<li><p class="first">修正了由 <code class="docutils literal"><span class="pre">Emitter</span></code> 粒子系统使用了非有效材质崩溃的错误。</p>
</li>
<li><p class="first">修正了相同的同名链接的物体和组的一些错误。</p>
</li>
<li><p class="first">移除了由Blend4Web创建在其他渲染引擎中的重复 <code class="docutils literal"><span class="pre">Simplify</span></code> 面板。</p>
</li>
<li><p class="first">修正了不兼容的纹理来源的材质缓存。</p>
</li>
<li><p class="first">修正了发射粒子法线。</p>
</li>
<li><p class="first">修正了在前一个版本中渲染到纹理实效的问题。</p>
</li>
<li><p class="first">修正了几个 <a class="reference external" href="https://www.blend4web.com/api_doc/module-data.html#.prefetch">prefetch</a> 方法引起的问题。</p>
</li>
<li><p class="first">修正了 <code class="docutils literal"><span class="pre">Ultra</span></code> 模式的SRGB色彩校正。</p>
</li>
<li><p class="first">修复了 iOS 浏览器FPS 降低的问题。</p>
</li>
<li><p class="first">修正了二进制加载在tmp目录不允许执行。这个问题是通过使用标准的Blender的tmp路径来修复，可配置了。</p>
</li>
<li><p class="first">更正确的扩展了节点编辑点 <cite>Add</cite> 菜单。</p>
</li>
<li><p class="first">assets.json 已从所有blend文件中删除。</p>
</li>
<li><p class="first">修正了按F8的时候二进制模块要重载的问题。</p>
</li>
<li><p class="first">修正了HMD配置。</p>
</li>
<li><p class="first">修正了在Blender中的场景层的可见性在导出之后被改变的问题。</p>
</li>
<li><p class="first">修正了在Firefox中视频纹理的错误行为。</p>
</li>
<li><p class="first">修正了动态草的阴影和反射。</p>
</li>
<li><p class="first">修正了低质量配置被选中时的着色器编译崩溃。</p>
</li>
<li><p class="first">修正了物体的选择和带节点材质物体的阴影，其中的物体有阿尔法剪辑混合模式时的问题。</p>
</li>
<li><p class="first">修正了检查不支持的纹理尺寸。</p>
</li>
<li><p class="first">修正了带形变键的物体的重载包围盒功能的问题。</p>
</li>
<li><p class="first">修正了LOD物体的选择和外轮廓。</p>
</li>
<li><p class="first">修正物体在Blender有塌陷的阵列修改器会引起引擎崩溃。</p>
</li>
<li><p class="first">修复 <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.set_ssao_params">set_ssao_params</a> 方法引起的故障。</p>
</li>
<li><p class="first">用于编译引擎脚本和应用程序的谷歌闭包编译器已更新到最新版本。这有助于发现和修复了几个小错误。</p>
</li>
<li><p class="first">修正了物体带有毛发或发射粒子系统时应用形变键会导致引擎崩溃的问题。</p>
</li>
<li><p class="first">修正了作为锚的 <code class="docutils literal"><span class="pre">EMPTY</span></code> 物体的 &#8220;Hidden&#8221; 属性。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-12">
<h2>v16.12<a class="headerlink" href="#v16-12" title="永久链接至标题">¶</a></h2>
<div class="section" id="id8">
<h3>新功能<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">项目管理器改进。</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">New</span> <span class="pre">File</span></code> 和 <code class="docutils literal"><span class="pre">Save</span> <span class="pre">As</span></code> 按钮添加到项目文件编辑器。另外，为了简化导航，编辑器高亮显示编辑过的文件。</p>
<p>项目管理器的应用构建工具最小化编译的HTML文件，以加快他们的加载。</p>
</div></blockquote>
</li>
<li><p class="first">新的 <code class="docutils literal"><span class="pre">Cycles</span></code> 材质节点。</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Emission</span></code> 节点的支持已被添加。此节点是来自 <code class="docutils literal"><span class="pre">Shader</span></code> 类别。它负责该材质的发光部分。节点输入包括 <code class="docutils literal"><span class="pre">Color</span></code>，<code class="docutils literal"><span class="pre">Strength</span></code>。在Blend4Web，使用此节点材质只是模拟的表面的外观和不是动态光源。</p>
</div></blockquote>
</li>
<li><p class="first">改进LOD物体的渲染。</p>
<blockquote>
<div><p>从现在起的LOD物体通过于它们的LOD距离参数和它们的比例来分批次。这样，引擎尽可能有效地渲染LOD物体，试图保持合理数量的来合并物体。对于调整此行为 <code class="docutils literal"><span class="pre">LOD</span> <span class="pre">Cluster</span> <span class="pre">Size</span> <span class="pre">Multiplier</span></code> 参数加入到 <cite>Scene-&gt;Objects Clustering</cite> 面板。</p>
</div></blockquote>
</li>
<li><p class="first">新的API方法 <a class="reference external" href="https://www.blend4web.com/api_doc/module-data.html#.prefetch">prefetch</a> 和 <a class="reference external" href="https://www.blend4web.com/api_doc/module-data.html#.unfetch">unfetch</a>.</p>
<blockquote>
<div><p>第一个允许预加载场景（纹理，声音，场景文件）的资源，并对其进行缓存。第二允许清理缓存。</p>
</div></blockquote>
</li>
<li><p class="first">支持VR设备里的物体选择。</p>
<blockquote>
<div><p><a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.pick_center">pick_center</a> 方法已被添加。它允许用户获取物体中使用物体拾取功能的视口的中心。此方法既可以用于通用目的也能在VR的设备上使用。</p>
</div></blockquote>
</li>
<li><p class="first">改进的插件界面。</p>
<blockquote>
<div><p>现在单独的插件不显示开发服务器面板。已添加扩展警告，即开发服务器不可用在独立的插件里。</p>
</div></blockquote>
</li>
<li><p class="first">纹理缓存</p>
<blockquote>
<div><p>现在所有的图像的纹理都被缓存，并且如果请求一个新的纹理具有类似性质的，它将从缓存取出。这导致节省内存和显著加快对多个物体的  <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.change_image">change_image</a> 方法。</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id9">
<h3>变更<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">项目管理器变更。</p>
<blockquote>
<div><p>项目管理器文件的结构升级。现在，新的项目都放在 <code class="docutils literal"><span class="pre">projects</span></code> 目录。所有的资产都放在项目文件夹。</p>
<p>请注意 <a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html#.get_std_assets_path">get_std_assets_path()</a> 不再指定新的文件结构中项目资产目录。  用 <a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html#.get_assets_path">get_assets_path()</a>  方法替换。</p>
<p><code class="docutils literal"><span class="pre">upgrade</span> <span class="pre">file</span> <span class="pre">structure</span></code> 按钮添加到 <a class="reference internal" href="project_manager.html#updating-project-structure"><span>升级旧项目到新的结构</span></a>.</p>
<p>现在，项目管理编辑器内的文本缩进用空格代替制表符。</p>
</div></blockquote>
</li>
<li><p class="first">不支持的区域类型的灯物体从现在开始导出过程中更改为太阳的类型。在这种情况下，相关的错误消息，将在浏览器控制台进行打印。</p>
</li>
</ul>
</div>
<div class="section" id="id10">
<h3>修复<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><p class="first">修正了在移动浏览器的视频纹理错误。</p>
</li>
<li><p class="first">修正了对于静态物体透明的alpha排序类型的错误。</p>
</li>
<li><p class="first">修正了使用法线贴图材质渲染不正确的错误。</p>
</li>
<li><p class="first">修正了一个当单个物体的LOD在进行切换时具有非常明显的延迟和没有LOD在那个情况下渲染出来。</p>
</li>
<li><p class="first">修正了WebGL的2.0动态草的错误。</p>
</li>
<li><p class="first">修正了Wacom数位板互动的错误。</p>
</li>
<li><p class="first">修正了使用快速预览时“导出到不同的磁盘被禁止”的信息被显示出来。</p>
</li>
<li><p class="first">修正了DUPLI组的导出过程中无任何附加物体时会奔溃。</p>
</li>
<li><p class="first">透明材质的大于1.0的Alpha值现在正确地处理。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">PARALLAX</span></code> 节点不再让节点树崩溃，如果其输入纹理有任何输出节点除了 <code class="docutils literal"><span class="pre">PARALLAX</span></code> 节点本身。</p>
</li>
<li><p class="first">着色器节点树现在导出时预清洗，以清除未使用的节点。</p>
</li>
<li><p class="first">修复在VR模式下视口对齐。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-11">
<h2>v16.11<a class="headerlink" href="#v16-11" title="永久链接至标题">¶</a></h2>
<div class="section" id="id11">
<h3>新功能<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">添加了部分支持  <code class="docutils literal"><span class="pre">Cycles</span></code>  渲染器节点的材质。当前支持的 <code class="docutils literal"><span class="pre">Cycles</span></code> 节点的列表︰</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Material</span> <span class="pre">Output</span></code> 输出节点是类似于 <code class="docutils literal"><span class="pre">Blender</span> <span class="pre">Internal</span></code> 的  <code class="docutils literal"><span class="pre">Output</span></code>  除了它利用着色器类型输入的插槽。 <code class="docutils literal"><span class="pre">Surface</span></code> 节点输入是当前唯一被支持的。此节点定义材质，如基于物理模型的渲染 (PBR) 材质。</p>
<p><code class="docutils literal"><span class="pre">BSDF</span> <span class="pre">Diffuse</span></code> 节点是从 <code class="docutils literal"><span class="pre">Shader</span></code> 类别创建。它负责材质照明的漫反射部分，并产生不可见的反射。节点输入包括 <code class="docutils literal"><span class="pre">Color</span></code>, <code class="docutils literal"><span class="pre">Roughness</span></code>, <code class="docutils literal"><span class="pre">Normal</span></code>. 此节点有一个着色器类型输出插槽。</p>
<p><code class="docutils literal"><span class="pre">BSDF</span> <span class="pre">Glossy</span></code> 节点出自 <code class="docutils literal"><span class="pre">Shader</span></code> 类别.它是负责材质照明的镜面反射部分和环境的反射。节点输入包含 <code class="docutils literal"><span class="pre">Color</span></code>, <code class="docutils literal"><span class="pre">Roughness</span></code>, <code class="docutils literal"><span class="pre">Normal</span></code>. 此节点有一个着色器类型输出插槽。现在只支持反射分布类似是GGX。这个节点自动为物体启用实时立方体反射，它使用材质而不是设置为反射。反射环境和物体应根据标准b4w工作流程配置。粗糙度目前不影响反射。</p>
<p><code class="docutils literal"><span class="pre">Mix</span> <span class="pre">Shader</span></code> 节点出自 <code class="docutils literal"><span class="pre">Shader</span></code> 类别。此节点用于混合从着色类别的输出节点。节点输入包括 <code class="docutils literal"><span class="pre">Fac</span></code>, 定义了两个 <code class="docutils literal"><span class="pre">Shader</span></code>  输入的混合比。此节点有一个着色器类型输出插槽。</p>
<p><code class="docutils literal"><span class="pre">Fresnel</span></code> 节点出自 <code class="docutils literal"><span class="pre">Input</span></code> 类别。此节点计算多少光反射材质的层，在那里剩余部分会折射通过层。由此产生的权重值可以用于分层着色器在  <code class="docutils literal"><span class="pre">Mix</span> <span class="pre">Shader</span></code> 节点。它是依赖于表面法线和查看方向之间的角度。节点输入包括  <code class="docutils literal"><span class="pre">IOR</span></code> （折射率） 和  <code class="docutils literal"><span class="pre">Normal</span></code> 。此节点具有一个标量类型输出插槽。</p>
<p><code class="docutils literal"><span class="pre">Layer</span> <span class="pre">Weight</span></code>  节点出自 <code class="docutils literal"><span class="pre">Input</span></code>  类别。此节点定义通常用于与混合着色器节点的分层着色器的权重值。节点输入包括 <code class="docutils literal"><span class="pre">Blend</span></code> 和 <code class="docutils literal"><span class="pre">Normal</span></code>。节点输出包括 <code class="docutils literal"><span class="pre">Fresnel</span></code> 和 <code class="docutils literal"><span class="pre">Facing</span></code>.</p>
<p>其他受支持的节点包括 <code class="docutils literal"><span class="pre">Image</span> <span class="pre">Texture</span></code>, <code class="docutils literal"><span class="pre">Environment</span> <span class="pre">Texture</span></code>, <code class="docutils literal"><span class="pre">Object</span> <span class="pre">Info</span></code>, <code class="docutils literal"><span class="pre">Bump</span></code>.</p>
<p>其他部分受支持的节点包括 <code class="docutils literal"><span class="pre">Texture</span> <span class="pre">Coordinate</span></code> (<cite>From Dupli</cite> 参数不支持), <code class="docutils literal"><span class="pre">UV</span> <span class="pre">Map</span></code> (<cite>From Dupli</cite> 参数不支持), <code class="docutils literal"><span class="pre">Geometry</span></code> (<cite>Pointness</cite> 和 <cite>Parametric</cite> 输出不支持).</p>
<p>节点支持在以前的 b4w 版本，用于 <code class="docutils literal"><span class="pre">Cycles</span></code> 和 <code class="docutils literal"><span class="pre">Blender</span> <span class="pre">Internal</span></code>, 也将在新的 PBR 材质里正常工作。此类节点包括 <code class="docutils literal"><span class="pre">Color</span> <span class="pre">Ramp</span></code>, <code class="docutils literal"><span class="pre">Normal</span> <span class="pre">Map</span></code>, <code class="docutils literal"><span class="pre">Camera</span> <span class="pre">Data</span></code>, <code class="docutils literal"><span class="pre">Particle</span> <span class="pre">Info</span></code>, <code class="docutils literal"><span class="pre">RGB</span></code>, <code class="docutils literal"><span class="pre">Value</span></code>,节点出自  <code class="docutils literal"><span class="pre">Convertor</span></code> 类别 （除了黑体和波长节点），出自 <code class="docutils literal"><span class="pre">Vector</span></code> 类别节点，出自 <code class="docutils literal"><span class="pre">Color</span></code> 类别节点 （除了 <code class="docutils literal"><span class="pre">Light</span> <span class="pre">Falloff</span></code> 节点）。</p>
</div></blockquote>
</li>
<li><p class="first">项目管理器改进。</p>
<blockquote>
<div><p>添加项目文件编辑器。现在可以在项目管理器中编辑 CSS、 JavaScript、 HTML 和.b4w_project 文件。</p>
</div></blockquote>
</li>
<li><p class="first">新的第一人称 (fps) 插件被添加。</p>
<blockquote>
<div><p>有助于更容易创建第一人应用程序的插件。有两个主要方法:  <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.enable_fps_controls">enable_fps_controls</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.disable_fps_controls">disable_fps_controls</a>.第一个将创建默认的手柄和键盘控制，启用鼠标和触摸摄像机的运动，如果VR模式启用，启动虚拟摄像机的旋转。第二个禁用这些控件。新的插件里面也有其他一些方法：<a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.bind_action">bind_action</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.set_character_state_changing_cb">set_character_state_changing_cb</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.set_cam_smooth_factor">set_cam_smooth_factor</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.set_cam_sensitivity">set_cam_sensitivity</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.set_plock_enable_cb">set_plock_enable_cb</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.set_plock_disable_cb">set_plock_disable_cb</a>.</p>
</div></blockquote>
</li>
<li><p class="first">增强了 3D 导航网格。</p>
<blockquote>
<div><p>现在  <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html">physics</a>  模块的 <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.navmesh_find_path">navmesh_find_path</a> 方法用来发现 3d 路径，它使我们能够构建垂直表面上的路径。以前，只能够建立在水平面上的路径。 <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.navmesh_find_path">navmesh_find_path</a>  方法的参数已被更改。导航网格初始化时间已减少。A* 算法进行了改进。</p>
</div></blockquote>
</li>
<li><p class="first">Blend4Web插件可用性改进。</p>
<blockquote>
<div><p>插件中的 Blend4Web SDK 目录属性字段已被删除。现在，Blend4Web SDK 目录路径自动解析。</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id12">
<h3>变更<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">API 变更。</p>
<blockquote>
<div><p><a class="reference external" href="https://www.blend4web.com/api_doc/module-screenshooter.html#.shot">shot</a> 方法的参数和  <a class="reference external" href="https://www.blend4web.com/api_doc/module-main.html#.canvas_data_url">canvas_data_url</a> 方法已被更改。</p>
<p>一个新的函数  <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_camera_angles_dir">get_camera_angles_dir</a> 已经添加进 <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera</a> 模块。它允许从给定的方向下相机视图矢量得到相机的球面坐标。</p>
</div></blockquote>
</li>
<li><p class="first">简化的环境设置。</p>
<blockquote>
<div><p>水现在使用默认风当风物体是没加在场景中。现在水物体永远是动态。太阳物体是缺席在场景中时程序天空使用默认太阳方向。</p>
</div></blockquote>
</li>
<li><p class="first">NPC AI现在初始化时缓存所有动画。</p>
<blockquote>
<div><p>这有点增加加载时间，但消除了 npc 动画造成的实时延迟。</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Fast</span> <span class="pre">Preview</span></code> 按钮现在在 Cycles渲染器面板出现。</p>
</li>
<li><p class="first"><a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_all_objects">get_all_objects</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_object_by_name">get_object_by_name</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.check_object_by_name">check_object_by_name</a> 方法不再返回引擎内部元物体，已经不在应用程序中使用。</p>
</li>
</ul>
</div>
<div class="section" id="id13">
<h3>修复<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">项目管理器与旧的构建类型 <code class="docutils literal"><span class="pre">update</span></code>  兼容性被添加 。</p>
</li>
<li><p class="first">在项目管理器中用特定的编码的错误得到修正。</p>
</li>
<li><p class="first">在项目管理器中相同的模块名称冲突的错误得到修复。</p>
</li>
<li><p class="first">镜面着色 bug 修复。</p>
<blockquote>
<div><p>该 bug发生在当两个或更多的灯被用于 Blinn 镜面型材质，被修复。</p>
</div></blockquote>
</li>
<li><p class="first">NLA卸载错误得到修复。</p>
<blockquote>
<div><p>现在所有属于卸载场景的物体，从NLA移除。</p>
</div></blockquote>
</li>
<li><p class="first">立体闪烁 bug 修复。</p>
<blockquote>
<div><p>使用运动模糊效果该 bug 出现。</p>
</div></blockquote>
</li>
<li><p class="first">使用快速预览时，在临时文件夹中用相同名字覆盖掉资源的问题被修复。</p>
</li>
<li><p class="first">下载截图时网络错误得到修复。</p>
</li>
<li><p class="first">修复发生在某些场景中的低质量模式的着色器崩溃。</p>
</li>
<li><p class="first">修复场景没有 <code class="docutils literal"><span class="pre">MESH</span></code> 物体时引擎崩溃。</p>
</li>
<li><p class="first">修复 <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.track_to_target">track_to_target</a>  以前执行不正确缩放动画的方法。</p>
</li>
<li><p class="first">修正了一个罕见有关空粒子纹理插槽，这可能导致导出崩溃。</p>
</li>
<li><p class="first">修正了程序线的渲染。</p>
</li>
<li><p class="first">修复 <code class="docutils literal"><span class="pre">Play</span> <span class="pre">Animation</span></code> 逻辑节点当第一次播放后动画停止。</p>
</li>
<li><p class="first">修复 navmesh 模块没有 &#8216;TypedArray&#8217; 的  <cite>indexOf</cite> 方法时在 web 浏览器里崩溃。</p>
</li>
<li><p class="first">修复资源转换时如果 <cite>ffprobe</cite> 找不到 <code class="docutils literal"><span class="pre">Project</span> <span class="pre">Manager</span></code> 会有无声故障。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-10">
<h2>v16.10<a class="headerlink" href="#v16-10" title="永久链接至标题">¶</a></h2>
<div class="section" id="id14">
<h3>新功能<a class="headerlink" href="#id14" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">增加了导航网格的支持。</p>
<blockquote>
<div><p>有两种方法被添加到 <code class="docutils literal"><span class="pre">physics</span></code> 模块：为获得最接近导航网格段的 <code class="docutils literal"><span class="pre">navmesh_get_island</span></code> 和为寻路的 <code class="docutils literal"><span class="pre">navmesh_find_path</span></code> 。</p>
<p>两种类型的路径是可用的：一条基于三角形中心的路径，和更优化的 - <code class="docutils literal"><span class="pre">pulled</span> <span class="pre">string</span></code>。</p>
<p>请参见 <code class="docutils literal"><span class="pre">代码片段</span></code> 应用的例子。</p>
</div></blockquote>
</li>
<li><p class="first">新的逻辑节点 <code class="docutils literal"><span class="pre">设置相机移动类型</span></code> 。</p>
<blockquote>
<div><p>这个节点允许改变的相机的移动方式和速度。为 <code class="docutils literal"><span class="pre">Target</span></code> 和 <code class="docutils literal"><span class="pre">Hover</span></code> 照相机类型的目标参数可以设置为单独的坐标或设置目标物体。</p>
</div></blockquote>
</li>
<li><p class="first">切向着色支持编辑法线。</p>
<blockquote>
<div><p>切线着色现在支持编辑法线。</p>
</div></blockquote>
</li>
<li><p class="first">提高项目管理器的可用性。</p>
<blockquote>
<div><p>现在的应用，Blend文件和项目资产会在一个新的浏览器卡片中打开。让你的项目管理器留在原来同一个窗口，使工作效率更高。</p>
<p><code class="docutils literal"><span class="pre">编译项目</span></code> 命令改名为 <code class="docutils literal"><span class="pre">构建项目</span></code>。这个新的名称更适合于该命令的性质。</p>
</div></blockquote>
</li>
<li><p class="first">新的环境纹理混合类型。</p>
<blockquote>
<div><p>现在，所有的纹理混合类型，支持环境照明。</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Sphere</span></code> 标志现在支持 <code class="docutils literal"><span class="pre">Point</span></code> 和 <code class="docutils literal"><span class="pre">Spot</span></code> 灯。</p>
<blockquote>
<div><p>此标志允许，指定的光的强度下降到零的距离。</p>
</div></blockquote>
</li>
<li><p class="first">旋转的包围框。</p>
<blockquote>
<div><p>现在，旋转边界框用于域剔除计算。此外，旋转椭球体边界框现在支持动态物体。</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">JS</span> <span class="pre">Callback</span></code> 逻辑节点现在可以同步调用。</p>
<blockquote>
<div><p>当回调返回是 <code class="docutils literal"><span class="pre">true</span></code> 时该节点冻结整个节点树的执行，返回是 <code class="docutils literal"><span class="pre">true</span></code> 时节点完成执行。</p>
</div></blockquote>
</li>
<li><p class="first">新的API方法 <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_fog_params">get_fog_params</a> 和 <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.set_fog_params">set_fog_params</a>.</p>
<blockquote>
<div><p>这些方法允许在一个场景控制薄雾。雾参数包含 <cite>fog_intensity</cite>，<cite>fog_depth</cite>，<cite>fog_start</cite> 和 <cite>fog_height</cite> 属性。</p>
</div></blockquote>
</li>
<li><p class="first">在新的 API 方法  <a class="reference external" href="https://www.blend4web.com/api_doc/module-anchors.html#.update">update</a>.</p>
<blockquote>
<div><p>这种方法允许更新锚位置。</p>
</div></blockquote>
</li>
<li><p class="first">增加了对不同类型的VBO缓存的支持。</p>
<blockquote>
<div><p>有些属性被更改为类型 <code class="docutils literal"><span class="pre">UNSIGNED</span> <span class="pre">BYTE</span></code> 和 <code class="docutils literal"><span class="pre">SHORT</span></code> 而不是 <code class="docutils literal"><span class="pre">FLOAT</span></code> 无质量损失并降低总GPU内存的消耗。这也会影响性能，可以增加某些演示的帧速率。将导出的顶点色从 <code class="docutils literal"><span class="pre">SHORT</span></code> 变为 <code class="docutils literal"><span class="pre">UNSIGNED</span> <span class="pre">BYTE</span></code> 类型随着导出的 <code class="docutils literal"><span class="pre">.bin</span></code> 文件的大小也略下降。</p>
</div></blockquote>
</li>
<li><p class="first">在 <code class="docutils literal"><span class="pre">ULTRA</span></code> 模式正确的SRGB转换函数现在用来代替一个简化的。</p>
<blockquote>
<div><p>效果在暗区比较明显，其中简化函数不产生精确的颜色。</p>
</div></blockquote>
</li>
<li><p class="first">在 3D VIEW 面板添加了特别的按钮来启用/禁用 <code class="docutils literal"><span class="pre">世界背景</span></code> 选项。</p>
<blockquote>
<div><p>这些按钮布置在 <code class="docutils literal"><span class="pre">World</span></code> 标签，如果 <code class="docutils literal"><span class="pre">Render</span> <span class="pre">Sky</span></code> 选项已设置应该被使用。启用 <code class="docutils literal"><span class="pre">世界背景</span></code> 显示在视口中的世界颜色（和在引擎中一样）。</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id15">
<h3>变更<a class="headerlink" href="#id15" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">在SDK内重构项目。</p>
<blockquote>
<div><p>现在所有项目（包括教程）在SDK包内遵循标准的项目管理器目录层次结构。</p>
</div></blockquote>
</li>
<li><p class="first">从预览器应用程序中删除场景列表。</p>
<blockquote>
<div><p>同样的功能（浏览和查看项目资产）可以使用项目管理器进行。</p>
</div></blockquote>
</li>
<li><p class="first">API文档 <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html">input</a> 模块已增强，增加了使用功能的示例。</p>
</li>
<li><p class="first">降低了 <a class="reference internal" href="meshes.html#batching"><span>batches</span></a> 数从而优化场景渲染。</p>
<blockquote>
<div><p>这种优化主要影响阴影和头发粒子。使用此功能增加了场景的帧速率。</p>
</div></blockquote>
</li>
<li><p class="first">现在，在默认情况下键盘设备连接到文档物体。</p>
</li>
<li><p class="first">新增 <code class="docutils literal"><span class="pre">None</span></code> 作为一个新的引擎绑定类型。</p>
<blockquote>
<div><p>这意味着在构建阶段项目管理器不会改变你的项目。</p>
</div></blockquote>
</li>
<li><p class="first">删除了 <code class="docutils literal"><span class="pre">Update</span></code> 引擎绑定类型。</p>
<blockquote>
<div><p>使用 <code class="docutils literal"><span class="pre">Copy</span></code> 引擎绑定类型和项目管理器的部署功能做相同事。</p>
</div></blockquote>
</li>
<li><p class="first">新增轻量级的SDK版本。</p>
<blockquote>
<div><p>现在Blend4Web PRO和Blend4Web CE的SDK可用轻量版本，其中不包括演示应用程序和教程。这些版本建议给互联网连接速度较慢的用户。</p>
</div></blockquote>
</li>
<li><p class="first">为 Intel HD Graphics 3000 显卡启用深度纹理，它允许在此设备上启用使用这种效果的阴影，上帝光芒，景深和其他一些特效。</p>
</li>
<li><p class="first">现在，NLA动画从 <em>顶点</em> 动画本身的帧的开始/结束取值。</p>
<blockquote>
<div><p>这使得一个物体的多个顶点动画可由NLA控制。</p>
</div></blockquote>
</li>
<li><p class="first">一些移动设备（包括IOS）现在不强制使用低质量的节点材质。</p>
</li>
<li><p class="first">AIP文档添加 <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#~BloomParams">BloomParams</a> 。一些参数已经改名。</p>
</li>
<li><p class="first">更改 mouse_click，MOUSE_MOVE，touch_click和TOUCH_MOVE传感器装置。现在是一个字典，包含绝对坐标（<code class="docutils literal"><span class="pre">coords</span></code>）对上述所有; <code class="docutils literal"><span class="pre">which</span></code> 为点击鼠标; <code class="docutils literal"><span class="pre">gesture</span></code> 为TOUCH_MOVE。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">default_AND_logic_fun</span></code> 和 <code class="docutils literal"><span class="pre">default_AND_logic_fun</span></code> 逻辑函数现在 <code class="docutils literal"><span class="pre">controls</span></code> 模块中可用。</p>
</li>
<li><p class="first">删除了二进制模块交叉编译的过时脚本。</p>
</li>
<li><p class="first">API方法 <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.set_nodemat_value">set_nodemat_value</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_nodemat_value">get_nodemat_value</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.set_nodemat_rgb">set_nodemat_rgb</a> 和 <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_nodemat_rgb">get_nodemat_rgb</a> 已经废弃并移动到 <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html">material</a>  模块。</p>
</li>
</ul>
</div>
<div class="section" id="id16">
<h3>修复<a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><p class="first">修正了 <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.quat_to_euler">quat_to_euler</a> 函数。</p>
</li>
<li><p class="first">修复 <code class="docutils literal"><span class="pre">法线贴图</span></code> 节点用非单元强度参数的不正确的行为。</p>
</li>
<li><p class="first">修正了在逻辑节点中物体的某些运行时检查。</p>
</li>
<li><p class="first">修正了当多种材质之间共享纹理时无法对一个物体修改纹理 (  <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.change_image">change_image</a> 函数) 。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">CookTorr</span></code> 镜面模式现在看起来跟在Blender中一致。</p>
</li>
<li><p class="first">在非深度复制物体中 <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Sort</span></code> 材质现在可以正确地表现。</p>
</li>
<li><p class="first">修正了 <a class="reference external" href="https://www.blend4web.com/api_doc/module-math.html#.create_pline_from_point_vec">create_pline_from_point_vec</a> 和 <a class="reference external" href="https://www.blend4web.com/api_doc/module-math.html#.set_pline_initial_point">set_pline_initial_point</a> 方法。</p>
</li>
<li><p class="first">基于 <a class="reference external" href="https://www.blend4web.com/api_doc/module-npc_ai.html">npc_ai</a> 模块行为的行走角色现在不会掉进地底下了。</p>
</li>
<li><p class="first">修正了当两个或两个以上锚类型为 <code class="docutils literal"><span class="pre">Custom</span> <span class="pre">Element</span></code> 可以引用同一元素的ID的错误。</p>
</li>
<li><p class="first">修复球面广告牌反射。</p>
</li>
<li><p class="first">在Firefox修正了在暂停了 <code class="docutils literal"><span class="pre">背景声</span></code> 和 <code class="docutils literal"><span class="pre">位置声</span></code> 音箱然后恢复声音出的问题。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-09">
<h2>v16.09<a class="headerlink" href="#v16-09" title="永久链接至标题">¶</a></h2>
<div class="section" id="id17">
<h3>新功能<a class="headerlink" href="#id17" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">网络播放器改进</p>
<blockquote>
<div><p>设置一个放置在加载场景的右下角的社交网络按钮的选项。要做到这一点，你需要在应用程序启动之前指定 <code class="docutils literal"><span class="pre">socials</span></code> <a class="reference internal" href="web_player.html#webplayer-attributes"><span>属性</span></a> 。</p>
</div></blockquote>
</li>
<li><p class="first">坐标系统变更。</p>
<blockquote>
<div><p>现在使用Blender的坐标空间来替代使用OpenGL的。这一新行为可能在应用程序逻辑中引入各种不兼容的情况。建议开发人员查看他们的应用程序并进行更改，根据新的坐标空间 （Z 矢量向上）。</p>
</div></blockquote>
</li>
<li><p class="first">优化的几何渲染。</p>
<blockquote>
<div><p>通过实施一种在 GPU 内存中存储数据的新算法进行了优化几何渲染。现在法线和切线数据已存储于 TBN 四元数。</p>
</div></blockquote>
</li>
<li><p class="first">项目管理器改进。</p>
<blockquote>
<div><p>添加新的 &#8216;update_modules&#8217; 命令到 <em>project.py</em> 实用程序。此命令允许用户更新内部开发的应用程序的引擎的模块。此功能大大简化了更新项目文件到较新的 Blend4Web 版本的过程。</p>
</div></blockquote>
</li>
<li><p class="first">自动质量侦测</p>
<blockquote>
<div><p>通过在 <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html">app</a> 模块指定自动  (<a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html#.P_AUTO">P_AUTO</a>)  质量配置文件，可以具体取决您的硬件规格然后加载低或高质量的应用程序。此外，低级别性能基准测定可以使用执行  <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.test_performance">test_performance</a> 方法。</p>
</div></blockquote>
</li>
<li><p class="first">PVRTC 转换支持。</p>
<blockquote>
<div><p>现在支持 PVRTC 转换。这允许开发人员在 iOS 和基于PowerVR的 Android 设备上使用压缩的纹理。</p>
</div></blockquote>
</li>
<li><p class="first">增加阴影质量设置。</p>
<blockquote>
<div><p>现在就可以设置不同的质量配置的软阴影︰ 16 x，8 x，4 x。</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Render</span></code> 标签里添加了 <code class="docutils literal"><span class="pre">Shading</span></code> 面板。它包含了  <code class="docutils literal"><span class="pre">World</span> <span class="pre">Space</span> <span class="pre">Shading</span></code>  选项和 <code class="docutils literal"><span class="pre">Set</span> <span class="pre">Recommended</span> <span class="pre">Options</span></code> 按钮来自动配置Blender，为更好的Blend4Web体验。</p>
</li>
<li><p class="first">添加了对Blender 2.78 的支持。</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">World</span> <span class="pre">Space</span> <span class="pre">Shading</span></code> 选项搭配环境照明支持使得在视口中的GLSL模式渲染和b4w的视口预览最大程度的一致。</p>
<p>完全支持新的  <code class="docutils literal"><span class="pre">Normal</span> <span class="pre">Map</span></code> 着色器节点。</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id18">
<h3>变更<a class="headerlink" href="#id18" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><p class="first">指定着色器指令系统被重构。此功能可以减少引擎加载时间和简化调试。</p>
</li>
<li><p class="first">在某些设备上使用 &#8220;translate3d&#8221; CSS 属性渲染锚被加快了。</p>
</li>
<li><p class="first">着色器验证已得到改进，从而降低假阴性的错误的数量。已添加更多的错误说明。</p>
</li>
<li><p class="first">着色器计算的主要部分从矩阵转到 TSR 来提高性能。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">渲染</span></code> 选项卡面板的顺序被重新安排。</p>
</li>
</ul>
</div>
<div class="section" id="id19">
<h3>修复<a class="headerlink" href="#id19" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><p class="first">修正了如果在场景中有许多锚会在三星互联网浏览器中崩溃的问题。</p>
</li>
<li><p class="first">修复了网络播放器 &#8220;alpha&#8221; 属性不起作用的问题。</p>
</li>
<li><p class="first">修复编译/链接着色器错误消息。</p>
</li>
<li><p class="first">修复了在  <code class="docutils literal"><span class="pre">Transform</span> <span class="pre">Object</span></code> 逻辑节点中的变量值定义的角度旋转问题。</p>
</li>
<li><p class="first">修复了 <code class="docutils literal"><span class="pre">Play</span> <span class="pre">Animation</span></code>  逻辑节点在烘焙和非烘焙版本的动作并存时的行为问题。</p>
</li>
<li><p class="first">修复平面反射的质量设置。</p>
</li>
<li><p class="first">修复了 <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_translation_rel">get_translation_rel</a> 和 <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_rotation_rel">get_rotation_rel</a> 方法。</p>
</li>
<li><p class="first">修复 <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.set_dof_params">set_dof_params</a> 方法是 dof_distance 设置。</p>
</li>
<li><p class="first">修复了当同时启用  <code class="docutils literal"><span class="pre">Do</span> <span class="pre">Not</span> <span class="pre">Render</span></code> 和 <code class="docutils literal"><span class="pre">Enable</span> <span class="pre">Outlining</span></code> 两个选项的物体在被选择后导致引擎崩溃的问题。</p>
</li>
<li><p class="first">修复粒子系统的物理</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-08">
<h2>v16.08<a class="headerlink" href="#v16-08" title="永久链接至标题">¶</a></h2>
<div class="section" id="id20">
<h3>新功能<a class="headerlink" href="#id20" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">现在支持材质的  <code class="docutils literal"><span class="pre">切向着色</span></code> 选项。</p>
<blockquote>
<div><p>此选项可以用于模仿各向异性材质的表面，抛光的金属、 头发等。</p>
</div></blockquote>
</li>
<li><p class="first">现在支持着色器节点 <code class="docutils literal"><span class="pre">Normal</span> <span class="pre">Map</span></code> 。</p>
<blockquote>
<div><p>此节点允许颜色数据从纹理转换为法线贴图。输入的数据可以在切线、 物体或世界坐标空间。<code class="docutils literal"><span class="pre">Strength</span></code> 参数控制从物体的默认法线与纹理所提取的法线的混合值。</p>
<p>纹理图像的色彩空间应设置为  <code class="docutils literal"><span class="pre">Non-Color</span></code> ，使Blender的视口预览与最终 Blend4Web 场景中渲染的效果一致。</p>
</div></blockquote>
</li>
<li><p class="first">引擎CPU优化。</p>
<blockquote>
<div><p>有在引擎的核心系统进行了几个 CPU 和 GC （垃圾回收器） 优化。 <code class="docutils literal"><span class="pre">OES_vertex_array_object</span></code>  扩展在相应的硬件上获得支持。统一和着色器的使用也被优化以减少的 WebGL 调用总量。这应该改善场景加载时间和渲染响应能力，特别是在慢的 CPU上。</p>
</div></blockquote>
</li>
<li><p class="first">查看器应用程序的界面改进。</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Tools</span> <span class="pre">&amp;</span> <span class="pre">Debug</span></code> 面板已被移动，现在位于  <code class="docutils literal"><span class="pre">Scenes</span></code>  面板下面。</p>
<p><code class="docutils literal"><span class="pre">Min</span> <span class="pre">capabilities</span> <span class="pre">mode</span></code> 按钮已经被添加到 <code class="docutils literal"><span class="pre">Tools</span> <span class="pre">&amp;</span> <span class="pre">Debug</span></code> 面板。此参数使预览器应用程序能够运行加载的场景，就好像它在低端的系统 （如 iOS 设备） 上运行。这允许艺术家要找出哪个场景中的材质可能无法按意图在低端的配置工作。</p>
</div></blockquote>
</li>
<li><p class="first">法线编辑器的改进。</p>
<blockquote>
<div><p>为法线编辑器添加 <code class="docutils literal"><span class="pre">Offset</span></code> 模式。</p>
<p>添加 <code class="docutils literal"><span class="pre">Average</span></code> 操作支持非分裂法线。</p>
<p>增加键入法线旋转角度就像输入物体的旋转角度一样。</p>
</div></blockquote>
</li>
<li><p class="first">在新的 API 方法  <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html">textures</a> 模块。</p>
<blockquote>
<div><p>添加 <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.get_texture_names">get_texture_names</a> 方法。它使我们能够得到的所有物体的纹理名称。</p>
</div></blockquote>
</li>
<li><p class="first">在 <a class="reference external" href="https://www.blend4web.com/api_doc/module-lights.html">lights</a> 模块中新的 API 方法。</p>
<blockquote>
<div><p>添加 <a class="reference external" href="https://www.blend4web.com/api_doc/module-lights.html#.get_light_color">get_light_color</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-lights.html#.set_light_color">set_light_color</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-lights.html#.get_light_energy">get_light_energy</a> 和 <a class="reference external" href="https://www.blend4web.com/api_doc/module-lights.html#.set_light_energy">set_light_energy</a> 方法。这些用来处理一盏灯的颜色和能量值。</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Hidden</span></code> 物体属性的支持。</p>
<blockquote>
<div><p>此标志将会在场景加载时隐藏物体。</p>
</div></blockquote>
</li>
<li><p class="first">对 GLSL ES 3.0 着色器的支持。</p>
<blockquote>
<div><p>从现在起引擎自动选择应该用哪个版本的 OpenGL 着色语言来编译/链接着色器。它取决于 WebGL 上下文︰WebGL 1使用GLSL ES 1版本和WebGL 2用GLSL ES 3。引擎的渲染系统和宏预处理器也改为与这些更改兼容。</p>
<p>此功能解除对执行有关WebGL2的不兼容问题的新功能的限制。</p>
</div></blockquote>
</li>
<li><p class="first">着色器分析仪进行了改进。</p>
<blockquote>
<div><p>着色器分析仪 (方法 <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.analyze_shaders">analyze_shaders</a>)现在打印低级程序代码集有助于审查和优化着色器。</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id21">
<h3>变更<a class="headerlink" href="#id21" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">景深 (DOF) 散景效果算法的改进。</p>
<blockquote>
<div><p>强度泄漏 （或像素出血） 瑕疵，当焦点的前景物体出现  &#8216;leak&#8217; 到模糊的背景，减少了。</p>
<p>添加  <code class="docutils literal"><span class="pre">Foreground</span> <span class="pre">Blur</span></code> 属性。当启用时，它减少了非聚焦的前景物体在聚焦的背景上出现尖锐的外轮廓显示。</p>
<p>前景的 <code class="docutils literal"><span class="pre">Front</span> <span class="pre">Start</span></code>, <code class="docutils literal"><span class="pre">Front</span> <span class="pre">End</span></code> 属性和背景的 <code class="docutils literal"><span class="pre">Rear</span> <span class="pre">Start</span></code>, <code class="docutils literal"><span class="pre">Rear</span> <span class="pre">End</span></code> 属性，使我们能够指定一个模糊开始，并达到最大值的距离。</p>
</div></blockquote>
</li>
<li><p class="first">默认情况下反射世界。</p>
</li>
<li><p class="first">着色器验证算法改进提升。</p>
<blockquote>
<div><p>如果材质不能在低端的设备上渲染，取而代之的是调试错误 （粉红色） 材质，它会在生产环境删除。</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id22">
<h3>修复<a class="headerlink" href="#id22" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">修复转化顶点组长度。</p>
<blockquote>
<div><p>修复了为顶点组长度的 <em>毛发</em> 粒子系统的转化操作。</p>
</div></blockquote>
</li>
<li><p class="first">修复了移动物体在 <cite>法线编辑器</cite> 中的法线旋转问题。</p>
</li>
<li><p class="first">修复了罕见的使用了逻辑节点的场景在加载的时候会让引擎崩溃的问题。</p>
</li>
<li><p class="first">修复查看器应用程序中材质面板。有些材质，允许进行编辑却被禁用的问题。</p>
</li>
<li><p class="first">修复在移动设备上引擎崩溃问题。</p>
</li>
<li><p class="first">修复了移动浏览器上有闪烁问题。</p>
</li>
<li><p class="first">动态水物体加载崩溃已得到修复。</p>
</li>
<li><p class="first">修复对材质的反射的法线影响。</p>
</li>
<li><p class="first">当在iPad上敲击网络播放器时禁用灰色高亮。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-07">
<h2>v16.07<a class="headerlink" href="#v16-07" title="永久链接至标题">¶</a></h2>
<div class="section" id="id23">
<h3>新功能<a class="headerlink" href="#id23" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Optimized Particle system rendering.</p>
<blockquote>
<div><p>Now WebGL instancing capabilities are used (provided by the ANGLE_instanced_arrays extension or WebGL 2.0) to render <code class="docutils literal"><span class="pre">Object</span></code>-type particles. This type of rendering is more memory efficient and, in some cases, also improves rendering performance.</p>
</div></blockquote>
</li>
<li><p class="first">Reduced input latency on mobile devices.</p>
<blockquote>
<div><p>Now the engine ignores mouse events that represent actions that already have been handled by internal Blend4Web touch-event handlers on mobile versions of Chrome, Firefox, Safari. It reduces delays in user actions.</p>
</div></blockquote>
</li>
<li><p class="first">Audio system improvements.</p>
<blockquote>
<div><p>Automatic audio context creation. The <code class="docutils literal"><span class="pre">Audio</span></code> checkbox has been removed from the addon. If necessary, scene audio context is created automatically.</p>
<p>Doppler effect implementation. In recent versions of WebAudio spec Doppler effect was removed. It&#8217;s now supposed that application developers should implement this effect themselves. From this release you can use in-engine implementation. A new option called <code class="docutils literal"><span class="pre">Enable</span> <span class="pre">Doppler</span></code> has been added, replacing the deprecated <code class="docutils literal"><span class="pre">Disable</span> <span class="pre">Doppler</span></code>.</p>
<p>Reworked audio interface. New settings have been designed to be as close as possible to the native Blender settings. This includes support for such settings as <code class="docutils literal"><span class="pre">Speed</span></code>, <code class="docutils literal"><span class="pre">Doppler</span></code> and <code class="docutils literal"><span class="pre">Distance</span> <span class="pre">Model</span></code>.</p>
<p>New <code class="docutils literal"><span class="pre">Auto-play</span></code> speaker option. This option enables speaker playback by default.</p>
<p>Preliminary support for complex audio loops. Using new <code class="docutils literal"><span class="pre">Loop</span> <span class="pre">Start</span></code> and <code class="docutils literal"><span class="pre">Loop</span> <span class="pre">End</span></code> options as well as <a class="reference external" href="https://www.blend4web.com/api_doc/module-sfx.html#.loop_stop">loop_stop</a> API method you can create complex audio loops, which include start, loop and stop sections in one audio buffer. For example, you can create basic ADSR (attack, decay, sustain, release) envelopes using this new API.</p>
</div></blockquote>
</li>
<li><p class="first">Support for multi-touch selection in selection sensor.</p>
<blockquote>
<div><p>Now selection sensors are able to use multi-touch selection in <a class="reference external" href="https://www.blend4web.com/doc/en/developers.html?highlight=sensor#event-driven-model">Event-Driven Model</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Node materials animation improvements.</p>
<blockquote>
<div><p>Now any node animation can be applied to any node material or its nested node groups. Also, there is a new <a class="reference external" href="https://www.blend4web.com/api_doc/module-animation.html#.apply_ext">apply_ext()</a> method that allows specifying material or a node group that is to be animated.</p>
</div></blockquote>
</li>
<li><p class="first">A new method has been added into the <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html">preloader</a> module: <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html#.create_preloader">create_preloader</a>.</p>
</li>
<li><p class="first">Configuration parameters <code class="docutils literal"><span class="pre">max_fps</span></code>, <code class="docutils literal"><span class="pre">max_fps_physics</span></code>, <code class="docutils literal"><span class="pre">use_min50</span></code>, <code class="docutils literal"><span class="pre">anisotropic_filtering</span></code>, <code class="docutils literal"><span class="pre">shadows</span></code>, <code class="docutils literal"><span class="pre">reflections</span></code>, <code class="docutils literal"><span class="pre">refractions</span></code>, <code class="docutils literal"><span class="pre">ssao</span></code>, <code class="docutils literal"><span class="pre">dof</span></code>, <code class="docutils literal"><span class="pre">god_rays</span></code>, <code class="docutils literal"><span class="pre">bloom</span></code> and <code class="docutils literal"><span class="pre">motion_blur</span></code> have been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html">config</a> API module.</p>
</li>
</ul>
</div>
<div class="section" id="id24">
<h3>变更<a class="headerlink" href="#id24" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Color picking optimization.</p>
<blockquote>
<div><p>Now color picking uses very narrow frustum and a small framebuffer size (<code class="docutils literal"><span class="pre">1</span> <span class="pre">x</span> <span class="pre">1</span></code> pix).
Also, amount of <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.pick_object">pick_object</a> calls has been reduced. This improves
performance of selection sensor.</p>
</div></blockquote>
</li>
<li><p class="first">Depth-of-field (DOF) effect improvements.</p>
<blockquote>
<div><p>DOF effect performance has been increased.</p>
<p>An experimental DoF effect algorithm has been added. It varies the amount of blur depending on depth and produces bokeh effect on blurred objects. New algorithm can be enabled via <code class="docutils literal"><span class="pre">Bokeh</span></code> property from the camera properties panel in Blender.</p>
</div></blockquote>
</li>
<li><p class="first">API 变更。</p>
<blockquote>
<div><p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html#.create_simple_preloader">create_simple_preloader</a> method of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html">preloader</a> module has been declared deprecated and will be removed in future releases.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id25">
<h3>修复<a class="headerlink" href="#id25" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Fixed the broken Canvas Resolution Factor slider in the Scene Viewer.</li>
<li>Fixed <code class="docutils literal"><span class="pre">get_matrix</span></code>, <code class="docutils literal"><span class="pre">set_matrix</span></code>, <code class="docutils literal"><span class="pre">get_matrix_rel</span></code>, <code class="docutils literal"><span class="pre">set_matrix_rel</span></code> methods of the <code class="docutils literal"><span class="pre">transform</span></code> module.</li>
<li>Fixed definition of the <code class="docutils literal"><span class="pre">resize_to_container</span></code> method of the <code class="docutils literal"><span class="pre">container</span></code> module.</li>
<li>Fixed performance regression caused by resizing the canvas.</li>
<li>Fixed cameras linked from other scenes or dupli-groups not present in the scene.</li>
<li>Fixed incorrect canvas alpha with Bloom post effect.</li>
<li>Fixed Viewer <code class="docutils literal"><span class="pre">Stop</span> <span class="pre">All</span></code> animation button.</li>
<li>Fixed object picking for stack material.</li>
<li>Fixed glow effect on Safari.</li>
</ul>
</div>
</div>
<div class="section" id="v16-06">
<h2>v16.06<a class="headerlink" href="#v16-06" title="永久链接至标题">¶</a></h2>
<div class="section" id="id26">
<h3>新功能<a class="headerlink" href="#id26" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Fast Preview improvements.</p>
<blockquote>
<div><p>If necessary, the development server copies all external resources into the tmp directory. This allows previewing scenes which are placed outside the SDK (another directory, flash drive, etc).</p>
</div></blockquote>
</li>
<li><p class="first">项目管理器改进。</p>
<blockquote>
<div><p>Support for material library. A new project option has been added allowing users to copy the material library sources into the project directory.</p>
<p>Added the new <code class="docutils literal"><span class="pre">--ignore</span></code> command property to the <em>project.py</em> utility. This option allows users to ignore files during compilation or deployment.</p>
<p>Added the new <code class="docutils literal"><span class="pre">check_modules</span></code> command to the <em>project.py</em> utility. This command allows users to check missing or no longer required modules.</p>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="stereo_rendering.html#stereo"><span>Experimental support of the GearVR</span></a> virtual reality headset.</p>
<blockquote>
<div><p>Support for new WebVR API 1.0 has been added to the engine allowing the use of GearVR devices.</p>
</div></blockquote>
</li>
<li><p class="first">Support for GIF and BMP textures.</p>
<blockquote>
<div><p>Non-animated GIF and BMP images can now be used as textures.</p>
</div></blockquote>
</li>
<li><p class="first">Resource Converter improvements.</p>
<blockquote>
<div><p>Now many more media extensions are supported. For detailed information see <a class="reference internal" href="developers.html#converter-data-format"><span>the documentation</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Automatic export path determination in Blender addon.</p>
<blockquote>
<div><p>When projects, created using Project Manager, are exported for the first time, a path to the assets directory is automatically resolved.</p>
</div></blockquote>
</li>
<li><p class="first">Support for parallel animations in the Logic Editor.</p>
<blockquote>
<div><p>It is now possible to apply several parallel animations with the Logic Editor. Previously, only one animation per object was allowed in the Logic Editor. Now, an object can have one animation of each type. The maximum number of possible animations is 8.</p>
</div></blockquote>
</li>
<li><p class="first">Improved Viewer profiling capabilities.</p>
<blockquote>
<div><p>Added a special mode for profiling objects&#8217; rendering time in the Viewer application.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Lens</span> <span class="pre">Flare</span></code> material property.</p>
<blockquote>
<div><p>A new material property has been appended to the material render panel.
Note, that this works only when there is a <code class="docutils literal"><span class="pre">Sun</span></code> light source in a scene.</p>
</div></blockquote>
</li>
<li><p class="first">Clip Start and Clip End options for light sources.</p>
<blockquote>
<div><p>The Clip Start and Clip End properties have been supported for the shadow settings of <code class="docutils literal"><span class="pre">Point</span></code> and <code class="docutils literal"><span class="pre">Spot</span></code> lamps.</p>
</div></blockquote>
</li>
<li><p class="first">HTML meta elements in Web Player app.</p>
<blockquote>
<div><p>New HTML meta elements have been added into the WebPlayer HTML templates for compatibility with different social networks.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id27">
<h3>变更<a class="headerlink" href="#id27" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Several material nodes are now using Blender&#8217;s viewport world space.</p>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Geometry</span></code></p>
<blockquote>
<div><p>The <code class="docutils literal"><span class="pre">Normal</span></code> output provides data in Blender&#8217;s world coordinate space.</p>
<p>The <code class="docutils literal"><span class="pre">View</span></code> output provides data in Blender&#8217;s view coordinate space.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Texture</span></code></p>
<blockquote>
<div><p>The <code class="docutils literal"><span class="pre">Vector</span></code> input  for environment textures receives data in Blender&#8217;s world coordinate space.</p>
<p>The <code class="docutils literal"><span class="pre">Normal</span></code> output provides data in Blender&#8217;s world coordinate space.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Material</span></code></p>
<blockquote>
<div><p>The <code class="docutils literal"><span class="pre">Normal</span></code> input receives data in Blender&#8217;s world coordinate space.</p>
<p>The <code class="docutils literal"><span class="pre">Normal</span></code> output provides data in Blender&#8217;s world coordinate space.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Lamp</span> <span class="pre">Data</span></code></p>
<blockquote>
<div><p>The <code class="docutils literal"><span class="pre">Light</span> <span class="pre">Vector</span></code> output provides data in Blender&#8217;s world coordinate space.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">B4W</span> <span class="pre">Vector</span> <span class="pre">View</span></code></p>
<blockquote>
<div><p>The node&#8217;s input receives data in Blender&#8217;s world coordinate space.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">B4W</span> <span class="pre">Reflect</span></code></p>
<blockquote>
<div><p>The first node&#8217;s input (used for view vectors) receives data in Blender’s view coordinate space.</p>
<p>The second node&#8217;s input (used for normals) takes data in Blender’s world coordinate space.</p>
<p>The node&#8217;s output provides data in Blender&#8217;s world coordinate space.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Now color picking and anchors are disabled in stereo-mode.</p>
</li>
<li><p class="first">Now keyboard sensors do not active when using browser shortcuts.</p>
</li>
<li><p class="first">API 变更。</p>
<blockquote>
<div><p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.resize_to_container">resize_to_container</a> method of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html">app</a> module
has been declared deprecated and will be removed in future releases.
<a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html">container</a> module&#8217;s <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.resize_to_container">resize_to_container()</a>
method should be used in its stead.</p>
</div></blockquote>
</li>
<li><p class="first">The Bloom <code class="docutils literal"><span class="pre">Key</span></code> option has been renamed <code class="docutils literal"><span class="pre">Intensity</span></code>.</p>
</li>
<li><p class="first">Deprecated functionality.</p>
<blockquote>
<div><p>The following methods: <code class="docutils literal"><span class="pre">textures.get_canvas_texture_context()</span></code>,
<code class="docutils literal"><span class="pre">textures.update_canvas_texture_context()</span></code> have been removed.</p>
<p>The following logic nodes: <code class="docutils literal"><span class="pre">Select</span></code>, <code class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Play</span> <span class="pre">Timeline</span></code>, <code class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Play</span> <span class="pre">Animation</span></code> have been removed.</p>
</div></blockquote>
</li>
<li><p class="first">Export errors and warnings now include links to the documentation.</p>
</li>
<li><p class="first">Proper reporting of incorrect addon directory.</p>
<blockquote>
<div><p>An incorrect addon directory name now generates a corresponding warning message.</p>
</div></blockquote>
</li>
<li><p class="first">Dealing with cases when water is used without wind.</p>
<blockquote>
<div><p>If the water shader is used without wind, a warning message appears.</p>
</div></blockquote>
</li>
<li><p class="first">Debug console error messages for unsupported image, video and audio formats have been added.</p>
</li>
</ul>
</div>
<div class="section" id="id28">
<h3>修复<a class="headerlink" href="#id28" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Fixed decreased performance in stereo-mode.</li>
<li>Fixed <code class="docutils literal"><span class="pre">window.screen.orientation.angle</span></code> obfuscation.</li>
<li>Fixed rendering issue in Firefox browsers with enabled WebGL 2.0 context.</li>
<li>Fixed right-eye rendering in stereo-mode.</li>
<li>Fixed rendering for glow materials with the <code class="docutils literal"><span class="pre">Terrain</span> <span class="pre">Dynamic</span> <span class="pre">Grass</span></code> option enabled.</li>
<li>Removed redundant angular velocity of particles if the <code class="docutils literal"><span class="pre">Rotation</span></code> option is disabled.</li>
<li>Fixed rendering particles with non-node, non-Opaque materials.</li>
<li>Fixed several GPU memory leaks.</li>
<li>Fixed engine crash when using wrong callback id in the <code class="docutils literal"><span class="pre">JS</span> <span class="pre">Callback</span></code> logic node.</li>
<li>Fixed engine crash in the rare case, when a node material has several <code class="docutils literal"><span class="pre">Texture</span></code> nodes with the same texture.</li>
<li>Fixed the bug which caused the <code class="docutils literal"><span class="pre">Diffuse</span> <span class="pre">Intensity</span></code> input of the <code class="docutils literal"><span class="pre">Material</span></code> and <code class="docutils literal"><span class="pre">Extended</span> <span class="pre">Material</span></code> nodes to ignore the incoming link.</li>
</ul>
</div>
</div>
<div class="section" id="v16-05">
<h2>v16.05<a class="headerlink" href="#v16-05" title="永久链接至标题">¶</a></h2>
<div class="section" id="id29">
<h3>新功能<a class="headerlink" href="#id29" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Experimental HMD configurator.</p>
<blockquote>
<div><p>Add-on <code class="docutils literal"><span class="pre">hmd_conf.js</span></code> has been added. It allows users to set up HMD parameters manually. For now, this configurator has been implemented in the Viewer app and can be executed by the button located on the <em>Stereo View</em> panel. For more information see API documentation on the <a class="reference external" href="https://www.blend4web.com/api_doc/module-hmd_conf.html">hmd_conf</a> module.</p>
</div></blockquote>
</li>
<li><p class="first">Experimental configurator for gamepads and other game controllers.</p>
<blockquote>
<div><p>Add-on <a class="reference external" href="https://www.blend4web.com/api_doc/module-gp_conf.html">gp_conf</a> has been added to API. It contains two main functions: <a class="reference external" href="https://www.blend4web.com/api_doc/module-gp_conf.html#.show">show</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-gp_conf.html#.hide">hide</a>. For now it supports controllers and steering devices.</p>
<p>To test this configurator in the Viewer app activate the <em>Gamepad Settings</em> check box on the <em>Input Devices</em> panel.</p>
</div></blockquote>
</li>
<li><p class="first">New code snippets.</p>
<blockquote>
<div><p>New code snippet demos have been added. Their names are Gamepad,
Webcam and Change Image. The first one can help you to integrate gamepads into
your project, the second shows you the Camera API in action and the third one
is the implementation of the new texture functions.</p>
</div></blockquote>
</li>
<li><p class="first">A new <code class="docutils literal"><span class="pre">Vector</span> <span class="pre">Transform</span></code> material node.</p>
<blockquote>
<div><p>This node can be used to convert input data between object, world and camera coordinate spaces.</p>
</div></blockquote>
</li>
<li><p class="first">A new <code class="docutils literal"><span class="pre">Empty</span></code> logic node.</p>
<blockquote>
<div><p>This node can be used to simplify rerouting complex logic node configurations.</p>
</div></blockquote>
</li>
<li><p class="first">Dynamic replacement of texture images.</p>
<blockquote>
<div><p>A new method <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.change_image">change_image</a> has been added. It&#8217;s possible now to replace textures and cubemap bitmaps via API.</p>
</div></blockquote>
</li>
<li><p class="first">Batching based on a new clustering algorithm.</p>
<blockquote>
<div><p>Batching, that is, the process of combining similar objects for performance reasons, is now based on a new clustering algorithm applied at export. This improves the whole batching process by making it &#8220;smarter&#8221; and more optimized in comparison with the old regular grid batching.</p>
</div></blockquote>
</li>
<li><p class="first">项目管理器改进。</p>
<blockquote>
<div><p>To maintain naming consistency all command line options in <em>project.py</em> utility are now specified with <code class="docutils literal"><span class="pre">-</span></code> symbol instead of underscore, e.g <code class="docutils literal"><span class="pre">--engine_type</span></code> option has become <code class="docutils literal"><span class="pre">--engine-type</span></code>.</p>
<p>Added the new <code class="docutils literal"><span class="pre">--assets-dest</span></code> command property to <em>project.py</em> utility. This option allows users to specify a destination directory for storing assets in deployed projects.</p>
</div></blockquote>
</li>
<li><p class="first">New materials in Material Library</p>
<blockquote>
<div><p>4 new materials have been added to the Pro SDK Material Library: Gold, Ribbed Glass, Silk and Velvet.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id30">
<h3>变更<a class="headerlink" href="#id30" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">UI and export usability improvements for objects with no option from the <code class="docutils literal"><span class="pre">Export</span> <span class="pre">Options</span></code> list selected.</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Export</span> <span class="pre">Shape</span> <span class="pre">Keys</span></code> is selected automatically after adding a shape key.</p>
<p><code class="docutils literal"><span class="pre">Export</span> <span class="pre">Vertex</span> <span class="pre">Animation</span></code> is selected automatically after baking vertex animation.</p>
<p><code class="docutils literal"><span class="pre">Apply</span> <span class="pre">Scale</span> <span class="pre">and</span> <span class="pre">Modifiers</span></code> is automatically used during the export process for non-uniform scaled objects, which meet the following requirements:</p>
<blockquote>
<div><p>Has no vertex animation.</p>
<p>Has no parent object.</p>
<p>Has no skinning.</p>
<p>Object physics is disabled.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">Apply</span> <span class="pre">Modifiers</span></code> is automatically used during the export process for objects, which have modifiers and meet the following requirements:</p>
<blockquote>
<div><p>Has no vertex animation.</p>
<p>Has no skinning.</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p class="first">Z sorting in <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Sort</span></code> materials is now performed based on the sizes of objects.</p>
<blockquote>
<div><p>This can lead to more frequent sorting updates which impairs performance, but fixes sorting issues on small objects.</p>
</div></blockquote>
</li>
<li><p class="first">New frustum culling algorithm.</p>
<blockquote>
<div><p>Now we calculate frustum culling using specific mesh materials instead of objects.</p>
</div></blockquote>
</li>
<li><p class="first">Gamepad sensor changes.</p>
<blockquote>
<div><p>New button and axis identifiers have been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html">input</a> module. Also, gamepad sensors have been renamed as <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gamepad_btn_sensor">create_gamepad_btn_sensor</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gamepad_axis_sensor">create_gamepad_axis_sensor</a>.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Entry</span> <span class="pre">Point</span></code> logic nodes with the <code class="docutils literal"><span class="pre">Run</span> <span class="pre">From</span> <span class="pre">Script</span></code> option selected can now be called from API multiple times.</p>
</li>
<li><p class="first">API 变更。</p>
<blockquote>
<div><p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html#.create_rotation_preloader">create_rotation_preloader</a> method  of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html">preloader</a> module has been declared deprecated and will be removed in further releases.</p>
<p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html#.create_advanced_preloader">create_advanced_preloader</a> method of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html">preloader</a> module has been declared deprecated and will be removed in further releases.</p>
<p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.set_config">set_config</a> method has been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html">input</a> module.</p>
<p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.register_device">register_device</a> method of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html">input</a> module has been declared deprecated and will be removed in further releases.</p>
<p>The <cite>gyro_use</cite> flag of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html">config</a> module has been removed (not needed anymore).</p>
<p>Now functions of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-storage.html">storage</a> module have an optional last parameter.</p>
<p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.is_ie11">is_ie11</a> method has been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html">util</a> module.</p>
</div></blockquote>
</li>
<li><p class="first">Now the state of a keyboard button is stored in the payload of the keyboard sensor.</p>
<blockquote>
<div><p>For more information see API documentation on the <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_keyboard_sensor">create_keyboard_sensor</a> method.</p>
</div></blockquote>
</li>
<li><p class="first">The link to the troubleshooting page in the WebPlayer &#8220;Browser could not initialize WebGL&#8221; message has been changed to a more appropriate one.</p>
<blockquote>
<div><p>Now it refers one to the &#8220;Problems and Solutions&#8221; page in the documentation.</p>
</div></blockquote>
</li>
<li><p class="first">The documentation has been considerably expanded with detailed descriptions for Anchor and Viewport Alignment features.</p>
</li>
</ul>
</div>
<div class="section" id="id31">
<h3>修复<a class="headerlink" href="#id31" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Fixed issue with incorrect automatic updates in addon.</p>
</li>
<li><p class="first">Fixed anchors behavior with logic nodes.</p>
</li>
<li><p class="first">Fixed <code class="docutils literal"><span class="pre">JS</span> <span class="pre">Callback</span></code> logic node obfuscation.</p>
</li>
<li><p class="first">Fixed issue with incorrect sensor removal in <code class="docutils literal"><span class="pre">controls.remove_sensor_manifolds</span></code> method.</p>
</li>
<li><p class="first">Fixed issue with incorrect age and compression ratio in distribution zip files.</p>
</li>
<li><p class="first">Fixed multi-sampling issue in Firefox browsers.</p>
<blockquote>
<div><p>Disabled partially supported multi-sampling in Firefox WebGL 2.0 implementation.</p>
</div></blockquote>
</li>
<li><p class="first">Fixed error when canvas resolution wouldn&#8217;t change when Anti-Aliasing quality settings were changed.</p>
</li>
<li><p class="first">Fixed error when the diffuse intensity value would be applied to shadeless materials.</p>
</li>
<li><p class="first">Fixed engine crash in the case when <code class="docutils literal"><span class="pre">B4W_GLOW_OUTPUT</span></code> and <code class="docutils literal"><span class="pre">B4W_REFRACTION</span></code> nodes were used in the same material.</p>
</li>
<li><p class="first">Fixed the duplication of the <code class="docutils literal"><span class="pre">Custom</span> <span class="pre">Properties</span></code> panel in Blender&#8217;s interface for the <code class="docutils literal"><span class="pre">Font</span></code>, <code class="docutils literal"><span class="pre">Curve</span></code>, <code class="docutils literal"><span class="pre">Lattice</span></code>, <code class="docutils literal"><span class="pre">Armature</span></code> and <code class="docutils literal"><span class="pre">MetaBall</span></code> data types.</p>
</li>
<li><p class="first">Fixed some errors in the compiled version of the engine.</p>
</li>
<li><p class="first">Fixed issues with <code class="docutils literal"><span class="pre">input</span></code> and <code class="docutils literal"><span class="pre">controls</span></code> modules.</p>
</li>
<li><p class="first">Fixed issue when node materials using the <code class="docutils literal"><span class="pre">ColorRamp</span></code> node were incorrectly batched.</p>
</li>
<li><p class="first">Fixed incorrect HTTP server shutdown.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-04">
<h2>v16.04<a class="headerlink" href="#v16-04" title="永久链接至标题">¶</a></h2>
<div class="section" id="id32">
<h3>新功能<a class="headerlink" href="#id32" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Support for gamepads and controllers.</p>
<p>It&#8217;s possible now to use gamepads and controllers as input devices. New functions have been added to work with these devices. The first one is <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gamepad_btn_sensor">create_gamepad_btn_sensor</a>. It handles gamepad buttons. The second one is <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gamepad_axes_sensor">create_gamepad_axes_sensor</a>. It handles gamepad axes.</p>
</li>
<li><p class="first">Node Logic Editor improvements.</p>
<blockquote>
<div><p>Logic node <cite>JS Callback</cite> has been added. It allows to call custom JavaScript callback defined in your B4W application. Input and output parameters are supported for callbacks.</p>
<p>An option <code class="docutils literal"><span class="pre">Run</span> <span class="pre">From</span> <span class="pre">Script</span></code> has been added to <code class="docutils literal"><span class="pre">Entry</span> <span class="pre">Point</span></code> node.</p>
<p>Module <a class="reference external" href="https://www.blend4web.com/api_doc/module-logic_nodes.html">logic_nodes</a> has been added to API. It contains methods to control Node Logic Editor.</p>
<p>Method <a class="reference external" href="https://www.blend4web.com/api_doc/module-logic_nodes.html#.append_custom_callback">append_custom_callback</a> has been added. It allows to register custom JavaScript callbacks to be used in <cite>JS Callback</cite> logic node.</p>
<p>Method <a class="reference external" href="https://www.blend4web.com/api_doc/module-logic_nodes.html#.remove_custom_callback">remove_custom_callback</a> has been added. It allows to remove registered custom JavaScript callback.</p>
<p>Method <a class="reference external" href="https://www.blend4web.com/api_doc/module-logic_nodes.html#.run_entrypoint">run_entrypoint</a> has been added. It allows to activate <code class="docutils literal"><span class="pre">Entry</span> <span class="pre">Point</span></code> node from API.</p>
</div></blockquote>
</li>
<li><p class="first">A new function has been added into the <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html">controls</a> module: <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_hmd_position_sensor">create_hmd_position_sensor</a>.</p>
<blockquote>
<div><p>This function allows to create a special sensor, which can track the position of an HMD device.</p>
</div></blockquote>
</li>
<li><p class="first">The options <code class="docutils literal"><span class="pre">Tilt</span> <span class="pre">Angle</span></code> and <code class="docutils literal"><span class="pre">Tilt</span> <span class="pre">Random</span></code> are now supported for the <code class="docutils literal"><span class="pre">Emitter</span></code> particle systems.</p>
</li>
<li><p class="first">Reflection for transparent objects.</p>
<blockquote>
<div><p>Before this release only opaque objects could be reflected. Now, transparent objects are also supported.</p>
</div></blockquote>
</li>
<li><p class="first">Updated math modules.</p>
<blockquote>
<div><p>Math modules <a class="reference external" href="https://www.blend4web.com/api_doc/module-vec3.html">vec3</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-vec4.html">vec4</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-quat.html">quat</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-mat3.html">mat3</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-mat4.html">mat4</a> are now based on glMatrix v2.3.1. This new version introduces <a class="reference external" href="https://www.blend4web.com/api_doc/module-vec3.html#.hermite">hermite</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-vec3.html#.bezier">bezier</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-quat.html#.sqlerp">sqlerp</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-mat4.html#.fromRotationTranslationScale">fromRotationTranslationScale</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-mat4.html#.fromRotationTranslationScaleOrigin">fromRotationTranslationScaleOrigin</a> methods.</p>
</div></blockquote>
</li>
<li><p class="first">A new flag <code class="docutils literal"><span class="pre">Bake</span> <span class="pre">only</span> <span class="pre">deform</span> <span class="pre">bones</span></code> has been added to the Skeletal Animation Baker.</p>
<blockquote>
<div><p>Previously, it was impossible to bake bones without the <code class="docutils literal"><span class="pre">deform</span></code> flag. This feature can be helpful in cases when some object is parented to the non-deforming bone.</p>
</div></blockquote>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">GL</span> <span class="pre">Debug</span></code> switch in the Viewer app.</p>
<blockquote>
<div><p>Viewer application now has the <code class="docutils literal"><span class="pre">GL</span> <span class="pre">Debug</span></code> switch which allows to disable GL error checking. This increases the performance and can be useful while profiling a scene.</p>
</div></blockquote>
</li>
<li><p class="first">Enable WebGL 2.0 for Firefox browser.</p>
<blockquote>
<div><p>It&#8217;s now possible to use experimental WebGL 2.0 context in Firefox browser.</p>
</div></blockquote>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">prevent_caching</span></code> engine configuration option.</p>
<blockquote>
<div><p>This option enables/disables assets caching.</p>
</div></blockquote>
</li>
<li><p class="first">New physics function has been added.</p>
<blockquote>
<div><p><a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.apply_force_world">apply_force_world</a> function applies a constant force to the
object in the world space.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id33">
<h3>变更<a class="headerlink" href="#id33" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Viewer&#8217;s <code class="docutils literal"><span class="pre">HUD</span> <span class="pre">Info</span></code> now has detailed info on each column.</p>
</li>
<li><p class="first">Node Logic Editor changes.</p>
<blockquote>
<div><ul class="simple">
<li>An option to select between <code class="docutils literal"><span class="pre">Number</span></code> and <code class="docutils literal"><span class="pre">String</span></code> operand types has been added to the <code class="docutils literal"><span class="pre">Conditional</span> <span class="pre">Jump</span></code> node.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">The activation of the VR mode from now automatically changes the camera type to <code class="docutils literal"><span class="pre">EYE</span></code> for better user experience.</p>
</li>
</ul>
</div>
<div class="section" id="id34">
<h3>修复<a class="headerlink" href="#id34" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Fixed anchors behavior.</li>
<li>Fixed a cubemap issue for some old NVIDIA GPUs in Firefox.</li>
<li>Fixed the bug for particle systems with the &#8220;Length&#8221; vertex group specified when the emitter mesh has the &#8220;Apply Modifiers&#8221; option checked.</li>
<li>Fixed the behavior of the B4W_GLOW_OUTPUT node for transparent materials.</li>
<li>Fixed grass map for a single flat grass terrain object.</li>
<li>Refraction vectors for stack and node materials now use correct view normal.</li>
<li>Fixed God Rays Blender interface tab.</li>
<li>Viewer Sky parameters updates have been fixed.</li>
<li>Fixed incorrect stereo (anaglyph and HMD) rendering in specific cases.</li>
<li>The <code class="docutils literal"><span class="pre">Page</span> <span class="pre">Param</span></code> node bug, which always wrote result to the variable <code class="docutils literal"><span class="pre">R1</span></code>, has been fixed.</li>
<li>Updating variable&#8217;s scope in Node Logic Editor has been fixed.</li>
<li>Fixed crash with dynamically loaded scenes while using <code class="docutils literal"><span class="pre">Move</span> <span class="pre">Camera</span></code> logic node.</li>
</ul>
</div>
</div>
<div class="section" id="v16-03">
<h2>v16.03<a class="headerlink" href="#v16-03" title="永久链接至标题">¶</a></h2>
<div class="section" id="id35">
<h3>新功能<a class="headerlink" href="#id35" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Node Logic Editor improvements.</p>
<blockquote>
<div><p>Now you can use global variables for sharing information between threads. This significantly expands the capabilities and allows to create more complex interactive applications.</p>
<p>Logic node <cite>JSON</cite> has been added. It allows to parse and encode complex JSON objects.</p>
<p>Logic node <cite>Get Timeline</cite> has been added. It allows to get current frame from NLA or global timeline.</p>
<p>Logic nodes <cite>Play Animation</cite> and <cite>Stop Animation</cite> have received environment animation mode.</p>
</div></blockquote>
</li>
<li><p class="first">New option <code class="docutils literal"><span class="pre">Update</span> <span class="pre">Material</span> <span class="pre">Animation</span></code> for updating animated node shaders in viewport.</p>
<blockquote>
<div><p>This option is useful for those who often use animated shader nodes. Just turn it on to see material animation in Blender viewport.</p>
</div></blockquote>
</li>
<li><p class="first">Separate Project Manager server from Blender addon.</p>
<blockquote>
<div><p>Starting from this release it&#8217;s possible to run the Project Manager server as a standalone application using <em>project_server.py</em> script.
This eliminates the requirement to start Blender to be able to run the Project Manager.</p>
</div></blockquote>
</li>
<li><p class="first">Add title/description to all Blend4Web demos.</p>
<blockquote>
<div><p>This simplifies searching our demos in Google and other search engines.</p>
</div></blockquote>
</li>
<li><p class="first">New modules have been added.</p>
<blockquote>
<div><p>The first new mathematical module that was added is called <a class="reference external" href="https://www.blend4web.com/api_doc/module-math.html">math</a>. For more
information, please take a look at <a class="reference external" href="https://www.blend4web.com/api_doc/index.html">the API doc</a>.</p>
<p>Also, an <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html">input</a> module has been added. This module provides an interface for input devices:
mouse &#8212; <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.DEVICE_MOUSE">DEVICE_MOUSE</a>,
keyboard &#8212; <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.DEVICE_KEYBOARD">DEVICE_KEYBOARD</a>,
touchscreen device &#8212; <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.DEVICE_TOUCH">DEVICE_TOUCH</a>,
gyroscope device &#8212; <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.DEVICE_GYRO">DEVICE_GYRO</a>,
head-mounted device &#8212; <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.DEVICE_HMD">DEVICE_HMD</a>.
For more information see API documentation on the <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html">input</a> module.</p>
</div></blockquote>
</li>
<li><p class="first">Changed policy for backward compatibility with previous Blender releases.</p>
<blockquote>
<div><p>Starting from this release we will strive to keep the addon compatibility with previous Blender versions.</p>
</div></blockquote>
</li>
<li><p class="first">HTML links have been supported in an anchor description.</p>
</li>
<li><p class="first">Objects from secondary scenes(rendered to textures) can now be controlled with logic nodes.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">Dynamic</span> <span class="pre">Grass</span></code> option was added to the render interface.</p>
<blockquote>
<div><p>There are 3 options available: <em>ON</em> to enable dynamic grass constantly, <em>OFF</em> to disable dynamic grass completely and <em>AUTO</em> to automatically detect objects with dynamic grass.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id36">
<h3>变更<a class="headerlink" href="#id36" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">API 变更。</p>
<blockquote>
<div><p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.enable_controls">enable_controls</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.disable_controls">disable_controls</a> of <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html">app</a> add-on have been declared deprecated.</p>
<p>Several methods of <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html">controls</a> module have been declared deprecated: <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.register_keyboard_events">register_keyboard_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.register_mouse_events">register_mouse_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.register_wheel_events">register_wheel_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.register_touch_events">register_touch_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.register_device_orientation">register_device_orientation</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.unregister_keyboard_events">unregister_keyboard_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.unregister_mouse_events">unregister_mouse_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.unregister_wheel_events">unregister_wheel_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.unregister_touch_events">unregister_touch_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.unregister_device_orientation">unregister_device_orientation</a>.</p>
<p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_touch_click_sensor">create_touch_click_sensor</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_hmd_quat_sensor">create_hmd_quat_sensor</a> methods have been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html">controls</a> module.</p>
<p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.get_hmd_device">get_hmd_device</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.reset_device">reset_device</a> methods of <a class="reference external" href="https://www.blend4web.com/api_doc/module-hmd.html">hmd</a> add-on have been declared deprecated.</p>
<p>Several methods have been added to <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html">util</a> module: <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.deg_to_rad">deg_to_rad</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.rad_to_deg">rad_to_deg</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.quat_to_ordered_angles">quat_to_ordered_angles</a>.</p>
<p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_world_by_name">get_world_by_name</a> method has been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html">scenes</a> module.</p>
</div></blockquote>
</li>
<li><p class="first">API for camera has been changed.</p>
<blockquote>
<div><p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.calc_ray">calc_ray()</a> method was changed. Now it works with parametric
lines.</p>
</div></blockquote>
</li>
<li><p class="first">Static physics behavior has been changed.</p>
<blockquote>
<div><p>Objects, which have material with the <em>Material -&gt; Special: Collision</em>
property enabled, can be fully unloaded. Also, these objects can be moved, rotated, etc,
as long as they are dynamic.</p>
</div></blockquote>
</li>
<li><p class="first">Rendering optimizations.</p>
<blockquote>
<div><p>Now we use bounding ellipsoids instead of spheres to frustum cull static objects.</p>
</div></blockquote>
</li>
<li><p class="first">Node Logic Editor changes.</p>
<blockquote>
<div><p>Node <cite>Send Request</cite> has been simplified. JSON parsing and encoding routine has moved to new <cite>JSON</cite> node.</p>
</div></blockquote>
</li>
<li><p class="first">Material updates, e.g. animated or affected by dynamic lights were optimized.</p>
</li>
<li><p class="first">Generated water mesh has been enabled on devices without OES_depth_texture support</p>
</li>
</ul>
</div>
<div class="section" id="id37">
<h3>修复<a class="headerlink" href="#id37" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Fixed webplayer menu behavior.</li>
<li>Fixed rare development server crash when the response headers contained a specific date (29Feb).</li>
<li>Fixed <code class="docutils literal"><span class="pre">Refractions</span></code> which was set to &#8220;ON&#8221; in the absence of refractive objects.</li>
<li>Fixed water material position for dynamic objects.</li>
<li>Fixed crash for generated water mesh without waves.</li>
<li>Fixed incorrect output for the TEXTURE node with no texture selected.</li>
</ul>
</div>
</div>
<div class="section" id="v16-02">
<h2>v16.02<a class="headerlink" href="#v16-02" title="永久链接至标题">¶</a></h2>
<div class="section" id="id38">
<h3>新功能<a class="headerlink" href="#id38" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Extended support of Emitter type particle systems.</p>
<blockquote>
<div><p>The support for the node materials that can be used to set particle shading parameters with sequences of basic blocks (including the <em>Particle Info</em> node). This function is available for the particle systems with the <code class="docutils literal"><span class="pre">Billboard</span></code> rendering type.</p>
<p>The shader for particles with the <code class="docutils literal"><span class="pre">Halo</span></code> type rendering has been rewritten. The support for the <code class="docutils literal"><span class="pre">Rings</span></code>, <code class="docutils literal"><span class="pre">Lines</span></code> and <code class="docutils literal"><span class="pre">Star</span> <span class="pre">Tips</span></code> parameters has been added. Maximum particle size limit (caused by the hardware limitations on some platforms) has been removed.</p>
<p>Maximum number of gradient control points limit in the <code class="docutils literal"><span class="pre">Ramp</span></code> procedural texture (used for coloring particles) has been removed.</p>
</div></blockquote>
</li>
<li><p class="first">Extended node material support.</p>
<blockquote>
<div><p>Two new nodes, <em>Vector Curves</em> and <em>RGB Curves</em>, have been added.</p>
<p>The <em>ColorRamp</em> node support has been added. For now, this node supports <code class="docutils literal"><span class="pre">Linear</span></code> and <code class="docutils literal"><span class="pre">Constant</span></code> type interpolation.</p>
<p>The <em>Particle Info</em> node support has been added. For now, it is fully supported by the <code class="docutils literal"><span class="pre">Emitter</span></code> type particle systems with the <code class="docutils literal"><span class="pre">Billboard</span></code> rendering type.</p>
</div></blockquote>
</li>
<li><p class="first">项目管理器改进。</p>
<blockquote>
<div><ul>
<li><p class="first">An option to export multiple projects into one archive.</p>
<blockquote>
<div><p>This function makes updating the SDK and migrating projects from one workstation to another significantly easier.</p>
</div></blockquote>
</li>
<li><p class="first">New project deploying options.</p>
<blockquote>
<div><p>Project deployment is required for uploading finished project to the server, sending them by mail and so on. Starting with the current release, project deployment can be performed directly from the Project Manager&#8217;s graphical interface. During deployment, projects are packed into a zip archive.</p>
<p>Also, starting with the current release, deployment is available for any type of project (including External type).</p>
</div></blockquote>
</li>
<li><p class="first">Improvements in the Web Player HTML and Web Player JSON type projects.</p>
<blockquote>
<div><p>Now, during the creation of these projects, you can set the Web Player application parameters such as FPS counter, automatic camera rotation, turning off social network buttons and so on.</p>
<p>Also, projects of these types can now be created with a <code class="docutils literal"><span class="pre">bundle</span></code> option which means that all application resources will be located in the same directory.</p>
</div></blockquote>
</li>
<li><p class="first">Graphical interface improvements.</p>
<blockquote>
<div><p>An option to add and show application icons has been added to make navigation easier and to give users a quick preview of an application in development.</p>
<p>An option to view project info. By clicking the <code class="docutils literal"><span class="pre">[info]</span></code> link located at the right side of the project name, a list of detailed information regarding the project can be accessed.</p>
<p>For convenience, the type of a project is now indicated by the prefix at the right side of the link: <code class="docutils literal"><span class="pre">player:</span></code> for Web Player HTML or Web Player JSON type projects, <code class="docutils literal"><span class="pre">dev:</span></code> for projects under development and <code class="docutils literal"><span class="pre">build:</span></code> for compiled (obfuscated) version of an application.</p>
<p>The elements of the Project Manager interface now have pop-up tips.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">The possibility to animate environment settings.</p>
<blockquote>
<div><p>The possibility to animate environment parameters located in the <code class="docutils literal"><span class="pre">Sky</span></code> (<code class="docutils literal"><span class="pre">Horizon</span> <span class="pre">Color</span></code>, <code class="docutils literal"><span class="pre">Zenith</span> <span class="pre">Color</span></code>), <code class="docutils literal"><span class="pre">Environment</span> <span class="pre">Lighting</span></code> (<code class="docutils literal"><span class="pre">Energy</span></code>), and <code class="docutils literal"><span class="pre">Mist</span></code> (<code class="docutils literal"><span class="pre">Minimum</span></code>, <code class="docutils literal"><span class="pre">Start</span></code>, <code class="docutils literal"><span class="pre">Depth</span></code>, <code class="docutils literal"><span class="pre">Height</span></code>, <code class="docutils literal"><span class="pre">Fog</span> <span class="pre">Color</span></code>) tabs has been added. These functions are also available for the NLA animation.</p>
<p>The <code class="docutils literal"><span class="pre">Animation</span></code> tab has been added to Blender&#8217;s <code class="docutils literal"><span class="pre">World</span></code> panel. It has <code class="docutils literal"><span class="pre">Apply</span> <span class="pre">Default</span> <span class="pre">Animation</span></code> and <code class="docutils literal"><span class="pre">Behavior</span></code> parameters.</p>
<p>For all exported environments, <code class="docutils literal"><span class="pre">WORLD</span></code> type meta-object are added to the scenes. These objects can be used to control the animation of the environment settings. You can access these objects the same way you can access any standard object in the scene.</p>
</div></blockquote>
</li>
<li><p class="first">相机改进。</p>
<blockquote>
<div><p>An option to set the limits for vertical movement of camera&#8217;s pivot point has been added. This function is also available via the API by using the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_set_pivot_limits">target_set_pivot_limits()</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_get_pivot_limits">target_get_pivot_limits()</a> methods.</p>
<p>The new <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.static_setup">static_setup()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.eye_setup">eye_setup()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_setup">target_setup()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.hover_setup">hover_setup()</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.hover_setup_rel">hover_setup_rel()</a> methods have been added for changing and complete setup of the camera behavior. At the same time, the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_move_style">set_move_style()</a> has been declared deprecated.</p>
<p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_switch_panning">target_switch_panning()</a> method has been added for controlling camera panning, and the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_view_vector">get_view_vector()</a> method has been added for retrieving the camera&#8217;s line of sight vector.</p>
<p>The examples of use the camera API are now described in the <a class="reference internal" href="camera.html#camera-api-notes"><span>corresponding chapter of the documentation</span></a>. This chapter can also be accessed from the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera.js API module documentation</a> page.</p>
</div></blockquote>
</li>
<li><p class="first">Node Logic Editor improvements.</p>
<blockquote>
<div><p>The <code class="docutils literal"><span class="pre">Content-Type</span></code> option has been added to the <code class="docutils literal"><span class="pre">Send</span> <span class="pre">Request</span></code> node. It can be used to reassign the title field of an HTTP request.</p>
</div></blockquote>
</li>
<li><p class="first">A new sensor has been added to the controls module.</p>
<blockquote>
<div><p>Gyro Quat (<a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gyro_quat_sensor">create_gyro_quat_sensor</a> method) is the sensor for working with gyroscopes on mobile devices. In can be used to handle device rotation quaternion.</p>
</div></blockquote>
</li>
<li><p class="first">Experimental UC Browser support has been added.</p>
</li>
<li><p class="first">User Manual has been reworked and expanded significantly.</p>
</li>
</ul>
</div>
<div class="section" id="id39">
<h3>变更<a class="headerlink" href="#id39" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">The <code class="docutils literal"><span class="pre">Generate</span> <span class="pre">Shadows</span></code> light source parameter has been renamed to <code class="docutils literal"><span class="pre">Shadow</span></code> and now also enables shadow rendering in the Blender Viewport.</p>
</li>
<li><p class="first">Design of the SDK main page has been changed.</p>
<blockquote>
<div><p>Project list is now located in the Project Manager. Links to run frequently used applications, <em>Viewer</em> and <em>Code Snippets</em>, have been added.</p>
</div></blockquote>
</li>
<li><p class="first">The <a class="reference external" href="https://www.blend4web.com/api_doc/module-mouse.html#.get_coords_x">get_coords_x()</a> and  <a class="reference external" href="https://www.blend4web.com/api_doc/module-mouse.html#.get_coords_y">get_coords_y()</a> can now receive the <code class="docutils literal"><span class="pre">target_touches</span></code> parameter.</p>
<blockquote>
<div><p>In case of multitouch, this parameter can be used to use only the touches that are inside of the current target element (the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/TouchEvent/targetTouches">targetTouches</a> parameter).</p>
</div></blockquote>
</li>
<li><p class="first"><a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera</a> API module changes.</p>
<blockquote>
<div><p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_vertical_limits">has_vertical_limits()</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_horizontal_limits">has_horizontal_limits()</a> methods have been declared deprecated. The <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_vertical_rot_limits">has_vertical_rot_limits()</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_horizontal_rot_limits">has_horizontal_rot_limits()</a> are recommended to use instead of them.</p>
</div></blockquote>
</li>
<li><p class="first">Changes in the naming rules for the files of the projects under development.</p>
<blockquote>
<div><p>Now, the HTML files of the projects under development (located in the <em>apps_dev</em> directory) do not include the <em>_dev</em> suffix in their names. To distinguish these projects from the compiled ones, prefixes has been added to the <em>Project Manager</em>.</p>
</div></blockquote>
</li>
<li><p class="first">When you open the SDK main page, presence of the local development server is checked. If it starts from the local file system, an appropriate warning is shown.</p>
</li>
</ul>
</div>
<div class="section" id="id40">
<h3>修复<a class="headerlink" href="#id40" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Incorrect behavior of the <code class="docutils literal"><span class="pre">canvas_resolution_factor</span></code> engine parameter on Apple iOS devices has been fixed.</li>
<li>Engine error that occurred in case of absence of the selected object in the <code class="docutils literal"><span class="pre">Show</span> <span class="pre">Object</span></code> and <code class="docutils literal"><span class="pre">Hide</span> <span class="pre">Object</span></code> logic nodes has been fixed.</li>
<li>The incorrect coordinate rounding along the Y- and Z-axis while using variables as parameters in the <code class="docutils literal"><span class="pre">Transform</span> <span class="pre">Object</span></code> logic node has been fixed.</li>
<li>Node logic blocking in case some nodes are not linked with the <code class="docutils literal"><span class="pre">Entry</span> <span class="pre">Point</span></code> node has been fixed.</li>
<li>The issue with the rendering of dynamic objects the RTT-scenes has been fixed.</li>
<li>Fullscreen switching issue in the Safari browser has been fixed.</li>
<li>The issue with the Add-on interface (caused by <code class="docutils literal"><span class="pre">Emitter</span></code> type particle systems without a material assigned to the object) has been fixed.</li>
<li>The <code class="docutils literal"><span class="pre">Factor</span></code> output of the <code class="docutils literal"><span class="pre">B4W_GLOW_OUTPUT</span></code> node in the materials with the <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Clip</span></code> type transparency now works correctly.</li>
<li>Dupli groups with <code class="docutils literal"><span class="pre">None</span></code> duplication type are not exported and not rendered.</li>
<li>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.append_ray_test">append_ray_test()</a> method now works correctly if its first parameter is an empty object.</li>
<li>Several water settings has been optimized and fixed.</li>
<li>Physical objects that have parent object will now correctly update their position in the case the physics is disabled in the scene.</li>
<li>The behavior of the <em>Camera Data</em> and <em>B4W Vector View</em> nodes for reflected objects has been fixed.</li>
<li>NLA animation of the <em>RGB</em> node in materials has been fixed.</li>
<li>Now, <code class="docutils literal"><span class="pre">HAIR</span></code> type particle system will not be rendered if the emitter object has the <code class="docutils literal"><span class="pre">Do</span> <span class="pre">Not</span> <span class="pre">Render</span></code> parameter enabled.</li>
<li>The work of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.auto_rotate">auto_rotate()</a> method for <code class="docutils literal"><span class="pre">EYE</span></code> type cameras has been fixed.</li>
<li>The export of <code class="docutils literal"><span class="pre">Hair</span></code> type particles from non-active scenes in Blender has been fixed.</li>
<li>Runtime libraries for Windows have been added to fix the resource conversion error.</li>
<li>Shader generation error that occurred in case there were more than 10 textures in the material has been fixed.</li>
</ul>
</div>
<div class="section" id="known-issues">
<h3>Known Issues<a class="headerlink" href="#known-issues" title="永久链接至标题">¶</a></h3>
<blockquote>
<div>Starting with this release, the list of all known problems and possible solutions is located in the <a class="reference internal" href="problems_and_solutions.html#known-problems"><span>dedicated chapter</span></a>.</div></blockquote>
</div>
</div>
<div class="section" id="v16-01">
<h2>v16.01<a class="headerlink" href="#v16-01" title="永久链接至标题">¶</a></h2>
<div class="section" id="id41">
<h3>新功能<a class="headerlink" href="#id41" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Line rendering.</p>
<blockquote>
<div><p>Procedurally generated line rendering is now supported. Special type of object, activated by the <em>Line Renderer</em> option in blender, is provided for it, as well as several API functions: <a class="reference external" href="https://www.blend4web.com/api_doc/module-geometry.html#.draw_line">draw_line</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.get_line_params">get_line_params</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.set_line_params">set_line_params</a>.</p>
</div></blockquote>
</li>
<li><p class="first">New logic editor nodes.</p>
<blockquote>
<div><ul class="simple">
<li>The <code class="docutils literal"><span class="pre">Transform</span> <span class="pre">Object</span></code> node can be used to move an object in world, parent or local coordinate space.</li>
<li>The <code class="docutils literal"><span class="pre">String</span> <span class="pre">Operation</span></code> node can be used to perform operations with string constants and variables, like the <code class="docutils literal"><span class="pre">Math</span> <span class="pre">Operation</span></code> node.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Simplified SDK installation.</p>
<blockquote>
<div><p>Now, to <a class="reference internal" href="setup.html#setup"><span>install SDK</span></a>, you just need to specify the path to SDK in the <em>File-&gt;Scripts</em> section of the <em>User Preferences</em> panel.</p>
</div></blockquote>
</li>
<li><p class="first">WebPlayer application improvements.</p>
<blockquote>
<div><p>An option to turn off social network buttons located in the bottom-right corner of a loaded scene. To do this, you need to specify the <code class="docutils literal"><span class="pre">no_social</span></code> <a class="reference internal" href="web_player.html#webplayer-attributes"><span>attribute</span></a> before the application starts.</p>
<p>Escape characters in the Web Player&#8217;s address bar are now processed correctly.</p>
</div></blockquote>
</li>
<li><p class="first">Rendering quality improvements for Head-Mounted Displays (HMD).</p>
<blockquote>
<div><p>Means to correct distortion and disable chromatic aberration while using Head-Mounted Displays have been added. Use <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.set_hmd_params">set_hmd_params()</a> function to set up these parameters.</p>
</div></blockquote>
</li>
<li><p class="first">Two new sensors have been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html">controls</a> module.</p>
<blockquote>
<div><p><em>Touch Rotate</em> (<a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_touch_rotate_sensor">create_touch_rotate_sensor()</a> method) sensor can be used to process rotation using two fingers on touch devices.</p>
<p><em>Callback</em> (<a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_callback_sensor">create_callback_sensor()</a> method) is a sensor whose value is defined by a callback function called every frame.</p>
</div></blockquote>
</li>
<li><p class="first">Resource converter utility improvements.</p>
<blockquote>
<div><p>The <cite>&#8211;verbose</cite> and <cite>&#8211;jobs</cite> parameters have been added to the <a class="reference internal" href="developers.html#converter"><span>resource converter utility</span></a> <em>converter.py</em>, which can be used to output detailed information and to set maximum number of the parallel processes during conversion, respectively.</p>
</div></blockquote>
</li>
<li><p class="first">Several API methods have been added.</p>
<blockquote>
<div><p><a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_line">is_line()</a> checks whether the object has <code class="docutils literal"><span class="pre">LINE</span></code> type.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-data.html#.is_idle">is_idle()</a> checks whether the scene loader has finished all planned tasks.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.hover_switch_horiz_rotation">hover_switch_horiz_rotation()</a> can be used to enable and disable horizontal rotation of <code class="docutils literal"><span class="pre">HOVER</span></code> type cameras.</p>
</div></blockquote>
</li>
<li><p class="first">Node tree refresh algorithm has been optimized.</p>
</li>
</ul>
</div>
<div class="section" id="id42">
<h3>变更<a class="headerlink" href="#id42" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Using cubic reflections has been simplified.</p>
<blockquote>
<div><p>Cubic reflection is now rendered from the object&#8217;s geometric center and not from its Blender origin point. Also, flat reflection is no longer rendered when rendering cubic reflection, which caused artifacts before.</p>
</div></blockquote>
</li>
<li><p class="first">Changes in API.</p>
<blockquote>
<div><p>The following methods have been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera</a> module: <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_vertical_axis">get_vertical_axis()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_vertical_axis">set_vertical_axis()</a>. &#8220;EYE&#8221; type camera rotation to a &#8220;phi&#8221; angle is now performed along the vector returned by the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_vertical_axis">get_vertical_axis()</a> function.</p>
<p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.correct_up">correct_up()</a> method now accepts the <code class="docutils literal"><span class="pre">strict</span></code> flag as a parameter. This parameter can be used to align camera codirectionally with the <code class="docutils literal"><span class="pre">y_axis</span></code> vector and not simply parallel to it.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.eye_get_vertical_limits">eye_get_vertical_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.eye_get_horizontal_limits">eye_get_horizontal_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_get_vertical_limits">target_get_vertical_limits</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_get_horizontal_limits">target_get_horizontal_limits</a> methods can now return limits set in both world and local coordinate spaces. This can be defined by the <code class="docutils literal"><span class="pre">local</span></code> parameter.</p>
</div></blockquote>
</li>
<li><p class="first">Logic node changes.</p>
<blockquote>
<div><p>The nodes have been separated into categories.</p>
<ul class="simple">
<li>An option to select between <code class="docutils literal"><span class="pre">Number</span></code> and <code class="docutils literal"><span class="pre">String</span></code> variable types has been added to the <code class="docutils literal"><span class="pre">Variable</span> <span class="pre">Store</span></code> node.</li>
<li>An option to use string variables to store the entire body of the server request and response has been added to the <code class="docutils literal"><span class="pre">Send</span> <span class="pre">Request</span></code> node.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Deprecated <em>Mass Reexporter</em> tool has been removed.</p>
<blockquote>
<div><p>The <em>Mass Reexporter</em> tool panel has been removed, as automatic scene reexport function is already present in the <em>Project Manager</em> (<code class="docutils literal"><span class="pre">re-export</span> <span class="pre">scenes</span></code> operation).</p>
</div></blockquote>
</li>
<li><p class="first">Deprecated functionality.</p>
<blockquote>
<div><p>The following methods: <code class="docutils literal"><span class="pre">mouse.enable_mouse_hover_glow()</span></code>, <code class="docutils literal"><span class="pre">mouse.disable_mouse_hover_glow()</span></code>, <code class="docutils literal"><span class="pre">anim.get_actions()</span></code>, <code class="docutils literal"><span class="pre">anim.get_current_action()</span></code>, <code class="docutils literal"><span class="pre">anim.set_current_frame_float()</span></code>, <code class="docutils literal"><span class="pre">anim.get_current_frame_float()</span></code>, <code class="docutils literal"><span class="pre">anim.get_frame_range()</span></code>, <code class="docutils literal"><span class="pre">anim.cyclic()</span></code>, <code class="docutils literal"><span class="pre">anim.is_cyclic()</span></code>, <code class="docutils literal"><span class="pre">anim.update_object_animation()</span></code>, <code class="docutils literal"><span class="pre">controls.remove_sensor_manifolds()</span></code>, <code class="docutils literal"><span class="pre">main.redraw()</span></code>, <code class="docutils literal"><span class="pre">scenes.set_glow_intensity()</span></code>, <code class="docutils literal"><span class="pre">scenes.get_glow_intensity()</span></code>, <code class="docutils literal"><span class="pre">scenes.apply_glow_anim()</span></code>, <code class="docutils literal"><span class="pre">scenes.apply_glow_anim_def()</span></code>, <code class="docutils literal"><span class="pre">scenes.clear_glow_anim()</span></code>, <code class="docutils literal"><span class="pre">scenes.set_glow_color()</span></code>, <code class="docutils literal"><span class="pre">scenes.get_glow_color()</span></code>, <code class="docutils literal"><span class="pre">sfx.speaker_play()</span></code>, <code class="docutils literal"><span class="pre">sfx.speaker_stop()</span></code>, <code class="docutils literal"><span class="pre">sfx.speaker_playback_rate()</span></code>, <code class="docutils literal"><span class="pre">sfx.get_speakers()</span></code>, <code class="docutils literal"><span class="pre">trans.set_rotation_quat()</span></code>, <code class="docutils literal"><span class="pre">trans.set_rotation_quat_v()</span></code>, <code class="docutils literal"><span class="pre">trans.get_rotation_quat()</span></code> have been removed.</p>
<p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.set_camera_move_style">set_camera_move_style()</a> method and <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.SPACE_WORLD">SPACE_WORLD</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.SPACE_LOCAL">SPACE_LOCAL</a> constants have been declared deprecated.</p>
<p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_vertical_limits">has_vertical_limits()</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_horizontal_limits">has_horizontal_limits()</a> methods have also been declared deprecated. The new methods <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_vertical_rot_limits">has_vertical_rot_limits()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_horizontal_rot_limits">has_horizontal_rot_limits()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_vertical_trans_limits">has_vertical_trans_limits()</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_horizontal_trans_limits">has_horizontal_trans_limits()</a> have been added to replace them.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id43">
<h3>修复<a class="headerlink" href="#id43" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Positioning and flickering of the particle systems with world coordinates have been fixed.</p>
</li>
<li><p class="first">Front Facing for cubic reflections has been fixed.</p>
</li>
<li><p class="first">Stereo mode rendering errors have been fixed.</p>
</li>
<li><p class="first">Incorrect positioning in the child object animation has been fixed.</p>
</li>
<li><p class="first">Scene loading freeze in the Safari browser while using .ogg audio files with <code class="docutils literal"><span class="pre">Background</span> <span class="pre">Music</span></code> type speakers has been fixed.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">Move</span> <span class="pre">Camera</span></code> node bug, which disabled <code class="docutils literal"><span class="pre">Duration</span></code> parameter after .blend file reopening, has been fixed.</p>
</li>
<li><p class="first">System crash while exporting particle system with complex mesh emitter has been fixed.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">Switch</span> <span class="pre">Select</span></code> node error that led to incorrect switches has been fixed.</p>
</li>
<li><p class="first">Several camera limit rendering issues in the Blender viewport have been fixed.</p>
</li>
<li><p class="first">The issue with exporting materials attached directly to the object and not to the mesh has been fixed.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">RenderCallback</span></code> function set by the <a class="reference external" href="https://www.blend4web.com/api_doc/module-main.html#.set_render_callback">set_render_callback()</a> method has been fixed.</p>
<blockquote>
<div><p>The <code class="docutils literal"><span class="pre">RenderCallback</span></code> function are now called right before rendering the current frame, so the scene and objects are up-to-date.</p>
</div></blockquote>
</li>
<li><p class="first">Issues with rendering shadows from multiple light sources of different types (such as <code class="docutils literal"><span class="pre">POINT</span></code> and <code class="docutils literal"><span class="pre">SUN</span></code>) have been fixed.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Environment</span></code> texture rendering while using the texture as the world map and in a stock material at the same time has been corrected.</p>
</li>
</ul>
</div>
<div class="section" id="id44">
<h3>Known Issues<a class="headerlink" href="#id44" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
<li><p class="first">NVIDIA 331 driver in Linux can cause WebGL errors.</p>
</li>
<li><p class="first">Changed texture filtering on some platforms.</p>
<blockquote>
<div><p>An incorrect texture filtering was disabled on iPad and Internet Explorer for materials with <em>Alpha Clip</em> type of transparency.</p>
</div></blockquote>
</li>
<li><p class="first">Some devices with Mail GPU require manual WebGL activation in browser settings.</p>
</li>
<li><p class="first">For the local development server to work on Apple macOS and Blender 2.76, you may need to install <a class="reference external" href="https://www.python.org/downloads/release/python-343/">Python 3.4</a>. This is due to a bug in Blender <a class="reference external" href="https://developer.blender.org/T46623">https://developer.blender.org/T46623</a>. This bug has been fixed in Blender 2.76b, so updating it is advised.</p>
</li>
<li><p class="first">Skeletal animation can work incorrectly while using Nouveau drivers.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-12">
<h2>v15.12<a class="headerlink" href="#v15-12" title="永久链接至标题">¶</a></h2>
<div class="section" id="id45">
<h3>新功能<a class="headerlink" href="#id45" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Support for shadows from multiple sources.</p>
<blockquote>
<div><p>Support for shadows from multiple sources has been added. This feature can be used to greatly improve the realism of scenes lit by multiple light sources. Its functions and limitations are described in the <a class="reference internal" href="lighting.html#shadows"><span>documentation</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="stereo_rendering.html#stereo"><span>Experimental support of the HMD (Head-mounted display).</span></a></p>
<blockquote>
<div><p>Experimental support for the head-mounted displays with the WebVR API has been added. For now, using this technology requires a web browser with WebVR support and an Oculus Rift device. More details in the documentation.</p>
</div></blockquote>
</li>
<li><p class="first">Aligning objects with the camera in the viewport.</p>
<blockquote>
<div><p>The new Viewport Alignment option can be used to attach objects to the camera in the viewport. This feature can be used to create UI elements attached to the center, edge or corner of the screen. Unlike parent-child alignment, the position of an aligned object will automatically change when screen resolution or aspect ratio is changed.</p>
<p>Functionality of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html#.append_stiff_viewport">append_stiff_viewport()</a> method used for Stiff Viewport constraint has also been expanded.</p>
</div></blockquote>
</li>
<li><p class="first">An option to show camera limits in Blender viewport.</p>
<blockquote>
<div><p>To make the task of setting camera limits up simpler, the <code class="docutils literal"><span class="pre">Display</span> <span class="pre">limits</span> <span class="pre">in</span> <span class="pre">viewport</span></code> option has been added to the <code class="docutils literal"><span class="pre">Data</span></code> panel of the camera object. When enabled, it will show the limits right in the Blender viewport. Default settings of the limits has also been changed.</p>
</div></blockquote>
</li>
<li><p class="first">Anaglyph rendering improvements.</p>
<blockquote>
<div><p>New anaglyph rendering algorithm has been implemented. It has better color rendering. Also, plane of convergence of the left and right image for a TARGET type camera will now be calculated automatically based on a point around which the camera is rotated.</p>
</div></blockquote>
</li>
<li><p class="first">New logic editor nodes.</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">Move</span> <span class="pre">To</span></code>: Can be used to move an object to another object.</li>
<li><code class="docutils literal"><span class="pre">Console</span> <span class="pre">Print</span></code>: Can be used to print various information (including variables values) to the web browser console.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">A Stereo View button has been added to the Web Player.</p>
<blockquote>
<div><p>Can be used to switch to the HMD mode (if the web browser supports this technology) or to anaglyph mode.</p>
</div></blockquote>
</li>
<li><p class="first">New methods for working with objects.</p>
<blockquote>
<div><p>The new methods <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_selectable_objects">get_selectable_objects</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_outlining_objects">get_outlining_objects</a> have been added to make working with objects simpler.</p>
</div></blockquote>
</li>
<li><p class="first">Dynamic objects can now be deleted.</p>
<blockquote>
<div><p>Before, only objects copied by the user could have been deleted.</p>
</div></blockquote>
</li>
<li><p class="first">The option to choose an annotation of an object based on the canvas coordinates has been added.</p>
<blockquote>
<div><p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.pick_object">pick_object</a> function now returns the object&#8217;s annotation, if the object is present in the sent coordinates.</p>
</div></blockquote>
</li>
<li><p class="first">A new method to initialize media resources for mobile devices has been added.</p>
<blockquote>
<div><p>Before, forced canvas block was used as a workaround of the mobile browsers restriction of loading media resources (video and audio), and a user had to click a popup icon to start the application. Now, you can manually initialize media resources by using <a class="reference external" href="https://www.blend4web.com/api_doc/module-data.html#.activate_media">activate_media</a> method. This function can be useful if the application already have elements that require user input, such as Start button, sound mute button and so on.</p>
</div></blockquote>
</li>
<li><p class="first">New sensor manifold type - <code class="docutils literal"><span class="pre">CT_POSITIVE</span></code></p>
<blockquote>
<div><p>The new <code class="docutils literal"><span class="pre">CT_POSITIVE</span></code> sensor manifold type activates event handler if the logic function result isn&#8217;t zero.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id46">
<h3>变更<a class="headerlink" href="#id46" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">The <code class="docutils literal"><span class="pre">Fast</span> <span class="pre">Preview</span></code> button has been duplicated in the UI low panel.</p>
<blockquote>
<div><p>This button can be used to preview the scene without switching to the <code class="docutils literal"><span class="pre">Development</span> <span class="pre">Server</span></code> scene settings panel.</p>
</div></blockquote>
</li>
<li><p class="first">Canvas texture API has been changed.</p>
<blockquote>
<div><p>Now working with a canvas texture is simpler. New methods <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.get_canvas_ctx">get_canvas_ctx</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.update_canvas_ctx">update_canvas_ctx</a> have been added. The <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.get_canvas_texture_context">get_canvas_texture_context</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.update_canvas_texture_context">update_canvas_texture_context</a> methods have been declared deprecated and are not recommended to use. The <em>Source ID</em> interface field for the canvas texture has also been removed.</p>
</div></blockquote>
</li>
<li><p class="first">Wrong behavior of the shadows from Alpha Clip materials has been fixed.</p>
<blockquote>
<div><p>Incorrect behavior of the shadows casted by the objects with Alpha Clip materials without transparency value has been fixed.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id47">
<h3>修复<a class="headerlink" href="#id47" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Incorrect physics of a copied object has been fixed.</p>
<blockquote>
<div><p>Incorrect physics behavior of a copied object (which occurred if the object was moved before being added to the scene) has been fixed.</p>
</div></blockquote>
</li>
<li><p class="first">Incorrect fog behavior if a water plane was added to the scene has been fixed.</p>
</li>
<li><p class="first">Misplacing of the Blender interface panels in basic scene for a new project has been fixed.</p>
</li>
<li><p class="first">Cubemap rendering issue on the NVIDIA GeForce 200 series GPU has been fixed.</p>
</li>
<li><p class="first">Engine workflow on iPhone (4, 4S and 5), iPad (2nd, 3rd and 4th generations) and iPad Mini (1st and 2nd generations) has been improved.</p>
</li>
<li><p class="first">Incorrect rendering of the shadows casted by billboard objects has been fixed.</p>
</li>
</ul>
</div>
<div class="section" id="id48">
<h3>Known Issues<a class="headerlink" href="#id48" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
<li><p class="first">NVIDIA 331 driver in Linux can cause WebGL errors.</p>
</li>
<li><p class="first">Changed texture filtering on some platforms.</p>
<blockquote>
<div><p>An incorrect texture filtering was disabled on iPad and Internet Explorer for materials with <em>Alpha Clip</em> type of transparency.</p>
</div></blockquote>
</li>
<li><p class="first">Incorrect Depth texture behavior on Windows OS.</p>
<blockquote>
<div><p>Depth textures are unstable on Google Chrome 32 bit on Windows. This problem is fixed in the beta version of the browser.</p>
</div></blockquote>
</li>
<li><p class="first">Some devices with Mail GPU require manual WebGL activation in browser settings.</p>
</li>
<li><p class="first">For the local development server to work on Apple macOS and Blender 2.76, you may need to install <a class="reference external" href="https://www.python.org/downloads/release/python-343/">Python 3.4</a>. This is due to a bug in Blender <a class="reference external" href="https://developer.blender.org/T46623">https://developer.blender.org/T46623</a>. This bug has been fixed in Blender 2.76b, so updating it is advised.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-11">
<h2>v15.11<a class="headerlink" href="#v15-11" title="永久链接至标题">¶</a></h2>
<div class="section" id="id50">
<h3>新功能<a class="headerlink" href="#id50" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Initial support of WebGL 2.0 technology.</p>
<blockquote>
<div><p>New API features are automatically provided with compatible browser and hardware</p>
</div></blockquote>
</li>
<li><p class="first">New Logic Editor Features:</p>
<blockquote>
<div><ul>
<li><p class="first">Camera animation.</p>
<blockquote>
<div><p>The option to smoothly change camera&#8217;s position has been added to the <code class="docutils literal"><span class="pre">Move</span> <span class="pre">Camera</span></code> node.</p>
</div></blockquote>
</li>
<li><p class="first">New: behavior animation.</p>
<blockquote>
<div><p>The <code class="docutils literal"><span class="pre">Play</span> <span class="pre">Animation</span></code> node can now add <cite>Behavior</cite> animation to an object.</p>
</div></blockquote>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">Stop</span> <span class="pre">Animation</span></code> node</p>
<blockquote>
<div><p>Can be used to stop object&#8217;s animation</p>
</div></blockquote>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">Stop</span> <span class="pre">Sound</span></code> node</p>
<blockquote>
<div><p>Can be used to stop a speaker&#8217;s sound playback</p>
</div></blockquote>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">Stop</span> <span class="pre">Timeline</span></code> node</p>
<blockquote>
<div><p>Can be used to stop NLA animation</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">MSAA support</p>
<blockquote>
<div><p>This antialiasing algorithm is used in systems compatible with WebGL 2.0. For now, it allows the highest image quality on the ULTRA settings by using 16x MSAA algorithm.</p>
</div></blockquote>
</li>
<li><p class="first">Viewer interface improvements.</p>
<blockquote>
<div><p>A <code class="docutils literal"><span class="pre">Home</span></code> button has been added. When pushed, it will open the basic scene specified in the application&#8217;s URL parameters, or, if there isn&#8217;t any, a placeholder scene with Blend4Web cubic logo will be opened.</p>
<p>The <code class="docutils literal"><span class="pre">Reset</span></code> button has been moved to the right side of the application&#8217;s upper panel and will now reset not only internal but also URL parameters (such as loaded basic scene) of the Viewer.</p>
<p>The <code class="docutils literal"><span class="pre">Auto</span> <span class="pre">View</span> <span class="pre">Mode</span></code> button used for automatic walkthrough of all scenes has been moved to the <code class="docutils literal"><span class="pre">Tools</span> <span class="pre">&amp;</span> <span class="pre">Debug</span></code> panel.</p>
</div></blockquote>
</li>
<li><p class="first">High precision rendering performance measure mechanic.</p>
<blockquote>
<div><p>Using the WebGL extension EXT_disjoint_timer_query allows high precision timers to be created, which can be used to measure the performance of GPU operations. With the activation of the debug mode in the Viewer (&#8216;&#8217;HUD Info`` option in the <code class="docutils literal"><span class="pre">Tools</span> <span class="pre">&amp;</span> <span class="pre">Debug</span></code> panel), the time (in milliseconds) the GPU needs to render part of the scene (subscene) is shown in the last column of the debug information.</p>
</div></blockquote>
</li>
<li><p class="first">Web player improvements.</p>
<blockquote>
<div><p>Now, the cursor changes appearance while the camera is moving.</p>
</div></blockquote>
</li>
<li><p class="first">There are numerous additions and improvements in the documentation.</p>
</li>
</ul>
</div>
<div class="section" id="id51">
<h3>变更<a class="headerlink" href="#id51" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">The <code class="docutils literal"><span class="pre">Copy</span> <span class="pre">Cursor</span> <span class="pre">Location</span></code> button has been renamed to <code class="docutils literal"><span class="pre">Look</span> <span class="pre">At</span> <span class="pre">Cursor</span></code>, and its behavior has also been changed.</p>
<blockquote>
<div><p>Now, by pressing this button, you can rotate the camera to the pointed direction.</p>
</div></blockquote>
</li>
<li><p class="first">Changes API.</p>
<blockquote>
<div><p>For compatibility with third-party applications,:b4wref:<cite>transform.set_matrix</cite>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_matrix">get_matrix</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_matrix_rel">set_matrix_rel</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_matrix_rel">get_matrix_rel</a> methods has been added, but for optimization purposes, using <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_tsr">set_tsr</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_tsr">get_tsr</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_tsr_rel">set_tsr_rel</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_tsr_rel">get_tsr_rel</a> methods is recommended.</p>
<p>Now the <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.hide_object">hide_object</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.show_object">show_object</a> functions will, by default, change the visibility of an object and all its children. To change only the current object&#8217;s visibility, <code class="docutils literal"><span class="pre">ignore_children</span></code> parameter with <code class="docutils literal"><span class="pre">true</span></code> value should be sent.</p>
<p>The following method has been declared deprecated and will be removed in further releases: <a class="reference external" href="https://www.blend4web.com/api_doc/module-tsr.html#.create_sep">create_sep()</a> (<a class="reference external" href="https://www.blend4web.com/api_doc/module-tsr.html">tsr</a> module). <a class="reference external" href="https://www.blend4web.com/api_doc/module-tsr.html">tsr</a> module&#8217;s <a class="reference external" href="https://www.blend4web.com/api_doc/module-tsr.html#.set_sep">set_sep()</a> method should be used instead of it.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera</a> module API has been changed considerably. Deprecated methods <cite>is_camera()</cite>, <cite>rotate_pivot()</cite>, <cite>rotate_hover_cam()</cite>, <cite>get_hover_cam_angle()</cite>, <cite>set_hover_cam_angle()</cite>, <cite>translate_hover_cam_v()</cite>, <cite>set_eye_params()</cite>, <cite>rotate()</cite>, <cite>get_angles()</cite> have been removed. The following methods have also been declared deprecated: <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_look_at">set_look_at</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.rotate_eye_camera">rotate_eye_camera</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.rotate_target_camera">rotate_target_camera</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_trans_pivot">set_trans_pivot</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.zoom_object">zoom_object</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_pivot">set_pivot</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.rotate_hover_camera">rotate_hover_camera</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_hover_cam_pivot">get_hover_cam_pivot</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_eye">get_eye</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_pivot">get_pivot</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.hover_cam_set_translation">hover_cam_set_translation</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_hover_pivot">set_hover_pivot</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_hover_angle_limits">get_hover_angle_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_cam_dist_limits">get_cam_dist_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.apply_vertical_limits">apply_vertical_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.clear_hover_angle_limits">clear_hover_angle_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.apply_hover_angle_limits">apply_hover_angle_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.apply_distance_limits">apply_distance_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.clear_distance_limits">clear_distance_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_vertical_limits">get_vertical_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.apply_horizontal_limits">apply_horizontal_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_horizontal_limits">get_horizontal_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.clear_vertical_limits">clear_vertical_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.clear_horizontal_limits">clear_horizontal_limits</a>. In their place, we recommend using methods starting with camera type prefix: <code class="docutils literal"><span class="pre">target_...</span></code>, <code class="docutils literal"><span class="pre">eye_...</span></code>, <code class="docutils literal"><span class="pre">static_...</span></code>, <code class="docutils literal"><span class="pre">hover_...</span></code>. Methods <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_velocity_params">set_velocity_params</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_velocity_params">get_velocity_params</a> have also been declared deprecated, and instead of them, using <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_velocities">set_velocities</a> and  b4wref:<cite>camera.get_velocities</cite>, respectively, is recommended</p>
<p>For working with the distance between the current TARGET or HOVER camera and the pivot point, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_get_distance">target_get_distance</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_set_distance">target_set_distance</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.hover_get_distance">hover_get_distance</a> methods have been added</p>
</div></blockquote>
</li>
<li><p class="first">In the Viewer, <code class="docutils literal"><span class="pre">Play</span> <span class="pre">All</span></code> and <code class="docutils literal"><span class="pre">Stop</span> <span class="pre">All</span></code> buttons have been added for playing and stopping all animations, respectively.</p>
</li>
<li><p class="first">Logic editor changes:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">Select</span></code> node and <code class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Play</span> <span class="pre">Animation</span></code> and <code class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Play</span> <span class="pre">Timeline</span></code> nodes based on it, have been declared deprecated. As a replacement, using the combination of <code class="docutils literal"><span class="pre">Switch</span> <span class="pre">Select</span></code>, <code class="docutils literal"><span class="pre">Play</span> <span class="pre">Animation</span></code> and <code class="docutils literal"><span class="pre">Play</span> <span class="pre">Timeline</span></code> nodes is recommended.</li>
<li>SDK examples, which were using aforementioned deprecated nodes, have been updated.</li>
<li>For the logic nodes behavior transparency, <code class="docutils literal"><span class="pre">Cyclic</span> <span class="pre">NLA</span></code> option has been switched off.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Behavior of the HOVER camera in the absence of limits has been changed.</p>
<blockquote>
<div><ul class="simple">
<li>HOVER camera will now be hanging over pivot point at a fixed distance and fixed angle.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Glow effect changes.</p>
<blockquote>
<div><p>Light sources will now influence <a class="reference internal" href="postprocessing_effects.html#glow"><span>glow effect</span></a>, if <code class="docutils literal"><span class="pre">Material</span></code> or <code class="docutils literal"><span class="pre">Extended</span> <span class="pre">Material</span></code> nodes are present.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id52">
<h3>修复<a class="headerlink" href="#id52" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Project Manager errors were fixed.</p>
<blockquote>
<div><p>Links to the developer&#8217;s applications included in the project are now showing in the list.</p>
<p>Formatting in the compiled applications&#8217; HTML files has been fixed.</p>
</div></blockquote>
</li>
<li><p class="first">Skinning on the mobile platforms has been improved.</p>
</li>
<li><p class="first">Addon&#8217;s translation files connection error has been fixed.</p>
<blockquote>
<div><p>An error that could have happened on some devices because of system&#8217;s inability to process addon&#8217;s translation files, has been fixed.</p>
</div></blockquote>
</li>
<li><p class="first">Particle objects shadow casting improvements.</p>
<blockquote>
<div><p>Fix behavior of the shadows casted by &#8220;Hair&#8221; particles (used as billboards) while changing the size of the main canvas.</p>
</div></blockquote>
</li>
<li><p class="first">Engine workflow on the Mali 400 series GPU has been fixed.</p>
</li>
<li><p class="first">Flat reflections and fog for <code class="docutils literal"><span class="pre">double_sided_lighting</span></code> materials have been fixed.</p>
</li>
<li><p class="first">Local Storage limited quota on the Safari browser in the incognito mode no longer causes error.</p>
</li>
<li><p class="first">Functionality of the <cite>Render Glow Over Transparent Objects`</cite> option in the Blender&#8217;s <a class="reference internal" href="postprocessing_effects.html#glow"><span>glow settings</span></a> has been restored.</p>
</li>
<li><p class="first">Several video texture playback issues have been fixed.</p>
</li>
</ul>
</div>
<div class="section" id="id53">
<h3>Known Issues<a class="headerlink" href="#id53" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
<li><p class="first">NVIDIA 331 driver in Linux can cause WebGL errors.</p>
</li>
<li><p class="first">Changed texture filtering on some platforms.</p>
<blockquote>
<div><p>An incorrect texture filtering was disabled on iPad and Internet Explorer for materials with <em>Alpha Clip</em> type of transparency.</p>
</div></blockquote>
</li>
<li><p class="first">Incorrect Depth texture behavior on Windows OS.</p>
<blockquote>
<div><p>Depth textures are unstable on Google Chrome 32 bit on Windows. This problem is fixed in the beta version of the browser.</p>
</div></blockquote>
</li>
<li><p class="first">Some devices with Mail GPU require manual WebGL activation in browser settings.</p>
</li>
<li><p class="first">You may require to install <a class="reference external" href="https://www.python.org/downloads/release/python-343/">Python 3.4</a> on the systems with Apple macOS and Blender 2.76. This issue is connected with Blender bug <a class="reference external" href="https://developer.blender.org/T46623">https://developer.blender.org/T46623</a>.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-10">
<h2>v15.10<a class="headerlink" href="#v15-10" title="永久链接至标题">¶</a></h2>
<div class="section" id="id55">
<h3>新功能<a class="headerlink" href="#id55" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">New Project Manager features.</p>
<blockquote>
<div><p>It is now possible to export/import projects. This simplifies updating projects to newer versions of the SDK and also allows users to run and debug projects on various platforms. You can also share your projects with other developers in an efficient way.</p>
<p>You can now create <code class="docutils literal"><span class="pre">WebPlayer</span> <span class="pre">JSON</span></code> and <code class="docutils literal"><span class="pre">WebPlayer</span> <span class="pre">HTML</span></code> projects. Such options allow you to create projects specifically for WebPlayer app which do not require writing any additional code.</p>
<p>To simplify navigation between your projects, two features have been added. The first one is the possibility to sort projects by name, and the second one is the possibility to show/hide SDK&#8217;s stock projects.</p>
<p>It is now possible to remove projects from the SDK.</p>
<p>Improved Windows support. We now provide a Windows version of Java with the SDK, so you are no longer required to install any additional dependencies in order to build projects.</p>
</div></blockquote>
</li>
<li><p class="first">Anti-aliasing improvements.</p>
<blockquote>
<div><p>A new option <code class="docutils literal"><span class="pre">AA</span> <span class="pre">Quality</span></code> has been added to the <code class="docutils literal"><span class="pre">Render</span> <span class="pre">&gt;</span> <span class="pre">Anti-Aliasing</span></code> panel in Blender. This option allows you to select quality level of <a class="reference internal" href="postprocessing_effects.html#antialiasing"><span>anti-aliasing</span></a>. Also, the anti-aliasing algorithm is now based on FXAA 3.11, which increases both quality and performance especially for HIGH and ULTRA quality profiles.</p>
</div></blockquote>
</li>
<li><p class="first">Node Logic Editor improvements.</p>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Move</span> <span class="pre">Camera</span></code> node.</p>
<blockquote>
<div><p>Allows you to specify the camera&#8217;s location and target.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Play</span> <span class="pre">Sound</span></code> node.</p>
<blockquote>
<div><p>Allows you to play back sound from a selected speaker.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Switch</span> <span class="pre">Select</span></code> node.</p>
<blockquote>
<div><p>This node works the same way as Select but allows you to select multiple objects in more flexible and convenient way.</p>
</div></blockquote>
</li>
<li><p class="first">Support for random numbers generation has been added to the <code class="docutils literal"><span class="pre">Math</span> <span class="pre">Operation</span></code> node.</p>
</li>
<li><p class="first">Support for <code class="docutils literal"><span class="pre">POST</span></code> requests in the <code class="docutils literal"><span class="pre">Send</span> <span class="pre">Request</span></code> node.</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Repeat</span></code> mapping type for non-power-of-two textures is now supported.</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Repeat</span></code> mapping type is now supported for non-power-of-two textures (i.e. textures whose dimensions are not 256, 512, 1024, etc). Also the mipmapping technique (trilinear filtering) is also supported for such textures.</p>
</div></blockquote>
</li>
<li><p class="first">Automatic rescaling of textures is now performed if their dimensions exceed platform limits.</p>
<blockquote>
<div><p>In the cases when texture dimensions exceed platform limits, textures will be automatically downscaled. The only exception is compressed textures.</p>
</div></blockquote>
</li>
<li><p class="first">New button <code class="docutils literal"><span class="pre">Fast</span> <span class="pre">Preview</span></code> to perform fast scene previews.</p>
<blockquote>
<div><p>The button is located on the <code class="docutils literal"><span class="pre">Render</span> <span class="pre">&gt;</span> <span class="pre">Development</span> <span class="pre">Server</span></code> panel.</p>
</div></blockquote>
</li>
<li><p class="first">Support for <em>Intensity</em> and <em>Color</em> animation of lamp objects.</p>
<blockquote>
<div><p>It is now possible to animate intensity and color of lamp objects, both when using conventional and NLA animation.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id56">
<h3>变更<a class="headerlink" href="#id56" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Project Manager interface has been improved.</p>
<blockquote>
<div><p>Improved UI, added <code class="docutils literal"><span class="pre">Development</span> <span class="pre">Server</span> <span class="pre">&gt;</span> <span class="pre">Project</span> <span class="pre">Manager</span></code> button to run the Project Manager in the default browser.</p>
</div></blockquote>
</li>
<li><p class="first">Speakers functioning has been improved.</p>
<blockquote>
<div><p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-sfx.html#.is_play">is_play()</a> method now correctly notifies about finishing sound playback, with a minimal delay.</p>
</div></blockquote>
</li>
<li><p class="first">Some new export warnings have been added.</p>
<blockquote>
<div><p>Upon exporting some objects, their type will be changed to <code class="docutils literal"><span class="pre">EMPTY</span></code> in case of empty geometry or in the case when the sound file for the <code class="docutils literal"><span class="pre">SPEAKER</span></code> object does not exist. Messages on such facts are now displayed in the browser console.</p>
</div></blockquote>
</li>
<li><p class="first">Displaying the object selector for logic nodes has been improved.</p>
</li>
<li><p class="first">Gamma correction behavior in node materials has been changed.</p>
<blockquote>
<div><p><a class="reference internal" href="colors.html#gamma-node-materials"><span>Gamma correction in node materials</span></a> is now performed differently because of changes in Blender 2.76.</p>
</div></blockquote>
</li>
<li><p class="first">Changes API.</p>
<blockquote>
<div><p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-main.html#.resize">resize</a> method is now deprecated and will be deleted from the <a class="reference external" href="https://www.blend4web.com/api_doc/module-main.html">main</a> module. The <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.resize">resize</a> method from the <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html">container</a> module should be used instead.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id57">
<h3>修复<a class="headerlink" href="#id57" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Project Manager errors were fixed.</p>
</li>
<li><p class="first">Stability on mobile devices has been improved for scenes with too many lamps.</p>
</li>
<li><p class="first">Stability on Unix systems has been increased.</p>
<blockquote>
<div><p>Stability on Unix-systems using AMD GPUs and open source drivers has been increased.</p>
</div></blockquote>
</li>
<li><p class="first">An error related to annotations being added to a scene has been fixed.</p>
<blockquote>
<div><p>Fixed an error which occurred when annotations without the <em>Object -&gt; Meta Tags</em> property were added to the scene.</p>
</div></blockquote>
</li>
<li><p class="first">Fixed an error with incorrect audio playback during browser tabs switch.</p>
</li>
<li><p class="first">Several video texture errors have been fixed.</p>
</li>
<li><p class="first">Fixed an error occurred when an empty node group was used inside a node material.</p>
</li>
<li><p class="first">Fixed an error with a particle system which use an object with LOD as a particle.</p>
</li>
<li><p class="first">The Delay node error when using a variable as a parameter has been fixed in the logic editor.</p>
</li>
<li><p class="first">Fixed an error in the logic editor which occurred upon deleting an <code class="docutils literal"><span class="pre">Entry</span> <span class="pre">Point</span></code> node.</p>
</li>
<li><p class="first">Fixed an error in the logic editor with duplicated variables in the dropdown list.</p>
</li>
<li><p class="first">Fixed an error in scenes which use both the <code class="docutils literal"><span class="pre">Play</span> <span class="pre">Animation</span></code> logic node and the switched off <code class="docutils literal"><span class="pre">NLA</span></code> flag.</p>
</li>
<li><p class="first">The behavior of the <code class="docutils literal"><span class="pre">Math-&gt;Power</span></code> and <code class="docutils literal"><span class="pre">Gamma</span></code> shader nodes has been fixed and is now consistent with Blender.</p>
</li>
</ul>
</div>
<div class="section" id="id58">
<h3>Known Issues<a class="headerlink" href="#id58" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
<li><p class="first">NVIDIA 331 driver in Linux can cause WebGL errors.</p>
</li>
<li><p class="first">Changed texture filtering on some platforms.</p>
<blockquote>
<div><p>An incorrect texture filtering was disabled on iPad and Internet Explorer for materials with <em>Alpha Clip</em> type of transparency.</p>
</div></blockquote>
</li>
<li><p class="first">Incorrect Depth texture behavior on Windows OS.</p>
<blockquote>
<div><p>Depth textures are unstable on Google Chrome 32 bit on Windows. This problem is fixed in the beta version of the browser.</p>
</div></blockquote>
</li>
<li><p class="first">Some devices with Mail GPU require manual WebGL activation in browser settings.</p>
</li>
<li><p class="first">You may require to install <a class="reference external" href="https://www.python.org/downloads/release/python-343/">Python 3.4</a> on the systems with Apple macOS and Blender 2.76. This issue is connected with Blender bug <a class="reference external" href="https://developer.blender.org/T46623">https://developer.blender.org/T46623</a>.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-09">
<h2>v15.09<a class="headerlink" href="#v15-09" title="永久链接至标题">¶</a></h2>
<div class="section" id="id60">
<h3>新功能<a class="headerlink" href="#id60" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Project Management.</p>
<blockquote>
<div><p>A new project management system allows one to:</p>
<blockquote>
<div><ul class="simple">
<li>show the list and info about existing projects</li>
<li>execute apps, load scenes in the Viewer app, load scene files in Blender.</li>
<li>create and configure new applications, optionally using prefabricated app/scene starter files to simplify creating new applications</li>
<li>build applications, create versions suitable for deployment on a server</li>
<li>convert application resources (textures, sounds and video) to alternative formats</li>
<li>automatically reexport all application scenes including json and html files</li>
</ul>
</div></blockquote>
<p>There are two methods to manage projects: by using <em>project.py</em> utility which has a simple self-documented command line interface, or using a GUI web application, which is run on the developer server. This server does not require any additional configuration and as before is executed by the <code class="docutils literal"><span class="pre">Open</span> <span class="pre">SDK</span></code> button in Blender.</p>
<p>The project management system works on all operating systems, however, some operations may require additional dependencies. To find out more about the configuration of this system check out the following <a class="reference internal" href="project_manager.html#project-management"><span>topic</span></a> in documentation.</p>
</div></blockquote>
</li>
<li><p class="first">Controlling armature bones.</p>
<blockquote>
<div><p>Enhanced features to control armature objects.</p>
<p>Added a new <a class="reference external" href="https://www.blend4web.com/api_doc/module-armature.html">armature</a> module which includes methods to get or assign bone positions both in armature coordinate space (<a class="reference external" href="https://www.blend4web.com/api_doc/module-armature.html#.get_bone_tsr">get_bone_tsr()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-armature.html#.set_bone_tsr">set_bone_tsr()</a>) and in bone-relative coordinate space (<a class="reference external" href="https://www.blend4web.com/api_doc/module-armature.html#.get_bone_tsr_rel">get_bone_tsr_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-armature.html#.set_bone_tsr_rel">set_bone_tsr_rel()</a>). By using these methods, it&#8217;s possible to program armature behavior. For example, animate interactive characters or create sophisticated armature-based objects with multiple moving parts.</p>
<p>Support for <code class="docutils literal"><span class="pre">COPY_TRANSFORMS</span></code> constraints on bones. This allows bones to follow movements of any objects located on the scene, e.g create physically simulated &#8220;Ragdoll&#8221; objects.</p>
</div></blockquote>
</li>
<li><p class="first">New logic editor nodes.</p>
<blockquote>
<div><ul class="simple">
<li>Play Animation: play animation of an object.</li>
<li>Send Request: send HTTP GET request to a server and parse its response.</li>
<li>Inherit Material: copy material properties from one object to another.</li>
<li>Set Shader Node Param: change outputs of Value and RGB shader nodes.</li>
<li>Delay: delay program execution for a given amount of time.</li>
<li>Apply Shape Key: change shape key value for an object.</li>
<li>Outline: control object outlining effect.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">Allow</span> <span class="pre">NLA</span></code> settings for video textures, which enables/disables NLA-animation for a given texture.</p>
</li>
<li><p class="first">New features in the <em>material</em> module.</p>
<blockquote>
<div><p>New APIs added <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.set_specular_color_factor">set_specular_color_factor</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.get_specular_color_factor">get_specular_color_factor</a>.</p>
</div></blockquote>
</li>
<li><p class="first">New features on the SDK index web page.</p>
<blockquote>
<div><p>Index page of the SDK now contains a <em>Tools</em> section, which in turn includes <em>Project Manager</em> and <em>WebGL Report</em> tools.</p>
</div></blockquote>
</li>
<li><p class="first">Web player improvements.</p>
<blockquote>
<div><p>A new optional <code class="docutils literal"><span class="pre">alpha</span></code> setting has been added, which is used to set rendering canvas transparency. The <a class="reference internal" href="postprocessing_effects.html#outline"><span>Outline on Select</span></a> feature is now supported.</p>
</div></blockquote>
</li>
<li><p class="first">New app compilation type <code class="docutils literal"><span class="pre">update</span></code> has been added to <em>project.py</em> utility.</p>
<blockquote>
<div><p>This type of app compilation allows one to update the engine inside a project directory. The app itself is not compiled with this option. The feature is useful for basic applications and tutorials.</p>
</div></blockquote>
</li>
<li><p class="first">New features in the <em>app</em> module.</p>
<blockquote>
<div><p>A new param <code class="docutils literal"><span class="pre">disable_zoom</span></code> has been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.enable_camera_controls">enable_camera_controls()</a> method. This parameter disables zoom movements of the camera.</p>
<p>A new method <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.queue_animate">queue_animate()</a> has been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html">app</a> module.</p>
</div></blockquote>
</li>
<li><p class="first">New features in the <em>scenes</em> module.</p>
<blockquote>
<div><p>A new method <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.has_picking_subs">has_picking_subs()</a> has been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html">scenes</a> module.</p>
</div></blockquote>
</li>
<li><p class="first">New features in the <em>debug</em> module.</p>
<blockquote>
<div><p>A new method <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.fake_load">fake_load()</a> has been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html">debug</a> module.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id61">
<h3>变更<a class="headerlink" href="#id61" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Add-ons (such as <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html">app</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-mouse.html">mouse</a> and others) are now a part of the compiled engine version:</p>
<blockquote>
<div><ul class="simple">
<li>b4w.min.js - advanced optimization (b4w.full.min.js previously)</li>
<li>b4w.simple.min.js - simple optimization</li>
<li>b4w.whitespace.min.js - optimization of whitespaces used in the code</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The correct version is chosen according to the <a class="reference internal" href="project_manager.html#project-management"><span>application compilation</span></a> settings.</p>
</div></blockquote>
</li>
<li><p class="first">Node Logic Editor improvements.</p>
<blockquote>
<div><ul class="simple">
<li><cite>Play</cite> -&gt; <cite>Play Timeline</cite>; <cite>Select &amp; Jump</cite> -&gt; <cite>Select</cite>, <cite>Register Store</cite> -&gt; <cite>Variable Store</cite> nodes were renamed.</li>
<li>Now it is possible to create user-defined variables apart from register-variables.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">The rarely used <code class="docutils literal"><span class="pre">combine</span></code> engine building method was removed.</p>
</li>
<li><p class="first">Documentation for the <a class="reference internal" href="developers.html#converter"><span>resource converter</span></a> was revised.</p>
</li>
<li><p class="first">Documentation for the <a class="reference internal" href="addon.html#translator"><span>addon translator</span></a> was revised</p>
</li>
<li><p class="first">The export of UV-layers and vertex colors was changed.</p>
<blockquote>
<div><p>Now the behavior of UV-layers and vertex colors resembles that in Blender even more.</p>
</div></blockquote>
</li>
<li><p class="first">Support for NLA-animation and video-textures was extended. They act similar to those in Blender.</p>
</li>
<li><p class="first">A message about the lack of animation channels was added to the <a class="reference internal" href="addon.html#export-errors-other"><span>export errors</span></a>.</p>
</li>
<li><p class="first">A non-critical export error on the selection of unsupported <code class="docutils literal"><span class="pre">Render</span> <span class="pre">Type</span></code> in particle systems was added.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">Specular</span> <span class="pre">Color</span> <span class="pre">Factor</span></code> property is now being inherited during material inheritance (<a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.inherit_material">inherit_material</a> API method).</p>
</li>
<li><p class="first">Changes API.</p>
<blockquote>
<div><p>The following methods are marked as deprecated and will be removed in future releases: <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.is_camera">is_camera</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.is_mesh">is_mesh</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.is_armature">is_armature</a>.</p>
<p>The following methods of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html">objects</a> module should be used instead: <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_camera">is_camera</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_mesh">is_mesh</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_armature">is_armature</a></p>
<p>Also, there are the following new methods: <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_speaker">is_speaker</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_lamp">is_lamp</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_empty">is_empty</a>.</p>
<p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_object_by_dupli_name_list">get_object_by_dupli_name_list</a> method now returns <code class="docutils literal"><span class="pre">null</span></code>, if the <code class="docutils literal"><span class="pre">name_list</span></code> parameter is given incorrectly. The <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_object_name_hierarchy">get_object_name_hierarchy</a> method for receiving the full list of names with respect to object duplication was added. The value returned by this method is a valid input for the <code class="docutils literal"><span class="pre">get_object_by_dupli_name_list</span></code> function.</p>
<p>The <code class="docutils literal"><span class="pre">wireframe_mode</span></code> parameter in the <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.set_debug_params">set_debug_params</a> method now has a value of one of the following constants: <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.WM_NONE">WM_NONE</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.WM_OPAQUE_WIREFRAME">WM_OPAQUE_WIREFRAME</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.WM_TRANSPARENT_WIREFRAME">WM_TRANSPARENT_WIREFRAME</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.WM_FRONT_BACK_VIEW">WM_FRONT_BACK_VIEW</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.WM_DEBUG_SPHERES">WM_DEBUG_SPHERES</a>.</p>
</div></blockquote>
</li>
<li><p class="first">NLA Animation Behavior for dynamically loaded scenes changes.</p>
<blockquote>
<div><p>If there are objects with NLA-animation in such scenes, they are now influenced by the NLA settings of the main scene. Previously, such animation was not supported.</p>
</div></blockquote>
</li>
<li><p class="first">The refactoring of the objects&#8217; internal structure was continued.</p>
</li>
<li><p class="first">Export error was added.</p>
<blockquote>
<div><p>Now when an object with a type other than &#8220;Mesh&#8221; is used as a &#8220;Hair&#8221; particle, a non-critical <a class="reference internal" href="addon.html#export-errors-warnings"><span>export error</span></a> will occur.</p>
</div></blockquote>
</li>
<li><p class="first">Licensing information was added to the distribution sources.</p>
</li>
<li><p class="first">Now texture slots with Environment Maps containing video textures are not exported.</p>
<blockquote>
<div><p>A <a class="reference internal" href="addon.html#export-errors-warnings"><span>non-critical export error</span></a>, stating that a video cannot be used as an Environment Map, was added.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id62">
<h3>修复<a class="headerlink" href="#id62" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Render</span> <span class="pre">Above</span> <span class="pre">All</span></code> option now works correctly with node materials.</p>
</li>
<li><p class="first">Fixed <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.remove_object">remove_object()</a> function.</p>
</li>
<li><p class="first">&#8220;Hair&#8221; particles have become more stable.</p>
<blockquote>
<div><p>Fixed the bug that appeared while using an object with the&#8221;Hair&#8221; particle modifier.</p>
</div></blockquote>
</li>
<li><p class="first">Improved Windows Phone support.</p>
</li>
<li><p class="first">Fixed the bug that appeared while copying physical objects.</p>
</li>
<li><p class="first">Fixed the bug with <code class="docutils literal"><span class="pre">Orco</span></code> vector output when an object has zero scale in one or several axes.</p>
</li>
<li><p class="first">Fixed the bug in particle emitters: it appeared when an object with physics settings was chosen as a particle.</p>
</li>
<li><p class="first">Fixed the bug in NLA animation: it could not start from a frame other than 0 before.</p>
</li>
<li><p class="first">Fixed <code class="docutils literal"><span class="pre">Lamp</span> <span class="pre">Data</span></code> behavior: previously the information about light sources was not always refreshed during scene loading.</p>
</li>
<li><p class="first">Fixed the bug in calculations of  <code class="docutils literal"><span class="pre">Normal</span></code> vector output in node <code class="docutils literal"><span class="pre">Geometry</span></code> on the back side of a polygon.</p>
</li>
<li><p class="first">Fixed the bug of <code class="docutils literal"><span class="pre">Orco</span></code> vector output in node <code class="docutils literal"><span class="pre">Geometry</span></code> that appeared if object was translated relatively to its origin in Blender.</p>
</li>
<li><p class="first">Fixed calculation of the last frame of NLA animation for video textures.</p>
</li>
<li><p class="first">Fixed the engine bug related to different setting combinations of objects&#8217; selection and outlining.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Wind</span> <span class="pre">bending</span></code> effect has become more stable.</p>
</li>
<li><p class="first">Fixed bugs in <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Clip</span></code> materials rendering.</p>
</li>
<li><p class="first">Fixed specular texture reproduction during material inheritance.</p>
</li>
<li><p class="first">Fixed the bug with light sources in apps with multiple scenes.</p>
</li>
</ul>
</div>
<div class="section" id="id63">
<h3>Known Issues<a class="headerlink" href="#id63" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
<li><p class="first">NVIDIA 331 driver in Linux can cause WebGL errors.</p>
</li>
<li><p class="first">Changed texture filtering on some platforms.</p>
<blockquote>
<div><p>An incorrect texture filtering was disabled on iPad and Internet Explorer for materials with <em>Alpha Clip</em> type of transparency.</p>
</div></blockquote>
</li>
<li><p class="first">Some devices with Mail GPU require manual WebGL activation in browser settings.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-08">
<h2>v15.08<a class="headerlink" href="#v15-08" title="永久链接至标题">¶</a></h2>
<div class="section" id="id64">
<h3>新功能<a class="headerlink" href="#id64" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Node-based logic editor.</p>
<blockquote>
<div><p>This new logic editor allows to add interactivity to your apps more easily by using a tree of connected nodes. The NLA Script tool which was previously used for this purpose has been removed, the old scripts are automatically converted to the newer format during blend file loading.</p>
</div></blockquote>
</li>
<li><p class="first">Support for various shading models inside <code class="docutils literal"><span class="pre">MATERIAL</span></code> and <code class="docutils literal"><span class="pre">MATERIAL_EXT</span></code> nodes.</p>
<blockquote>
<div><p>Now the diffuse and specular shading models are selected based on materials inside such nodes. This is different from the previous behavior when the shading was the same for all nodes and was assigned by node material itself. This feature allows mixing different basic materials (non-textured) inside node-based ones.</p>
</div></blockquote>
</li>
<li><p class="first">Improvements in transformation API.</p>
<blockquote>
<div><p>New <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html">transform</a> methods to perform relative objects transformations: <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_translation_rel">set_translation_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_translation_rel_v">set_translation_rel_v()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_translation_rel">get_translation_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_rotation_rel">set_rotation_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_rotation_rel_v">set_rotation_rel_v()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_rotation_rel">get_rotation_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_scale_rel">set_scale_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_scale_rel">get_scale_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_tsr_rel">set_tsr_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_tsr_rel">get_tsr_rel()</a>.</p>
<p>Methods without <code class="docutils literal"><span class="pre">_rel</span></code> suffix now always perform transformations in world coordinate space, even if they are children of other objects.</p>
<p>Also new methods to perform local rotations <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.rotate_x_local">rotate_x_local()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.rotate_y_local">rotate_y_local()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.rotate_z_local">rotate_z_local()</a> have been added to <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html">transform</a> module.</p>
</div></blockquote>
</li>
<li><p class="first">Improved support for OS Windows.</p>
<blockquote>
<div><p>Support for OS Windows in <a class="reference internal" href="developers.html#converter"><span>resource converter</span></a>. Now Windows users can create cross-browser applications which use media resources in different formats. Also the <a class="reference internal" href="developers.html#app-building"><span>application builder</span></a> app can also be run in Windows.</p>
</div></blockquote>
</li>
<li><p class="first">Support for the Microsoft Edge browser.</p>
</li>
<li><p class="first">Support for physics simulation in the main (non-worker) browser process.</p>
<blockquote>
<div><p>This feature is useful for eliminating delays in physics calculations in some mobile browsers. Earlier, all simulations took place in separate Worker threads. The feature is controlled by <code class="docutils literal"><span class="pre">physics_use_worker</span></code> parameter of the engine&#8217;s initialization.</p>
</div></blockquote>
</li>
<li><p class="first">Support for bounding box recalculation.</p>
<blockquote>
<div><p>A new method <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.update_boundings">update_boundings()</a> has been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html">objects</a> module. This method performs recalculations of the object&#8217;s boundings such as box, sphere, ellipsoid, cylinder, cone and capsule.</p>
</div></blockquote>
</li>
<li><p class="first">Documentation improvements.</p>
<blockquote>
<div><p>A new theme has been selected for the user manual. This theme improves documentation readability on displays with different screen resolutions.</p>
<p>Greatly improved and extended documentation for <a class="reference internal" href="developers.html#developers"><span>application developers</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">New APIs in <em>camera_anim</em> module.</p>
<blockquote>
<div><p>New methods <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.stop_cam_moving">stop_cam_moving()</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.stop_cam_rotating">stop_cam_rotating()</a> in the b4wmod:<cite>camera_anim</cite> module.</p>
</div></blockquote>
</li>
<li><p class="first">Binary compatibility checks.</p>
<blockquote>
<div><p>Now the version checks between .bin and .json files and the current engine version are performed while scenes load.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id65">
<h3>变更<a class="headerlink" href="#id65" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Changes in node material editor.</p>
<blockquote>
<div><p>Custom shader nodes have been moved from the <code class="docutils literal"><span class="pre">Group</span></code> menu to the <code class="docutils literal"><span class="pre">Blend4Web</span></code> menu. Also, an error with duplicated menu entries has been fixed.</p>
</div></blockquote>
</li>
<li><p class="first">Refactoring of object structure.</p>
<blockquote>
<div><p>Complete refactoring of an object structure has been initiated. Object structures now have strong typing and include less redundant data. This improves overall engine performance.</p>
</div></blockquote>
</li>
<li><p class="first">Changes API.</p>
<blockquote>
<div><p>The following methods are now deprecated and will be removed in future engine releases: <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_object_dg_parent">get_object_dg_parent()</a> (<a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html">scenes</a> module), <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html#.get_parent">get_parent()</a> (<a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html">constraints</a> module). Instead, it is recommended to use <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_parent">get_parent()</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_dg_parent">get_dg_parent()</a> from the <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html">objects</a> module.</p>
</div></blockquote>
</li>
<li><p class="first">Improved interaction between the development server and multiple Blender instances.</p>
</li>
</ul>
</div>
<div class="section" id="id66">
<h3>修复<a class="headerlink" href="#id66" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Fixed a compilation error in the <em>project.py</em> utility when a project is compiled to some external directory.</li>
<li>Fixed a web server error which could arise due corrupted Windows registry.</li>
<li>Fixed an export freeze for some corrupted .blend files.</li>
<li>Fixed incorrect non-uniform scale warnings upon exporting Metaball objects.</li>
<li>Fixed an error with <code class="docutils literal"><span class="pre">Auto</span> <span class="pre">View</span></code> mode in the <code class="docutils literal"><span class="pre">Viewer</span></code> app if were an empty scene category.</li>
<li>Fixed rendering of dynamically loaded materials if they have the same name.</li>
<li>Fixed an export error for scenes using <code class="docutils literal"><span class="pre">Copy</span> <span class="pre">Transforms</span></code> constraints.</li>
<li>Fixed an error with rendering depth textures in the Microsoft Edge browser.</li>
<li>Fixed a bug with touch events in the Microsoft Edge browser.</li>
</ul>
</div>
<div class="section" id="id67">
<h3>Known Issues<a class="headerlink" href="#id67" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>In the logic editor, some of looped links are highlighted in red. This issue has only cosmetic effect and can be safely ignored.</li>
</ul>
</div>
</div>
<div class="section" id="v15-07">
<h2>v15.07<a class="headerlink" href="#v15-07" title="永久链接至标题">¶</a></h2>
<div class="section" id="id68">
<h3>新功能<a class="headerlink" href="#id68" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Support for <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Clip</span></code> transparency for node materials.</p>
<blockquote>
<div><p>It is now possible to specify a transparency mask for <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Clip</span></code> materials using node logic.</p>
</div></blockquote>
</li>
<li><p class="first">Support for soft particles.</p>
<blockquote>
<div><p>The new property <code class="docutils literal"><span class="pre">Soft</span> <span class="pre">Particles</span></code> has been added to the <code class="docutils literal"><span class="pre">Render</span></code> panel of the <code class="docutils literal"><span class="pre">Emitter</span></code> particle system. When activated, this property renders smooth edges near opaque objects located on the scene. This effect is available only for materials with <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Sort</span></code>, <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Blend</span></code> or <code class="docutils literal"><span class="pre">Add</span></code> type of transparency.</p>
</div></blockquote>
</li>
<li><p class="first">New preprocessor for shader instructions.</p>
<blockquote>
<div><p>This new preprocessor has more straightforward architecture and works faster, which, in turn, greatly reduces overall scene loading time, especially in  cases with many different shaders.</p>
</div></blockquote>
</li>
<li><p class="first">Improved <em>Viewer</em> app performance.</p>
<blockquote>
<div><p>Performance problems caused by event handling in jQuery Mobile library have been fixed.</p>
</div></blockquote>
</li>
<li><p class="first">Zero level property for <em>HOVER</em> cameras.</p>
<blockquote>
<div><p>This property represents a Z coordinate of the reference plane in which the camera&#8217;s pivot point is located.</p>
</div></blockquote>
</li>
<li><p class="first">New sensor manifold type: <code class="docutils literal"><span class="pre">CT_CHANGE</span></code>.</p>
<blockquote>
<div><p>Along with <code class="docutils literal"><span class="pre">CT_CONTINOUS</span></code>, <code class="docutils literal"><span class="pre">CT_TRIGGER</span></code>, <code class="docutils literal"><span class="pre">CT_SHOT</span></code> and <code class="docutils literal"><span class="pre">CT_LEVEL</span></code> manifold types the new <code class="docutils literal"><span class="pre">CT_CHANGE</span></code> type can now be used. This type allows to execute a manifold&#8217;s callback right after any of the sensors&#8217; values in the manifold has been changed.</p>
</div></blockquote>
</li>
<li><p class="first">New APIs in <em>camera_anim</em> module.</p>
<blockquote>
<div><p>New API methods such as <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.move_camera_to_point">move_camera_to_point()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.rotate_camera">rotate_camera()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.is_moving">is_moving()</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.is_rotating">is_rotating()</a> have been added to module <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html">camera_anim</a>.</p>
</div></blockquote>
</li>
<li><p class="first">A new option to assign materials to objects.</p>
<blockquote>
<div><p>Until now it has not been possible to assign materials on objects using <code class="docutils literal"><span class="pre">Object</span></code> property. Now, this feature is supported.</p>
</div></blockquote>
</li>
<li><p class="first">Support for external requests to the local development server.</p>
<blockquote>
<div><p>This feature is enabled by the <em>Enable external requests</em> property in addon preferences.</p>
</div></blockquote>
</li>
<li><p class="first">New method <a class="reference external" href="https://www.blend4web.com/api_doc/module-time.html#.clear_animation">clear_animation()</a> in the <a class="reference external" href="https://www.blend4web.com/api_doc/module-time.html">time</a> module.</p>
</li>
<li><p class="first">New camera APIs.</p>
<blockquote>
<div><p>APIs of <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera</a> module has been extended by <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_vertical_limits">get_vertical_limits()</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_vertical_limits">has_vertical_limits()</a> methods which are used to get or check the camera&#8217;s vertical rotation and translation limits.</p>
</div></blockquote>
</li>
<li><p class="first">Documentation improvements.</p>
<blockquote>
<div><p>New user manual design optimized for devices of all kind.</p>
<p>The differences between coordinate systems used in Blender and Blend4Web are now specified in documentation.</p>
</div></blockquote>
</li>
<li><p class="first">Support for addon i18n.</p>
<blockquote>
<div><p>This feature allows translation of addon interface to different languages. The translation into Russian is almost complete.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id69">
<h3>变更<a class="headerlink" href="#id69" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Various usability improvements in the addon interface.</p>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">force_container_ratio</span></code> option in the <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.init">init()</a> method.</p>
</li>
<li><p class="first">Simplified usage of water caustics.</p>
<blockquote>
<div><p>Water caustics effect is now activated by the <code class="docutils literal"><span class="pre">Caustics</span></code> option located on the material&#8217;s <code class="docutils literal"><span class="pre">Water</span></code> panel.</p>
</div></blockquote>
</li>
<li><p class="first">New way of evaluating mouse movement sensors.</p>
<blockquote>
<div><p>Now all elements inside the Canvas Container element (e.g Anchors) do not lock mouse events, thus allowing us to prevent glitches during camera movement.</p>
</div></blockquote>
</li>
<li><p class="first">Option to change quality of reflections.</p>
<blockquote>
<div><p>Now it is possible to choose one of three predefined reflection quality modes: <code class="docutils literal"><span class="pre">LOW</span></code>, <code class="docutils literal"><span class="pre">MEDIUM</span></code> or <code class="docutils literal"><span class="pre">HIGH</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">New properties <code class="docutils literal"><span class="pre">--project</span></code> and <code class="docutils literal"><span class="pre">--app</span></code> in the <em>project.py</em> utility.</p>
</li>
<li><p class="first">New animation APIs.</p>
<blockquote>
<div><p>New methods to simplify frame setting: <a class="reference external" href="https://www.blend4web.com/api_doc/module-animation.html#.set_first_frame">set_first_frame()</a>/<a class="reference external" href="https://www.blend4web.com/api_doc/module-animation.html#.set_last_frame">set_last_frame()</a>.</p>
</div></blockquote>
</li>
<li><p class="first">New behavior of plane reflections.</p>
<blockquote>
<div><p>It is now possible to omit specifying the reflection normal by leaving the <code class="docutils literal"><span class="pre">Reflection</span> <span class="pre">Plane</span></code> option empty. In this case, local Z axis will be used instead.</p>
</div></blockquote>
</li>
<li><p class="first">New SSAO behavior.</p>
<blockquote>
<div><p>Now there is no need to have shadow casters in the scene to use the SSAO effect.</p>
</div></blockquote>
</li>
<li><p class="first">New texture anisotropic filtering settings.</p>
<blockquote>
<div><p>There is a new <code class="docutils literal"><span class="pre">Default</span></code> value for anisotropic filtering option assigned to textures. By selecting this value you can use the anisotropic filtering specified on the scene. If you need to disable anisotropic filtering on all textures, again, use the setting from the scene.</p>
</div></blockquote>
</li>
<li><p class="first">New specular alpha shading behavior to match Blender&#8217;s.</p>
</li>
<li><p class="first">The physics mask/group, assigned for collision materials, has been extended from 8 to 16 bits.</p>
</li>
<li><p class="first">New asynchronous shader loader for developer version of Blend4Web.</p>
</li>
<li><p class="first">Elimination of <em>shaders</em> module.</p>
<blockquote>
<div><p>The methods of this module is now available from the <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html">debug</a> module.</p>
</div></blockquote>
</li>
<li><p class="first">New script for batch processing exported json/html files.</p>
<blockquote>
<div><p>The scripts <em>reexporter.py</em> and <em>resaver.py</em> have been combined into <em>process_blend.py</em>, which has options for processing exported json/html files.</p>
</div></blockquote>
</li>
<li><p class="first">Minor refactoring and improvements in API documentation.</p>
</li>
</ul>
</div>
<div class="section" id="id70">
<h3>修复<a class="headerlink" href="#id70" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Fixed a bug with incorrect Canvas element size appeared on the engine&#8217;s startup.</p>
</li>
<li><p class="first">Fixed a lighting bug on objects with the negative <code class="docutils literal"><span class="pre">Scale</span></code> option.</p>
<blockquote>
<div><p>This condition is properly handled and reported to the user (in the browser console).</p>
</div></blockquote>
</li>
<li><p class="first">Fixed a bug with object&#8217;s vertex animation.</p>
</li>
<li><p class="first">Fixed a bug with animation played in reverse.</p>
</li>
<li><p class="first">Fixed an error with incorrect state of <em>Collision</em> and <em>Ray</em> sensors which appeared after deleting physics objects.</p>
</li>
<li><p class="first"><em>Environment</em> textures with dimensions exceeding the supported ones are now processed correctly.</p>
<blockquote>
<div><p>Now, such textures are not being turned off but rendered in reduced scale instead. Dimensions are reduced synthetically for NVIDIA GeForce 8000 GPUs on Windows Chrome.</p>
</div></blockquote>
</li>
<li><p class="first">Fixed an issue with incorrectly reported error which appeared while loading scenes with missing camera/world.</p>
</li>
<li><p class="first">Fixed a Blender startup error with the world missing from the scene.</p>
</li>
<li><p class="first">Fixed a bug in the <code class="docutils literal"><span class="pre">Webplayer</span></code> app when the sound button was missing in some scenes.</p>
</li>
<li><p class="first">Fixed a bug in the scenes when <em>motion blur</em> is the only effect to appear.</p>
</li>
<li><p class="first">Fixed the <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.get_material_extended_params">get_material_extended_params()</a> method in the <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html">material</a> module.</p>
</li>
<li><p class="first">Fixed Firefox Mobile crashes when using shadows. Improved overall stability for this browser.</p>
</li>
<li><p class="first">Improved reexporter stability.</p>
</li>
</ul>
</div>
<div class="section" id="id71">
<h3>Known Issues<a class="headerlink" href="#id71" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
<li><p class="first">NVIDIA 331 driver in Linux can cause WebGL errors.</p>
</li>
<li><p class="first">There is a <a class="reference external" href="https://code.google.com/p/chromium/issues/detail?id=485482">bug</a> with video textures on Chrome 43 for Android.</p>
<blockquote>
<div><p>Please update your Chrome browser to Beta or wait until the next Chrome update.</p>
</div></blockquote>
</li>
<li><p class="first">Fixed issues with the <code class="docutils literal"><span class="pre">Background</span> <span class="pre">Music</span></code> speakers in the scenes exported to html.</p>
<blockquote>
<div><p>Currently, there is a bug in Google Chrome (<a class="reference external" href="https://code.google.com/p/chromium/issues/detail?id=511251&amp;thanks=511251&amp;ts=1437144961">Issue 511251</a>), related to an error with audio file origin. Currently, this issue is partially resolved by our workaround with forced <em>crossOrigin</em> attribute on audio sources.</p>
</div></blockquote>
</li>
<li><p class="first">Changed texture filtering on some platforms.</p>
<blockquote>
<div><p>An incorrect texture filtering was disabled on iPad and Internet Explorer for materials with <em>Alpha Clip</em> type of transparency.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-06">
<h2>v15.06<a class="headerlink" href="#v15-06" title="永久链接至标题">¶</a></h2>
<div class="section" id="id72">
<h3>新功能<a class="headerlink" href="#id72" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">New add-on user interface.</p>
<blockquote>
<div><p>Add-on interface has been redesigned. It is now activated by the new rendering profile, <em>Blend4Web</em>, which only contains panels and options explicitly supported by the engine. To simplify navigation, the old multi-line Blend4Web panels have been re-grouped into the smaller ones, based on functionality.</p>
<p>Also, there is a new feature to automatically assign graphic effects required for a scene. In particular, shadows, refraction, <em>Glow</em> and <em>Outline</em> effects acquired the new <em>AUTO</em> property which automatically activates them if some objects or materials located on the scene require such effects.</p>
</div></blockquote>
</li>
<li><p class="first">New normal editor.</p>
<blockquote>
<div><p>The normal editor has been substantially upgraded. Now it is fully compatible with the native Blender datablock used to store normals. This new editor has more efficient UI and also allows to edit split normals.</p>
</div></blockquote>
</li>
<li><p class="first">Support for new material nodes.</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Orco</span></code> and <code class="docutils literal"><span class="pre">Local</span></code> outputs of <cite>Geometry</cite> node are now supported. There are also some preliminary steps to support <cite>RGB Curves</cite>, <cite>Vector Curves</cite>, <cite>ColorRamp</cite> and Cycles nodes.</p>
</div></blockquote>
</li>
<li><p class="first">New shading models.</p>
<blockquote>
<div><p><cite>Minnaert</cite>/<cite>Toon</cite> diffuse shaders and <cite>Blinn</cite> specular shader have been implemented. Thus, starting from this release the engine supports all shading models of Blender.</p>
</div></blockquote>
</li>
<li><p class="first">Support for Blender 2.75</p>
</li>
<li><p class="first">Multiple physics improvements.</p>
<blockquote>
<div><p>Code for collision detection has been rewritten. Now it is possible to determine colliding objects, and also the coordinates and the normal at the collision point.</p>
<p>Improved ray casting API. In particular, one can specify an option to perform an automatic cleanup of the ray test object and also another option to cast a ray through multiple objects. As in the case of collision detection, this new API allows to determine the target object and the position/normal of the hit point. There is also a new possibility to cast rays from point to point in global space, without requirement to specify a source object.</p>
<p>Extended possibilities of <cite>Collision</cite> and <cite>Ray</cite> sensors.</p>
<p>Support for deleting physics objects and automatic recalculation of collision/ray tests after physics objects have been added/removed.</p>
</div></blockquote>
</li>
<li><p class="first">A new tool for reexporting multiple scenes.</p>
<blockquote>
<div><p>A new <cite>Mass Reexporter</cite> tool has been added to addon. This tool allows to automatically reexport all scenes from the specified list of directories.</p>
</div></blockquote>
</li>
<li><p class="first">Possibility to check for updates.</p>
<blockquote>
<div><p>You can now enable a <code class="docutils literal"><span class="pre">Check</span> <span class="pre">for</span> <span class="pre">Updates</span> <span class="pre">on</span> <span class="pre">Startup</span></code> option in addon settings to perform automatic checks for the new versions of Blend4Web.</p>
</div></blockquote>
</li>
<li><p class="first">API to control <em>Motion Blur</em> postprocessing effect.</p>
<blockquote>
<div><p>New methods to control Motion Blur effect <code class="docutils literal"><span class="pre">get_mb_params()</span></code> and <code class="docutils literal"><span class="pre">set_mb_params()</span></code> has been added to <code class="docutils literal"><span class="pre">scenes.js</span></code> module.</p>
</div></blockquote>
</li>
<li><p class="first">Support for Timeline markers.</p>
<blockquote>
<div><p>To extract frame numbers from timeline markers a new method <code class="docutils literal"><span class="pre">marker_frame()</span></code> has been implemented in <code class="docutils literal"><span class="pre">scenes.js</span></code> module.</p>
</div></blockquote>
</li>
<li><p class="first">New NLA APIs.</p>
<blockquote>
<div><p>A new set of methods: <code class="docutils literal"><span class="pre">set_range()</span></code>, <code class="docutils literal"><span class="pre">reset_range()</span></code>, <code class="docutils literal"><span class="pre">set_cyclic()</span></code> and <code class="docutils literal"><span class="pre">clear_callback()</span></code> has been added to <code class="docutils literal"><span class="pre">nla.js</span></code> module. Also, it&#8217;s now possible to specify callback in <code class="docutils literal"><span class="pre">play()</span></code> method.</p>
</div></blockquote>
</li>
<li><p class="first">New API to change Canvas resolution.</p>
<blockquote>
<div><p>To change Canvas resolution it&#8217;s sufficient to execute method <code class="docutils literal"><span class="pre">set()</span></code> from <code class="docutils literal"><span class="pre">config.js</span></code> module with the following parameters: <code class="docutils literal"><span class="pre">canvas_resolution_factor</span></code> and <code class="docutils literal"><span class="pre">value</span></code>, where <code class="docutils literal"><span class="pre">value</span></code> is the new resolution of Canvas. This feature is particularly useful for creating high-definition screenshots.</p>
</div></blockquote>
</li>
<li><p class="first">Support for <code class="docutils literal"><span class="pre">Vertex</span> <span class="pre">Groups</span> <span class="pre">-&gt;</span> <span class="pre">Length</span></code> option in <em>Hair</em> particle system.</p>
</li>
<li><p class="first">New API documentation.</p>
<blockquote>
<div><p>To document types used by Blend4Web applications we developed a new formal type system. For example, in our old API docs 3D vectors had <code class="docutils literal"><span class="pre">Float32Array</span></code> type. Now they have formal <code class="docutils literal"><span class="pre">Vec3</span></code> type. This solution allows us to formulate more clear and intelligible descriptions for API and, more importantly, helps our users to develop more readable and reliable applications.</p>
</div></blockquote>
</li>
<li><p class="first">New colors API.</p>
<blockquote>
<div><p>To work with colors in efficient way two new modules: <a class="reference external" href="https://www.blend4web.com/api_doc/module-rgb.html">rgb</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-rgba.html">rgba</a> have been created. They include APIs to create new color vectors and convert  them between different profiles.</p>
</div></blockquote>
</li>
<li><p class="first">Automatic determination of path to SDK.</p>
<blockquote>
<div><p>Addon option <code class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">SDK</span> <span class="pre">Directory</span></code> is filled up automatically, if the addon is located in default <code class="docutils literal"><span class="pre">blender_scripts</span></code> directory inside SDK.</p>
</div></blockquote>
</li>
<li><p class="first">API for correct calculation of Canvas 2D coordinates.</p>
<blockquote>
<div><p>For proper manipulations with mouse cursor and touchscreen devices the engine requires correct 2D Canvas coordinates.</p>
<p>Details about calculation and use cases of such coordinates are described in the separate <a class="reference internal" href="developers.html#non-standard-canvas-pos"><span>topic</span></a>.</p>
<p>To support this feature the following methods have been added to engine&#8217;s APIs: <code class="docutils literal"><span class="pre">client_to_canvas_coords()</span></code>, <code class="docutils literal"><span class="pre">set_canvas_offsets()</span></code>, <code class="docutils literal"><span class="pre">update_canvas_offsets()</span></code> and <code class="docutils literal"><span class="pre">force_offsets_updating()</span></code>. Also, there is a new configuration option: <code class="docutils literal"><span class="pre">track_container_position</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">API to change smooth factors of the camera&#8217;s movement.</p>
<blockquote>
<div><p>To change smooth factors of the camera&#8217;s movement the following APIs have been implemented: <code class="docutils literal"><span class="pre">set_plock_smooth_factor()</span></code> and <code class="docutils literal"><span class="pre">get_plock_smooth_factor()</span></code> in <code class="docutils literal"><span class="pre">mouse.js</span></code> module (for Pointer Lock mode)  and also <code class="docutils literal"><span class="pre">set_camera_smooth_factor()</span></code> and <code class="docutils literal"><span class="pre">get_camera_smooth_factor()</span></code> in <code class="docutils literal"><span class="pre">app.js</span></code> addon (for general use cases).</p>
</div></blockquote>
</li>
<li><p class="first">New favicon picture has been added to Webplayer.</p>
</li>
</ul>
</div>
<div class="section" id="id73">
<h3>变更<a class="headerlink" href="#id73" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">New API spec for collision detection and ray casting.</p>
<blockquote>
<div><p>Methods <code class="docutils literal"><span class="pre">append_collision_test()</span></code> and <code class="docutils literal"><span class="pre">append_ray_test()</span></code>, as well as <code class="docutils literal"><span class="pre">create_collision_sensor()</span></code> and <code class="docutils literal"><span class="pre">create_ray_sensor()</span></code> now have new spec, which is incompatible with the previous versions of Blend4Web engine. All developers should consider upgrading their applications to match this new behavior.</p>
</div></blockquote>
</li>
<li><p class="first">Rendering to texture changes.</p>
<blockquote>
<div><p>It&#8217;s now possible to render scene into texture cyclically, e.g. when two scenes render one into another. The main constraint here is the requirement to have at least one scene, into which is nothing is being rendered.</p>
</div></blockquote>
</li>
<li><p class="first">The option <code class="docutils literal"><span class="pre">Apply</span> <span class="pre">Default</span> <span class="pre">Animation</span></code> is now disabled if an object already have an NLA animation attached.</p>
<blockquote>
<div><p>In cases when the object already have an NLA animation attached, the option <code class="docutils literal"><span class="pre">Apply</span> <span class="pre">Default</span> <span class="pre">Animation</span></code> is disabled to eliminate possible animation conflicts.</p>
</div></blockquote>
</li>
<li><p class="first">Changed <em>Hemi</em> lamp behavior.</p>
<blockquote>
<div><p>If the object is being illuminated by the <em>Hemi</em> lamp, the <em>Lambert</em> shading model will always be applied to its materials. This is done to match the Blender&#8217;s behavior.</p>
</div></blockquote>
</li>
<li><p class="first">Support for exported-to-HTML video textures in Firefox browser.</p>
<blockquote>
<div><p>Since Firefox 38 an error with video textures exported to base64 was fixed, so it&#8217;s now possible to use them in such browsers.</p>
</div></blockquote>
</li>
<li><p class="first">Changed assignment of UV layers to match Blender&#8217;s behavior.</p>
<blockquote>
<div><p>Missing from node materials UV layers are determined automatically as it&#8217;s done in Blender.</p>
</div></blockquote>
</li>
<li><p class="first">Improved stability of exported to HTML video textures.</p>
</li>
<li><p class="first">Optimizations of CSM shadows.</p>
</li>
<li><p class="first">Depth shader optimizations.</p>
</li>
<li><p class="first">Billboard objects optimizations.</p>
</li>
<li><p class="first">Configuration option <code class="docutils literal"><span class="pre">resolution_factor</span></code> was renamed to <code class="docutils literal"><span class="pre">render_resolution_factor</span></code>.</p>
</li>
<li><p class="first">Improved support for particle emitters which have several materials.</p>
<blockquote>
<div><p>Distribution of the particles to emitters as well as <a class="reference internal" href="particles_instancing.html#particles-inheritance"><span>vertex colors inheritance</span></a> is being done taking into account each material i.e mesh part.</p>
</div></blockquote>
</li>
<li><p class="first">Changed <code class="docutils literal"><span class="pre">Wind</span> <span class="pre">Bending</span></code> inheritance on particle systems.</p>
<blockquote>
<div><p>If <em>Wind Bending Inheritance</em> property is set to <code class="docutils literal"><span class="pre">Instance</span></code> then <code class="docutils literal"><span class="pre">Wind</span> <span class="pre">bending</span></code> property for emitter object is not switched off anymore.</p>
</div></blockquote>
</li>
<li><p class="first">Updated messages about addon/engine version incompatibilities.</p>
<blockquote>
<div><p>For more info see <a class="reference internal" href="addon.html#version-errors"><span>version errors</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Remove sensor locks API.</p>
<blockquote>
<div><p>Unused sensor locks API was removed from <code class="docutils literal"><span class="pre">controls.js</span></code> module.</p>
</div></blockquote>
</li>
<li><p class="first">Fixed behavior of node materials with missing <em>Output</em> node.</p>
</li>
</ul>
</div>
<div class="section" id="id74">
<h3>修复<a class="headerlink" href="#id74" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Fixes in <code class="docutils literal"><span class="pre">screenshooter.js</span></code> addon.</p>
<blockquote>
<div><p>Fixed an error with impossibility to take a screenshot.</p>
</div></blockquote>
</li>
<li><p class="first">Fixed a bug in <code class="docutils literal"><span class="pre">set_frame()</span></code> method from <code class="docutils literal"><span class="pre">nla.js</span></code> module.</p>
<blockquote>
<div><p>Fixed <code class="docutils literal"><span class="pre">set_frame()</span></code> inaccuracy.</p>
</div></blockquote>
</li>
<li><p class="first">Improved exported stability.</p>
</li>
<li><p class="first">Fixed a bug with addon removal/update on Windows.</p>
<blockquote>
<div><p>Refined binary loader in addon.</p>
</div></blockquote>
</li>
<li><p class="first">Fixed a bug with shading from <em>SPOT</em>/<em>POINT</em> lamps.</p>
</li>
<li><p class="first">Fixed incorrect behavior of coordinate calculations in methods <code class="docutils literal"><span class="pre">get_coords_x()</span></code> and <code class="docutils literal"><span class="pre">get_coords_y()</span></code> from <code class="docutils literal"><span class="pre">mouse.js</span></code> addon.</p>
</li>
<li><p class="first">Fixed calculations of alpha channel in <em>Outline</em> effect.</p>
</li>
<li><p class="first">Fixed <em>Wind Bending</em> effect error.</p>
</li>
<li><p class="first">Fixed an error when particle&#8217;s <em>Scale</em> was not taken into account on particle systems.</p>
</li>
<li><p class="first">Fixed synchronization error on animated <em>EMITTER</em> particle systems.</p>
</li>
<li><p class="first">Fixed a bug with shadows on billboard objects.</p>
</li>
<li><p class="first">Fixed incorrect exporting of <em>Override Mesh Boundings</em> settings.</p>
</li>
<li><p class="first">Fixed a bug with billboard rendering on iPad.</p>
</li>
</ul>
</div>
<div class="section" id="id75">
<h3>Known Issues<a class="headerlink" href="#id75" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
<li><p class="first">NVIDIA 331 driver in Linux can cause WebGL errors.</p>
</li>
<li><p class="first">There is a <a class="reference external" href="https://code.google.com/p/chromium/issues/detail?id=485482">bug</a> with video textures on Chrome 43 for Android.</p>
<blockquote>
<div><p>Please update your Chrome browser to Beta or wait until the next Chrome update.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-05">
<h2>v15.05<a class="headerlink" href="#v15-05" title="永久链接至标题">¶</a></h2>
<div class="section" id="id77">
<h3>新功能<a class="headerlink" href="#id77" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Glow effect</em>.</p>
<blockquote>
<div><p>Supported <a class="reference internal" href="postprocessing_effects.html#glow"><span>an effect</span></a> which occurs when the light scatters in the atmosphere and inside of the human eye and looks like a halo around glowing objects.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The local development server runs automatically.</em></p>
<blockquote>
<div><p>A new option has been added to the addon settings. This option turns on automatic start of <a class="reference internal" href="addon.html#local-development-server"><span>local development server</span></a> upon opening Blender. With the help of this functional web applications in development can be run without any preparations.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Cube reflections.</em></p>
<blockquote>
<div><p>Apart from plane reflections, there are now cube reflections available. There is a new <code class="docutils literal"><span class="pre">Reflection</span> <span class="pre">Type</span></code> option available when <code class="docutils literal"><span class="pre">Reflective</span></code> flag is set on the object. Setting it to <code class="docutils literal"><span class="pre">Cube</span></code> turns this feature on.</p>
</div></blockquote>
</li>
<li><p class="first"><em>More NLA options supported.</em></p>
<blockquote>
<div><p>Added support of Blender&#8217;s NLA tools: <code class="docutils literal"><span class="pre">Scale</span></code>, <code class="docutils literal"><span class="pre">Muted</span></code>, <code class="docutils literal"><span class="pre">Reversed</span></code> and <code class="docutils literal"><span class="pre">Repeat</span></code>. The support of these tools broadens capabilities of interactive scene developers.</p>
<p>Furthermore, to control NLA through API a new <code class="docutils literal"><span class="pre">nla.js</span></code> module was added. This module contains methods like <code class="docutils literal"><span class="pre">play()</span></code>, <code class="docutils literal"><span class="pre">stop()</span></code>, <code class="docutils literal"><span class="pre">get_frame()</span></code>, <code class="docutils literal"><span class="pre">set_frame()</span></code> that can play/stop NLA and get/set the current frame. New methods have been involved in implementing control panel interface in the Viewer app.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Increased rendering possibilities for sky textures.</em></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Influence</span></code> parameters for sky texture rendering are now supported. Those parameters are: <code class="docutils literal"><span class="pre">Blend</span></code>, <code class="docutils literal"><span class="pre">Horizon</span></code>, <code class="docutils literal"><span class="pre">Zenith</span> <span class="pre">Up</span></code>, <code class="docutils literal"><span class="pre">Zenith</span> <span class="pre">Down</span></code>,``Blend``, <code class="docutils literal"><span class="pre">Negative</span></code>, <code class="docutils literal"><span class="pre">RGB</span> <span class="pre">to</span> <span class="pre">Intensity</span></code>, <code class="docutils literal"><span class="pre">DVar</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>In node materials, the engine now correctly processes connections between inputs and outputs of different types.</em></p>
<blockquote>
<div><p>It is now possible to connect outputs of one type with inputs of another type (<a class="reference internal" href="addon.html#export-errors-warnings"><span>Non-critical error</span></a>). Now Blender&#8217;s native behavior is supported by the engine.</p>
</div></blockquote>
</li>
<li><p class="first"><em>For Hair particles the options on the Rotation panel are now supported.</em></p>
<blockquote>
<div><p>Now the engine fully supports the state of particles set in Blender. In particular not only location and scale are supported now, but rotation as well.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Some demos for postprocessing effects demonstration were added.</em></p>
<blockquote>
<div><p>Examples were prepared for the following effects: Bloom, Depth of Field, God Rays, Motion Blur and SSAO.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Added a new module container.js.</em></p>
<blockquote>
<div><p>DOM tree elements can be added with a specific depth relative to the  depth of the <code class="docutils literal"><span class="pre">canvas</span></code> element with the help of <code class="docutils literal"><span class="pre">container.js</span></code>&#8216;s <code class="docutils literal"><span class="pre">insert_to_container()</span></code> method. This method replaces CSS property <code class="docutils literal"><span class="pre">z-index</span></code> because location depth of elements is now determined by their position in the container element.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Improvements in the physical engine.</em></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Margin</span></code> property of physical elements and materials is now supported. This option allows for improved stability of object collision simulation. Bullet engine was updated to version 2.83.</p>
</div></blockquote>
</li>
<li><p class="first"><em>API for changing camera controls mode.</em></p>
<blockquote>
<div><p>Added methods of <a class="reference internal" href="camera.html#camera-move-style-change"><span>changing movement style of the camera</span></a>. The control mode switch example can be found in <a class="reference internal" href="developers.html#code-snippets"><span>Code Snippets</span></a> app in the &#8220;Camera Move Styles&#8221; section. Also has been added <code class="docutils literal"><span class="pre">set_hover_pivot()</span></code> method. This method allows to shift the control point of <code class="docutils literal"><span class="pre">HOVER</span></code> camera.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id78">
<h3>变更<a class="headerlink" href="#id78" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Reorganized SDK&#8217;s scene list.</em></p>
<blockquote>
<div><p>All the scenes in the Viewer app has been sorted by groups: <em>App</em> contains finished apps, <em>Demos</em> contains demo-scenes and examples, <em>Tutorial Exports</em> contains tutorials source files.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Added syntax highlight in Code Snippets app.</em></p>
<blockquote>
<div><p>Code Snippets app now has a new design. Also it was optimized for low-resolution screens.</p>
</div></blockquote>
</li>
<li><p class="first"><em>API controls of video and canvas textures have been changed.</em></p>
<blockquote>
<div><p>A new parameter <code class="docutils literal"><span class="pre">data_id</span></code> has been added to these textures&#8217; control methods. This parameter contains an ID of dynamically loaded scene.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Handling of animated bone excess has been changed.</em></p>
<blockquote>
<div><p>The skeletal animation now just turns off when exceeding the maximum number of bones. It resulted in shader compilation error and unstable application behavior before.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Some particle system properties has been renamed and now they are turned off by default.</em></p>
<blockquote>
<div><p>In particular, Hair particle system&#8217;s properties <code class="docutils literal"><span class="pre">Randomize</span> <span class="pre">Location</span> <span class="pre">And</span> <span class="pre">Size</span></code> and <code class="docutils literal"><span class="pre">Randomize</span> <span class="pre">Initial</span> <span class="pre">Rotation</span></code> are turned off by default now.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Doppler effect for speakers is now turned off in some browsers.</em></p>
<blockquote>
<div><p>Doppler effect support in Web Audio has been pronounced as deprecated and will be removed in Chrome starting from version 45. Other browsers still support this functionality.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Changed objects&#8217; behavior when both skeletal and vertex animation are applied.</em></p>
<blockquote>
<div><p>If an object has both armature modifier and vertex animation applied on it, the armature modifier won&#8217;t be exported.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Rendering of particle system procedural animation (Wind Bending effect) has been optimized.</em></p>
</li>
<li><p class="first"><em>The main .json and .bin scene files loading error handling has been improved.</em></p>
</li>
<li><p class="first"><em>Windows 32 version of Blend4Web addon is now compiled natively.</em></p>
<blockquote>
<div><p>This feature improves compatibility of the add-on with such systems.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id79">
<h3>修复<a class="headerlink" href="#id79" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>The error that led to the wrong height of the description element in module &#8220;anchors.js&#8221; has been fixed.</em></p>
</li>
<li><p class="first"><em>Support for Epiphany and other WebKit-based browsers.</em></p>
<blockquote>
<div><p>Achieved by fixing the code which works differently in the different JavaScript engines.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Gestures on Internet Explorer 11 were disabled for Microsoft Windows touch devices.</em></p>
<blockquote>
<div><p>Previously, gestures usage (Windows Touch Gestures) was leading to unnecessary HTML-elements scaling and movement on such configurations. It is expected that correct gestures&#8217; behavior will be supported in further browser releases.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Vertex animation with animated armature bake error was fixed.</em></p>
</li>
<li><p class="first"><em>The error with rendering billboard objects on the iPad has been fixed.</em></p>
</li>
<li><p class="first"><em>Node material&#8217;s NLA animation applied to several objects was fixed.</em></p>
</li>
<li><p class="first"><em>Fixed a bug related to the Motion Blur effect.</em></p>
</li>
</ul>
</div>
<div class="section" id="id80">
<h3>Known Issues<a class="headerlink" href="#id80" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-04">
<h2>v15.04<a class="headerlink" href="#v15-04" title="永久链接至标题">¶</a></h2>
<div class="section" id="id81">
<h3>新功能<a class="headerlink" href="#id81" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Deformations by using Shape Keys (Morphing).</em></p>
<blockquote>
<div><p>Added support for object&#8217;s <a class="reference internal" href="meshes.html#mesh-morphing"><span>Morph targets</span></a> (known as <a class="reference external" href="http://wiki.blender.org/index.php/Doc:2.6/Manual/Animation/Techs/Shape/Shape_Keys">Shape Keys</a> in Blender). To apply such keys, use the <code class="docutils literal"><span class="pre">set_shape_key_value</span></code> method of the <code class="docutils literal"><span class="pre">geometry.js</span></code> module. Simple example of how to use such functionality is given in the <a class="reference internal" href="developers.html#code-snippets"><span>Code Snippets</span></a> app.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Support for Horizon Color and Zenith Color background settings.</em></p>
<blockquote>
<div><p>It&#8217;s now possible to tweak scene background by using the <code class="docutils literal"><span class="pre">Horizon</span> <span class="pre">Color</span></code> and <code class="docutils literal"><span class="pre">Zenith</span> <span class="pre">Color</span></code> properties as well as the <code class="docutils literal"><span class="pre">Paper</span> <span class="pre">Sky</span></code>, <code class="docutils literal"><span class="pre">Blend</span> <span class="pre">Sky</span></code> and <code class="docutils literal"><span class="pre">Real</span> <span class="pre">Sky</span></code> options directly from Blender.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Support for the Gamma node.</em></p>
<blockquote>
<div><p>We have implemented the Gamma node back in Blender v2.74. Now this node is finally supported by Blend4Web.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Various improvements in the Anchors tool.</em></p>
<blockquote>
<div><p>It&#8217;s now possible to limit the pixel size of an annotation. Added support for dynamic loading/unloading of Anchors. Implemented the possibility to hide and show Anchors by using the <cite>show()</cite>/<cite>hide()</cite> API functions and/or by the NLA Script tool.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Shader optimizations.</em></p>
<blockquote>
<div><p>Shader compiler improvements. Added the following features: local variables optimizations, brackets removal. Improved the performance of node materials.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Physics engine optimizations.</em></p>
<blockquote>
<div><p>To save the load time, the physics modules are now loaded only when explicitly required. Overall size of the modules has been decreased by 20%.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Extended tools for physics debugging.</em></p>
<blockquote>
<div><p>The new <cite>physics_stat()</cite> method has been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html">debug</a> module. This method returns physics statistics such as the number of physics objects (separated by type), amount of geometry and other info. It is now also possible to display the number of physics iterations per second aka Physics FPS (activated in the <cite>config</cite> module).</p>
</div></blockquote>
</li>
<li><p class="first"><em>The new API method to attach objects to the camera independently from the camera&#8217;s aspect ratio or the field of view.</em></p>
<blockquote>
<div><p>Implemented in the <cite>append_stiff_viewport()</cite> method of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html">constraints</a> module.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The new module to perform transformations: &#8220;tsr.js&#8221;.</em></p>
<blockquote>
<div><p>This new module makes it possible to apply a variety of transformations to objects by using versatile TSR vectors. Each TSR vector combines translation, scale and rotation (hence the name). These vectors may be used instead of matrices as a more convenient and effective way to apply transformations.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The possibility to exclude any directories from being converted by the resource converter.</em></p>
<blockquote>
<div><p>To exclude some directory from being converted by the <a class="reference internal" href="developers.html#converter"><span>resource converter</span></a>, it is enough to place a file named <code class="docutils literal"><span class="pre">.b4w_no_conv</span></code> to this directory.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id82">
<h3>变更<a class="headerlink" href="#id82" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>The API documentation has changed its appearance. Links for quick access to methods and properties were added.</em></p>
</li>
<li><p class="first"><em>Skeletal animation now takes into account the relative translation of an armature and a skinned object.</em></p>
<blockquote>
<div><p>Native Blender&#8217;s behavior is now supported. There is now no need to position an armature and an animated object in the same place and with the same rotation and scale.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Independent translation, rotation and scale animations are now supported.</em></p>
<blockquote>
<div><p>The animation system no more forces keyframes to be present in every channel, which makes it possible to save original values in unused channels or change them with API.</p>
</div></blockquote>
</li>
<li><p class="first"><em>World background support.</em></p>
<blockquote>
<div><p>Background and sky can be enabled with the <code class="docutils literal"><span class="pre">Sky</span> <span class="pre">Settings</span> <span class="pre">&gt;</span> <span class="pre">Render</span> <span class="pre">Sky</span></code> option under the <code class="docutils literal"><span class="pre">World</span></code> tab. It is turned off by default.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The Uranium physics engine now consists of two modules.</em></p>
<blockquote>
<div><p>There are now two physics modules instead of one: <em>uranium.js</em> - the engine&#8217;s code and <em>uranium.js.mem</em> - the file for memory initialization. Both modules must be placed in the same directory.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The glow effect together with its related components was renamed to Outline.</em></p>
<blockquote>
<div><p>The new name better describes the principle of this effect: highlighting objects&#8217; edges.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Limiting the camera translation using the &#8220;append_semi_stiff_cam&#8221; method of the &#8220;constraints.js&#8221; module is now possible only for the &#8220;EYE&#8221; type.</em></p>
</li>
<li><p class="first"><em>Local Development Server in Blender changes.</em></p>
<blockquote>
<div><p>Now, instead of the standard Python SimpleHTTPServer, the Tornado web server is used as the <a class="reference internal" href="addon.html#local-development-server"><span>local development server</span></a>. The new server has greater performance and it also offers more options to disable browser cache.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Keyboard controls for sliders in the Viewer application were added.</em></p>
<blockquote>
<div><p>You can now control sliders with <code class="docutils literal"><span class="pre">&lt;</span></code> and <code class="docutils literal"><span class="pre">&gt;</span></code>  keys.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Changes in the &#8220;update_object_animation&#8221; method of the &#8220;animation.js&#8221; module.</em></p>
<blockquote>
<div><p>The optional &#8220;force_update&#8221; parameter was added. It forces animated objects to be updated even when their animation is not being played back.</p>
</div></blockquote>
</li>
<li><p class="first"><em>API changes in the mouse.js module.</em></p>
<blockquote>
<div><p>The <em>enable_mouse_hover_outline</em> and <em>disable_mouse_hover_outline</em> methods were added.</p>
<p>The following methods were declared deprecated and will be removed in the next releases: <em>enable_mouse_hover_glow</em> and <em>disable_mouse_hover_glow</em>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>API changes in the scenes.js module.</em></p>
<blockquote>
<div><p>The <em>outlining_is_enabled</em>, <em>set_outline_intensity</em>, <em>get_outline_intensity</em>, <em>apply_outline_anim</em>, <em>apply_outline_anim_def</em>, <em>clear_outline_anim</em>, <em>set_outline_color</em> and <em>get_outline_color</em> methods were added.</p>
<p>The following methods were declared deprecated and will be removed in the next releases: <em>set_glow_intensity</em>, <em>get_glow_intensity</em>, <em>apply_glow_anim</em>, <em>apply_glow_anim_def</em>, <em>clear_glow_anim</em>, <em>set_glow_color</em> and <em>get_glow_color</em>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Some settings were changed in the Object &gt; Blend4Web panel.</em></p>
<blockquote>
<div><p>The <em>Enable Outline</em> option was added to enable using the <a class="reference internal" href="postprocessing_effects.html#outline"><span>outline effect</span></a> on the given object. Also, the <em>Outline on Select</em> option was added to activate glow animation when the object is selected (previously this behavior was defined by the <em>Selectable</em> flag).</p>
</div></blockquote>
</li>
<li><p class="first"><em>New settings were added to the Scene &gt; Blend4Web panel.</em></p>
<blockquote>
<div><p>The <em>Enable Object Outlining</em> option was added to control the overall possibility of outlining. Similarly, the new <em>Enable Object Selectable</em> option controls the overall possibility of objects&#8217; selection.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Now the following object properties: Apply Scale, Apply Modifiers, Export Vertex Animation, Export Edited Normals and Export Shape Keys are mutually exclusive.</em></p>
</li>
<li><p class="first"><em>API changes in modules.</em></p>
<blockquote>
<div><p>The new <em>is_armature</em> method was added to the API of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html">util.js</a> module. It checks if the given object is of the <code class="docutils literal"><span class="pre">ARMATURE</span></code> type.</p>
<p>The new <em>get_parent</em> method was added to the API of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html">constraints.js</a>  module. It returns the parent object of the given object.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id83">
<h3>修复<a class="headerlink" href="#id83" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Fixed a bug in the &#8220;anchors.js&#8221; module which caused objects&#8217; descriptions to disappear.</em></p>
</li>
<li><p class="first"><em>Fixed a bug in the Animation Baker script that occurred when there were armature objects in hidden layers.</em></p>
</li>
<li><p class="first"><em>Fixed the camera&#8217;s behavior while using &#8220;append_semi_stiff_cam&#8221; method of the &#8220;constraints.js&#8221; module.</em></p>
<blockquote>
<div><p>Fixed correction of the camera&#8217;s vertical axis relative to the parent object. Also the original camera orientation is now being taken into account. This can require some adjustments of the camera&#8217;s rotation limits that are passed to this function.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Fixed a bug with reloading of the playlist when it was empty.</em></p>
</li>
<li><p class="first"><em>Fixed the buggy behavior of physical objects that occurred after deleting at least one of them from the scene.</em></p>
</li>
<li><p class="first"><em>Fixed a bug that occurred when there were zero-scaled objects instanced through DupliGroups.</em></p>
</li>
<li><p class="first"><em>Fixed a compilation error of the water shader occurred on Windows and some mobile devices.</em></p>
</li>
<li><p class="first"><em>Fixed a bug that occurred when there were duplicates of animation keyframes.</em></p>
</li>
<li><p class="first"><em>Actions from different files sharing one name can be now used for NLA animation.</em></p>
</li>
<li><p class="first"><em>Fixed duplication of event listeners that occurred when the &#8220;pointerlock&#8221; function was repeatedly called.</em></p>
</li>
<li><p class="first"><em>Fixed behavior of the &#8220;Alpha sort&#8221; transparency type for dynamic objects.</em></p>
</li>
<li><p class="first"><em>Fixed an add-on compilation error that occurred on Windows without C++ 2010 runtime installed.</em></p>
</li>
<li><p class="first"><em>Fixed a bug with billboard rendering on iPad.</em></p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-03">
<h2>v15.03<a class="headerlink" href="#v15-03" title="永久链接至标题">¶</a></h2>
<div class="section" id="id84">
<h3>新功能<a class="headerlink" href="#id84" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>New tool for adding annotations to 3D objects.</em></p>
<blockquote>
<div><p>Now it is possible to assign anchors to empty objects. These anchors can be of three different types: &#8220;Annotations&#8221; - information from object&#8217;s meta-tags is used, &#8220;Custom Element&#8221; - a custom HTML-element from the current web-page can be used as annotation, &#8220;Generic&#8221; - an invisible anchor with coordinates calculated using <code class="docutils literal"><span class="pre">anchors.js</span></code> module API.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Animation and API methods for Value and RGB nodes in node materials.</em></p>
<blockquote>
<div><p>Now it is possible to animate not only <code class="docutils literal"><span class="pre">Value</span></code> nodes but also <code class="docutils literal"><span class="pre">RGB</span></code> nodes. Also, the corresponding API methods for changing such nodes were added in the <code class="docutils literal"><span class="pre">objects.js</span></code> module.</p>
</div></blockquote>
</li>
<li><p class="first"><em>New &#8220;Code Snippets&#8221; application.</em></p>
<blockquote>
<div><p>This <a class="reference internal" href="developers.html#code-snippets"><span>application</span></a> was created to simplify access to the examples of engine&#8217;s functionality. It is also possible to look at the examples&#8217; scripts. This application can be launched from the index.html file located in the Blend4Web SDK&#8217;s root directory.</p>
</div></blockquote>
</li>
<li><p class="first"><em>New control functions for the Glow effect.</em></p>
<blockquote>
<div><p>New APIs were added in the <em>scenes</em> module: <em>get_glow_intensity()</em> and <em>get_glow_color()</em>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Improvements in the Scene Viewer.</em></p>
<blockquote>
<div><p>Design of the &#8220;Home&#8221; button was changed. A new button &#8220;All objects selectable&#8221; was added. It allows to turn off automatic &#8220;Selectable&#8221; option assignment for all scene objects. Also, it is now possible to see the total number of shaders on the loaded scene.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Dynamic copying of scene objects (instancing).</em></p>
<blockquote>
<div><p>Now it is possible to dynamically <a class="reference internal" href="objects.html#mesh-copy"><span>copy and remove</span></a> scene objects (to create and remove instances).</p>
</div></blockquote>
</li>
<li><p class="first"><em>Handling errors related to the B4W_PARALLAX Blend4Web-specific node.</em></p>
<blockquote>
<div><p>In case of incorrect usage of the B4W_PARALLAX node, an <a class="reference internal" href="addon.html#export-errors-warnings"><span>export error warning</span></a> is generated.</p>
</div></blockquote>
</li>
<li><p class="first"><em>New options in the application&#8217;s builder.</em></p>
<blockquote>
<div><p>There are now new options in the application builder: <code class="docutils literal"><span class="pre">-j</span></code> and <code class="docutils literal"><span class="pre">-c</span></code>. They add scripts and styles correspondingly to the exceptions in order to be not compiled.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Experimental Blend4Web render engine.</em></p>
<blockquote>
<div><p>It can be turned on in the addon settings using the &#8220;Register Blend4Web render engine (Experimental)&#8221; flag. This mode is designed to simplify customization of scene properties. Also, it simplifies the interface by removing unsupported panels. At the moment, it is not possible to edit shader node tree in the Blend4Web render mode.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id85">
<h3>变更<a class="headerlink" href="#id85" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Origin for counting off the camera limits has been changed.</em></p>
<blockquote>
<div><p>Setting camera movement limits via API now perfectly corresponds to <a class="reference internal" href="camera.html#camera-api-notes"><span>values</span></a> measured in the engine&#8217;s coordinate system. Setting horizontal limits for the <code class="docutils literal"><span class="pre">TARGET</span></code> camera in the Blender&#8217;s world space has been changed. Thus, it may require changeovers for old scenes.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Documentation update for the camera settings.</em></p>
</li>
<li><p class="first"><em>Horizontal and vertical limits of the camera rotation are completely independent from each other.</em></p>
</li>
<li><p class="first"><em>Some APIs in the camera.js module were changed.</em></p>
<blockquote>
<div><p><a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">APIs</a> of the <code class="docutils literal"><span class="pre">camera.js</span></code> module have undergone a number of changes.</p>
<p>New methods were added: <em>is_target_camera</em>, <em>is_eye_camera</em>, <em>is_hover_camera</em>, <em>rotate_camera</em>, <em>rotate_target_camera</em>, <em>rotate_eye_camera</em>, <em>rotate_hover_camera</em>, <em>get_camera_angles</em>, <em>hover_cam_set_translation</em>.</p>
<p>The following methods were declared as deprecated and will be removed in the next releases: <em>rotate_pivot</em>, <em>rotate_hover_cam</em>, <em>rotate</em>, <em>set_eye_params</em>, <em>get_angles</em>, <em>translate_hover_cam_v</em>, <em>set_hover_cam_angle</em>.</p>
<p>The <em>set_ortho_scale</em> and <em>get_ortho_scale</em> methods now print error message when they are applied to the <code class="docutils literal"><span class="pre">Orthographic</span></code> camera. The behavior of the <em>get_hover_angle_limits</em> method was also changed. This method now returns angle limits for the <code class="docutils literal"><span class="pre">HOVER</span></code> camera in the [down, up] format instead of [up, down] as it was before.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The lighting system was significantly optimized.</em></p>
<blockquote>
<div><p>Many of the lamp props are calculated at the compile time now. Now, there is no 4 lamp restriction is imposed for some mobile devices.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The HTML layout method was changed for apps using the app module.</em></p>
<blockquote>
<div><p>Now, upon initializing an application using the <code class="docutils literal"><span class="pre">app.js</span></code> module, the dimensions of the created <code class="docutils literal"><span class="pre">&lt;canvas&gt;</span></code> element are completely determined by the size of the container element. Thus, if a <code class="docutils literal"><span class="pre">&lt;div&gt;</span></code> element is used as a container, the size of <code class="docutils literal"><span class="pre">&lt;canvas&gt;</span></code> will be zero by default since div&#8217;s default size is zero. You can set correct parameters for the container with CSS and inline-style. Also, you have to use <em>resize_to_container()</em> method from the <em>app</em> module when the container is changed. The same effect may be achieved if the <em>autoresize</em> option is set upon initializing the application (in the <em>app.init()</em> function). The low level method for changing the element&#8217;s dimensions with <em>main.resize()</em> function is still supported.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Now, the enable_controls() function from the app module should be called without any parameters.</em></p>
</li>
<li><p class="first"><em>Deprecated API methods were removed.</em></p>
<blockquote>
<div><p><a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html">textures.js</a> module : <em>stop_video</em>.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html">scenes.js</a> module: <em>add_object</em>, <em>get_screen_scenes</em>, <em>set_light_pos</em>, <em>set_light_direction</em>, <em>set_dir_light_color</em>, <em>get_lights_names</em>, <em>remove_all</em>, <em>check_collision</em>, <em>check_ray_hit</em>, <em>get_appended_objs</em>, <em>get_object_by_empty_name</em>.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html">physics.js</a> module: <em>set_character_dist_to_water</em>.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html">material.js</a> module: <em>set_batch_param</em>, <em>set_max_bones</em>, <em>max_bones</em>.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-main.html">main.js</a> module: <em>set_shaders_dir</em>, <em>set_texture_quality</em>.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-data.html">data.js</a> module: <em>get_bpy_world</em>.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html">controls.js</a> module: <em>sensor_make_positive</em>, <em>sensor_make_negative</em>.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera.js</a> module: <em>change_eye_target_dist</em> (deprecated <em>MS_CONTROLS</em> was also removed).</p>
</div></blockquote>
</li>
<li><p class="first"><em>There are now new conditions to allow changing object&#8217;s position via API.</em></p>
<blockquote>
<div><p>The functions from the <code class="docutils literal"><span class="pre">transform.js</span></code> module related to changing object position can be now applied to <a class="reference internal" href="objects.html#static-dynamic-objects"><span>dynamic objects</span></a> only.</p>
</div></blockquote>
</li>
<li><p class="first"><em>You can now use TEXTURE nodes without textures.</em></p>
<blockquote>
<div><p>In this case the rendering of the node material completely corresponds to Blender.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Updated the procedure of compatibility checks for versions of exported files and the engine itself.</em></p>
<blockquote>
<div><p>The engine will report about the scene&#8217;s incompatibility by printing <a class="reference internal" href="addon.html#version-errors"><span>messages in the browser console</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The  &#8220;Do Not Batch&#8221; property was renamed to &#8220;Force Dynamic Object&#8221;</em></p>
<blockquote>
<div><p>This option instructs the engine that the object must be dynamic regardless of other settings. Now its name is more clear.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id86">
<h3>修复<a class="headerlink" href="#id86" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><em>Fixed camera autorotate feature of the web player.</em></li>
<li><em>Fixed an error related to the fullscreen mode in the Web Player.</em></li>
<li><em>Fixed an error related to the determination of the camera&#8217;s angular coordinates in some positions.</em></li>
<li><em>Fixed an error with camera autorotation if the horizontal limits are enabled.</em></li>
<li><em>Fixed an error when Blend4Web-specific nodes were being added multiple times to a .blend file.</em></li>
<li><em>Fixed a bug with replacing materials by using the &#8220;inherit_material&#8221; function from the &#8220;material.js&#8221; module.</em></li>
<li><em>Fixed an error occurred while rendering reflections on an object which has been changed through the &#8220;material.js&#8221; module APIs.</em></li>
<li><em>Fixed generation of the debugging wireframe spheres.</em></li>
<li><em>Fixed optimization of the TEXTURE nodes in node materials.</em></li>
<li><em>Fixed &#8220;Clamp&#8221; option behavior in the MixRGB (Linear Light) node.</em></li>
<li><em>Fixed an export error occurred when an object shares its mesh with another object and one of the following flags is set to true: &#8220;Apply Scale&#8221;, &#8220;Apply Modifiers&#8221;, &#8220;Export Vertex Animation&#8221; or &#8220;Export Edited Normals&#8221;.</em></li>
<li><em>Fixed an error with &#8220;Blend4Web &gt; Preserve Global Orientation and Scale&#8221; option on some mobile devices.</em></li>
<li><em>Fixed fog rendering error in some versions of Chrome/Firefox under Windows.</em></li>
</ul>
</div>
<div class="section" id="id87">
<h3>Known Issues<a class="headerlink" href="#id87" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Video textures do not work in Firefox for scenes exported as HTML files.</em></p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-02">
<h2>v15.02<a class="headerlink" href="#v15-02" title="永久链接至标题">¶</a></h2>
<div class="section" id="id88">
<h3>新功能<a class="headerlink" href="#id88" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>The local development server can be run from Blender.</em></p>
<blockquote>
<div><p>It&#8217;s possible now to run <a class="reference internal" href="addon.html#local-development-server"><span>local development server</span></a> when using Blend4Web SDK. This server allows fast access to the Blend4Web SDK content and also make it possible to <a class="reference internal" href="addon.html#run-in-viewer"><span>automatically open exported scenes</span></a> in the Viewer application.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Support for Spot lights shadows.</em></p>
<blockquote>
<div><p>Shadows for Spot lamps were processed in the same way as for Sun lamps. Now the calculations are performed in the same way as it&#8217;s done in blender i.e the light scattering is taken into account.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Added/improved support for &#8220;Metaball&#8221;, &#8220;Surface&#8221; and &#8220;Curve&#8221; objects.</em></p>
<blockquote>
<div><p>Support for <code class="docutils literal"><span class="pre">Metaball</span></code>, <code class="docutils literal"><span class="pre">Surface</span></code> and <code class="docutils literal"><span class="pre">Curve</span></code> objects was added. Objects of these types are automatically converted into meshes during export. Support for <code class="docutils literal"><span class="pre">Curve</span></code> objects in modifiers was preserved.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Social networks buttons are added to the Web Player.</em></p>
<blockquote>
<div><p>These buttons allow placing a link and a description to the 3D scene in one of the four popular social networks.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Added support for editing the list of Viewer scenes directly in Blender.</em></p>
<blockquote>
<div><p>It is now possible to <a class="reference internal" href="workflow.html#assets-json"><span>edit assets.json file</span></a> with a list of Viewer scenes inside Blender. This works only when using Blend4Web SDK.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Screenshots can now be taken in the Viewer application.</em></p>
</li>
<li><p class="first"><em>New fallback_video option is added to the Web Player.</em></p>
<blockquote>
<div><p>Now the user can choose a video file to play instead of 3D content on systems without WebGL support. It is possible with the help of the new <code class="docutils literal"><span class="pre">fallback_video=/path/to/video/</span></code> option.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Improved rendering to texture functionality.</em></p>
<blockquote>
<div><p>Added support for rendering scenes into several textures at a time. Scenes now can have any nesting level.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Billboards now can save orientation and scale in world coordinates.</em></p>
<blockquote>
<div><p>To use the feature you need to set <a class="reference internal" href="objects.html#billboarding-preserve"><span>Blend4Web &gt; Preserve global orientation and scale</span></a> flag in the object&#8217;s settings panel.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Improvements on the main SDK web page.</em></p>
<blockquote>
<div><p>It is now possible to find out the version of the SDK and check the system for WebGL compatibility on the main web page.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Added support for the Clamp flag in MATH and MIX_RGB nodes</em></p>
<blockquote>
<div><p>At first this functionality was released in Blender 2.73, and now it&#8217;s also supported in the engine.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Considerable improvements in rendering quality on systems without depth-texture support.</em></p>
<blockquote>
<div><p>Supported rendering features on systems without depth-texture support were extended. There are such effects available now: reflections, bloom, glow, motion blur, anti-aliasing.</p>
</div></blockquote>
</li>
<li><p class="first"><em>New documentation is added.</em></p>
<blockquote>
<div><p>Added documentation for the <code class="docutils literal"><span class="pre">vec3</span></code>, <code class="docutils literal"><span class="pre">vec4</span></code>, <code class="docutils literal"><span class="pre">quat</span></code>, <code class="docutils literal"><span class="pre">mat3</span></code>, <code class="docutils literal"><span class="pre">mat4</span></code> modules and for the global namespace <code class="docutils literal"><span class="pre">b4w</span></code>. Documentation web pages design was improved.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Support for several engine instances on the same web page.</em></p>
<blockquote>
<div><p>Several engine instances can now work simultaneously, by specifying the namespace on engine&#8217;s initialization stage.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Possibility to use SDK on Apple macOS.</em></p>
<blockquote>
<div><p>On macOS all SDK functionality including engine and applications building, resource conversation and documentation generation is now available.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The new set_trans_pivot() method is added to the camera module.</em></p>
<blockquote>
<div><p>This function allows setting an arbitrary position of the pivot point and the position of the camera of the <code class="docutils literal"><span class="pre">Target</span></code> type.</p>
</div></blockquote>
</li>
<li><p class="first"><em>A new ``version`` property is added to the ``project.py`` utility.</em></p>
<blockquote>
<div><p>This property allows adding a version to the scripts and styles of the compiled application.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id89">
<h3>变更<a class="headerlink" href="#id89" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Now it is possible to add options with the same names via browser address bar.</em></p>
<blockquote>
<div><p>A new optional parameter <code class="docutils literal"><span class="pre">allow_param_array</span></code> is added to <code class="docutils literal"><span class="pre">get_url_params()</span></code> function of <code class="docutils literal"><span class="pre">app</span></code> module. It is set to <code class="docutils literal"><span class="pre">false</span></code> by default. Setting this parameter to <code class="docutils literal"><span class="pre">true</span></code> leads to a merge of identical functions into a massive, other way the last one will be used.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Improved ``Background Music`` speaker.</em></p>
<blockquote>
<div><p>Now the user can specify parameters of delay and playback time.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Blend-file now includes special Blend4Web nodes by default.</em></p>
<blockquote>
<div><p>Now there&#8217;s no need to add <a class="reference internal" href="node_materials.html#custom-node-materials"><span>Blend4Web special nodes</span></a> into a file. It is available in both SDK and addon versions of Blend4Web.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Changed export of empty &#8220;Mesh&#8221; objects.</em></p>
<blockquote>
<div><p>Now <code class="docutils literal"><span class="pre">Mesh</span></code> objects without polygons are exported as <code class="docutils literal"><span class="pre">Empty</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Changes in the &#8220;light.js&#8221; module.</em></p>
<blockquote>
<div><p>Added function <code class="docutils literal"><span class="pre">get_light_type</span></code>; functions <code class="docutils literal"><span class="pre">get_light_params</span></code> and <code class="docutils literal"><span class="pre">set_light_params</span></code> now get object <code class="docutils literal"><span class="pre">LAMP</span></code> instead of objects name. Also the user now can change <code class="docutils literal"><span class="pre">spot_blend</span></code>, <code class="docutils literal"><span class="pre">spot_size</span></code> and <code class="docutils literal"><span class="pre">distance</span></code> properties of the <code class="docutils literal"><span class="pre">SPOT</span></code> light source through those functions.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Improved refractions on LOW quality settings.</em></p>
<blockquote>
<div><p>New simplified (without distortion) refraction model is now used when <code class="docutils literal"><span class="pre">LOW</span></code> quality is chosen.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Shader nodes optimization.</em></p>
</li>
<li><p class="first"><em>Now automatic camera rotation can be turned off by touching touch screen.</em></p>
</li>
</ul>
</div>
<div class="section" id="id90">
<h3>修复<a class="headerlink" href="#id90" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Corrected behavior of the preloader for the Web Player.</em></p>
<blockquote>
<div><p>Some artifacts could be visible on <code class="docutils literal"><span class="pre">B4W</span></code> logo while opening Web Player.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Fixed an error in rendering of one-cascaded shadows. The error was related to appearing of a hard non-lighted line on the cascade border.</em></p>
</li>
<li><p class="first"><em>Fixed an error related to names collision while linking objects in Blender.</em></p>
</li>
<li><p class="first"><em>Fixed an error with optimization of SDK apps.</em></p>
</li>
<li><p class="first"><em>Fixed export error of flat shaded meshes on Linux x32.</em></p>
</li>
<li><p class="first"><em>Fixed incorrect behavior of Target camera in particular cases.</em></p>
</li>
<li><p class="first"><em>Fixed an error when using a shadow map with size exceeding device limits.</em></p>
</li>
<li><p class="first"><em>Fixed an error that leads to FPS drop in Firefox 35/36 on Windows when shadows are turned ON.</em></p>
</li>
</ul>
</div>
<div class="section" id="id91">
<h3>Known Issues<a class="headerlink" href="#id91" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Video textures do not work in Firefox for scenes exported as HTML files.</em></p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-01">
<h2>v15.01<a class="headerlink" href="#v15-01" title="永久链接至标题">¶</a></h2>
<div class="section" id="id92">
<h3>新功能<a class="headerlink" href="#id92" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Support for panning on touchscreen devices.</em></p>
<blockquote>
<div><p>Panning is performed by swiping two fingers on the surface of the screen.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Support for &#8220;Text&#8221; objects.</em></p>
<blockquote>
<div><p>These objects are now automatically converted to meshes during export.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Extended support for the NLA Script tool.</em></p>
<blockquote>
<div><p>Added new logic slots: <code class="docutils literal"><span class="pre">Show</span> <span class="pre">Object</span></code> and <code class="docutils literal"><span class="pre">Hide</span> <span class="pre">Object</span></code> used for hiding and showing the objects, <code class="docutils literal"><span class="pre">Page</span> <span class="pre">Redirect</span></code> - for redirecting to other webpages , <code class="docutils literal"><span class="pre">Page</span> <span class="pre">Param</span></code> - for storing any webpage parameter in given numerical register. Simplified usage of <code class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Jump</span></code> and <code class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Play</span></code> slots. Now it&#8217;s not required to specify <code class="docutils literal"><span class="pre">Selectable</span></code> property on selectable objects.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Support for high definition displays (HIDPI, Retina).</em></p>
<blockquote>
<div><p>The HIDPI mode allows to achieve considerable improvement of picture quality on devices with high resolution. This mode is activated automatically upon application startup if ULTRA quality profile has been selected. If necessary, high resolution can be turned on for other quality profiles.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Support orthographic camera scaling.</em></p>
<blockquote>
<div><p>An API to change the <code class="docutils literal"><span class="pre">Orthographic</span></code> camera scale has been added (<code class="docutils literal"><span class="pre">Orthographic</span> <span class="pre">scale</span></code> in Blender).</p>
</div></blockquote>
</li>
<li><p class="first"><em>&#8220;autorotate&#8221; option has been added to the webplayer.</em></p>
<blockquote>
<div><p><a class="reference internal" href="web_player.html#webplayer-attributes"><span>The option</span></a> autorotate is used to turn on the automatic camera rotation as soon as the scene loads.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Simplified keyboard control mode has been added to function &#8220;enable_camera_controls.</em></p>
<blockquote>
<div><p>The mode is enabled by passing the optional parameter <code class="docutils literal"><span class="pre">disable_letter_controls</span></code> Thus, the keyboard controls with letter keys (WASD and so on) will be turned off. This feature can be used in cases when you need to use the letter keys for purposes other than moving the camera.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Support for gyroscope on mobile devices.</em></p>
<blockquote>
<div><p>To work with gyroscope on mobile devices the two sensors was implemented. The first sensor allows to operate with current device position compared with the previous one (position delta). It&#8217;s created by using the function <code class="docutils literal"><span class="pre">create_gyro_delta_sensor</span></code> from &#8220;controls.js&#8221; module. The second sensor returns current device angle and created by <code class="docutils literal"><span class="pre">create_gyro_angles_sensor</span></code> from &#8220;controls.js&#8221; module. It&#8217;s worth to mention that all angles are given in radians. Also the special addon &#8220;gyroscope.js&#8221; was created. This addon implements simple camera movements due to device rotation. You can find an example of using such feature in our Viewer application by selecting the &#8220;Gyroscope&#8221; menu option.</p>
</div></blockquote>
</li>
<li><p class="first"><em>New ``Do not Render`` property has been added to material settings.</em></p>
<blockquote>
<div><p>Enabling the property allows to hide parts of the scene objects which use such material.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Support for video-textures on IE 11 and iPhone.</em></p>
<blockquote>
<div><p>The support is achieved by creating a new video-sequence format, <code class="docutils literal"><span class="pre">*.seq</span></code>. For more info check the following <a class="reference internal" href="developers.html#seq"><span>topic in documentation</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Support for &#8220;title&#8221; tag in Web Player.</em></p>
<blockquote>
<div><p>The Web Player&#8217;s title (shown as web browser header) is now extracted from JSON file of the loaded scene. For more info about this feature check the following <a class="reference internal" href="web_player.html#wp-title"><span>topic in documentation</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Support for meta tags in Blender.</em></p>
<blockquote>
<div><p>It&#8217;s now possible to append meta tag information to scenes and objects in Blender. Possible tags for scenes are &#8220;title&#8221; and &#8220;description&#8221;. Possible tags for objects are &#8220;title&#8221;, &#8220;description&#8221; and &#8220;category&#8221;.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Added support for execution of user-defined functions every frame.</em></p>
<blockquote>
<div><p>To help users to create sophisticated application the new function <code class="docutils literal"><span class="pre">append_loop_cb</span></code> has been added to &#8220;main.js&#8221; module. This function allows to execute given callback every frame. This callback has two parameters: time since the application start and time delta between current and previous frame. Both parameters are in seconds. To cancel the callback execution every frame you should remove it by using the <code class="docutils literal"><span class="pre">remove_loop_cb</span></code> function from the module &#8220;main.js&#8221;.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Added support for simple preloader screen animation.</em></p>
<blockquote>
<div><p>To create an application with animated preloader pass an option &#8220;preloader_fadeout&#8221; with the value &#8220;true&#8221; to the function <code class="docutils literal"><span class="pre">create_simple_preloader</span></code> from &#8220;preloader.js&#8221; module.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Added support to export converted media files to HTML file.</em></p>
<blockquote>
<div><p>Now then you export HTML files it&#8217;s possible to store converted files in them. To do so you need to enable &#8220;Export Converted Media&#8221; option in the <a class="reference internal" href="addon.html#export-opts"><span>export options</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Added support for using min50 and dds textures in Web Player.</em></p>
<blockquote>
<div><p>To enable this feature pass &#8220;compressed_textures&#8221; <a class="reference internal" href="web_player.html#webplayer-attributes"><span>parameter</span></a> to Web Player.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id93">
<h3>变更<a class="headerlink" href="#id93" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>SDK file hierarchy was simplified.</em></p>
<blockquote>
<div><p>The <code class="docutils literal"><span class="pre">external</span></code> directory was removed, all its content was moved to the upper level - in the root directory of the SDK. The file with the list of the scenes used by the Viewer application is now located in <code class="docutils literal"><span class="pre">apps_dev/viewer</span></code> directory.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Changed camera autorotation behavior (experimental).</em></p>
<blockquote>
<div><p>If the camera limits are present, the camera smoothly slows down when approaching the limits, then moves in the opposite direction.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The usage of ``Special: Collision`` property was changed.</em></p>
<blockquote>
<div><p>Earlier, enabling the option automatically resulted in objects&#8217; hiding. Now, to do the same thing, you have to specify <code class="docutils literal"><span class="pre">Do</span> <span class="pre">not</span> <span class="pre">Render</span></code> property in the material settings.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Changed suffix for converted media files.</em></p>
<blockquote>
<div><p>Old <code class="docutils literal"><span class="pre">*.lossconv.*</span></code> suffix was replaced by <code class="docutils literal"><span class="pre">*.altconv.*</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Behavior of &#8220;Do not render&#8221; object property was changed.</em></p>
<blockquote>
<div><p>Now, when the option is activated, an object&#8217;s physics is not disabled. The object simply becomes invisible.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Improved the SDK structure.</em></p>
<blockquote>
<div><p>Free and Pro SDK now come with the new and more polished examples; old and arid examples were dropped.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id94">
<h3>修复<a class="headerlink" href="#id94" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><em>When using &#8220;Panoramic&#8221; camera type in Blender the camera automatically obtains &#8220;Perspective&#8221; type when exported.</em></li>
<li><em>Fixed bug with &#8220;Target&#8221; camera dragging in rare cases.</em></li>
<li><em>Minor fixes in the &#8220;B4W Anim Baker&#8221; addon.</em></li>
<li><em>Fixed issue with sound for scenes with multiple cameras.</em></li>
<li><em>Improved stability of &#8220;Timer&#8221; sensors in &#8220;controls&#8221; module.</em></li>
<li><em>Fixed issue when browsing exported HTMLs in IE browser.</em></li>
<li><em>Video texture optimizations. Now the video texture is not updated for suspended video playback.</em></li>
<li><em>Fixed rendering issue in node materials with ``REFRACTION`` node.</em></li>
</ul>
</div>
<div class="section" id="id95">
<h3>Known Issues<a class="headerlink" href="#id95" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Video textures do not work in Firefox for scenes exported as HTML files.</em></p>
</li>
<li><p class="first"><em>Slow and unstable rendering of depth textures in Firefox 35.</em></p>
<blockquote>
<div><p>In various scenes the FPS is degraded when shadows are turned on. There is also an incorrect rendering of transparent materials. The issue is reported <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1125445">here</a> and is to be fixed in the future browser updates.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="v14-12">
<h2>v14.12<a class="headerlink" href="#v14-12" title="永久链接至标题">¶</a></h2>
<div class="section" id="id96">
<h3>新功能<a class="headerlink" href="#id96" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Camera velocity settings are now available.</em></p>
<blockquote>
<div><p>Now <a class="reference internal" href="camera.html#camera-velocity"><span>camera movement velocity</span></a> can be set up, including translation, rotation and zooming. Velocity for all camera types (<code class="docutils literal"><span class="pre">Target</span></code>, <code class="docutils literal"><span class="pre">Hover</span></code>, <code class="docutils literal"><span class="pre">Eye</span></code>) can be tweaked both using Blender UI and through Blend4Web API.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Mipmapping is now supported for Canvas textures.</em></p>
<blockquote>
<div><p>We have added mipmapping support for <a class="reference internal" href="textures.html#render-to-texture-canvas"><span>Canvas textures</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Full support for the &#8220;MAPPING&#8221; node.</em></p>
<blockquote>
<div><p>Now all <code class="docutils literal"><span class="pre">Vector</span> <span class="pre">type</span></code> options available for the <code class="docutils literal"><span class="pre">MAPPING</span></code> node are supported, including <code class="docutils literal"><span class="pre">Texture</span></code>, <code class="docutils literal"><span class="pre">Point</span></code>, <code class="docutils literal"><span class="pre">Vector</span></code> and <code class="docutils literal"><span class="pre">Normal</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Glow on mouse over.</em></p>
<blockquote>
<div><p>API in the <code class="docutils literal"><span class="pre">mouse.js</span></code> module were created for the effect of outlining the objects under the mouse pointer. Also, for purposes of controlling this effect, <code class="docutils literal"><span class="pre">enable_mouse_hover_glow()</span></code> and <code class="docutils literal"><span class="pre">disable_mouse_hover_glow()</span></code> methods were added. The objects should have <code class="docutils literal"><span class="pre">Object</span> <span class="pre">&gt;</span> <span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Selectable</span></code> checkbox enabled.</p>
</div></blockquote>
</li>
<li><p class="first"><em>A brand new app building system.</em></p>
<blockquote>
<div><p>Now, the users can develop their apps right in the SDK thanks to the new <code class="docutils literal"><span class="pre">project.py</span></code> utility. <a class="reference internal" href="developers.html#app-building"><span>This script</span></a> makes it possible to build the apps together with the engine, to minify JavaScript and CSS files and to export the final apps to be deployed on a server.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id97">
<h3>变更<a class="headerlink" href="#id97" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Removed support for deprecated &#8220;UV translation velocity&#8221; texture settings.</em></p>
<blockquote>
<div><p>We recommend to use node materials instead.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Removed deprecated &#8220;Levels of Detail&#8221; user interface.</em></p>
<blockquote>
<div><p>This functionality can be used through Blender&#8217;s standard &#8220;Levels of Detail&#8221; tool.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The pointerlock.js add-on was renamed into mouse.js.</em></p>
</li>
<li><p class="first"><em>A mouseup event is now fired when the mouse pointer is leaving the app viewport.</em></p>
<blockquote>
<div><p>So the problem with broken camera controls is no longer observed.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Error message about &#8220;Clear parent inverse&#8221; is no more shown.</em></p>
<blockquote>
<div><p>Before, when using parenting, it was required to reset translation, rotation and scale of child objects (<code class="docutils literal"><span class="pre">Object</span> <span class="pre">&gt;</span> <span class="pre">Parent</span> <span class="pre">&gt;</span> <span class="pre">Clear</span> <span class="pre">Parent</span> <span class="pre">Inverse</span></code>). Now such transformation is natively supported by the engine.</p>
</div></blockquote>
</li>
<li><p class="first"><em>&#8220;Apply scale&#8221; option no longer applies modifiers.</em></p>
<blockquote>
<div><p>As before, <a class="reference internal" href="objects.html#apply-modifiers"><span>Apply modifiers</span></a> should be used in order to apply modifiers.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Use of normal maps in node materials no longer requires a Material or Extended Material node.</em></p>
<blockquote>
<div><p>In some cases (e.g. refraction) normal maps can be used in shadeless materials.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id98">
<h3>修复<a class="headerlink" href="#id98" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Fixed audio playback error occurred when using NLA.</em></p>
<blockquote>
<div><p>This happened due to insufficient float number precision.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Fixed incorrect rendering of light sources on mobile devices.</em></p>
</li>
<li><p class="first"><em>Layering shadows is fixed when multiple active light sources are present.</em></p>
<blockquote>
<div><p>Now the shadows are calculated like in Blender, that is areas illuminated by other light sources are not darkened.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Node material rendering error has been fixed.</em></p>
<blockquote>
<div><p>The error occurred when a <code class="docutils literal"><span class="pre">MATERIAL</span></code> node (or <code class="docutils literal"><span class="pre">MATERIAL_EXT</span></code>) with a linked (from another .blend file) material was used.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Animation baker (&#8220;B4W Animation Bake&#8221; operator) no longer resets an armature pose.</em></p>
<blockquote>
<div><p>Now, when using the <a class="reference internal" href="animation.html#animation-bake"><span>animation baking tool</span></a>, the armature pose is being left intact.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Fixed jerky camera movement upon application startup.</em></p>
</li>
<li><p class="first"><em>Fixed error with incorrect determination of the camera&#8217;s horizontal movement limits.</em></p>
</li>
<li><p class="first"><em>Fixed error occurred when unused textures were exported.</em></p>
</li>
</ul>
</div>
<div class="section" id="id99">
<h3>Known Issues<a class="headerlink" href="#id99" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Video textures do not work in Firefox for scenes exported as HTML files.</em></p>
</li>
</ul>
</div>
</div>
<div class="section" id="v14-11">
<h2>v14.11<a class="headerlink" href="#v14-11" title="永久链接至标题">¶</a></h2>
<div class="section" id="id100">
<h3>新功能<a class="headerlink" href="#id100" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Video textures support.</em></p>
<blockquote>
<div><p><a class="reference internal" href="textures.html#video-texture"><span>Video textures</span></a> are now supported for <code class="docutils literal"><span class="pre">Image</span> <span class="pre">or</span> <span class="pre">Movie</span></code> textures.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Frame rate.</em></p>
<blockquote>
<div><p>Frame rate for animation and video textures can now be changed through the <code class="docutils literal"><span class="pre">Scene</span> <span class="pre">&gt;</span> <span class="pre">Dimensions</span> <span class="pre">&gt;</span> <span class="pre">Frame</span> <span class="pre">rate</span></code> option.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Canvas textures support.</em></p>
<blockquote>
<div><p>A canvas HTML element can be now used as a <a class="reference internal" href="textures.html#render-to-texture-canvas"><span>texture</span></a>. The workflow is described in the <a class="reference internal" href="textures.html#render-to-texture-canvas"><span>manual</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Camera panning.</em></p>
<blockquote>
<div><p>In the mode when the camera is rotating around a single point (<code class="docutils literal"><span class="pre">Target</span></code>) the users now have the ability to move the pivot point within the view plane (so called camera panning) while the right or middle mouse buttons are pressed. This function is turned on by default and can be turned off in Blender settings at need.</p>
</div></blockquote>
</li>
<li><p class="first"><em>New camera control mode - Hover.</em></p>
<blockquote>
<div><p>The <code class="docutils literal"><span class="pre">Hover</span></code> mode is now available when the camera is gliding over the horizontal plane (including zooming in and out). This camera mode makes it possible to realize scenarios for a convenient viewing of scenes which are spread in two dimensions (rooms, game levels).</p>
</div></blockquote>
</li>
<li><p class="first"><em>The SDK now contains a root index HTML webpage for simplifying navigation within the distribution.</em></p>
</li>
<li><p class="first"><em>The resource converter now has the ability to convert videos.</em></p>
</li>
<li><p class="first"><em>We have added a build system which was absent in previous public SDK distributions.</em></p>
</li>
<li><p class="first"><em>The export Strict mode is implemented in the add-on.</em></p>
<blockquote>
<div><p>Activating <code class="docutils literal"><span class="pre">Strict</span> <span class="pre">mode</span></code> gives the possibility to display all possible errors and warnings connected with incorrect scene settings. The option is useful for final scene debugging for getting the most correct and optimized resource files.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Audio playback support for iOS devices.</em></p>
</li>
</ul>
</div>
<div class="section" id="id101">
<h3>变更<a class="headerlink" href="#id101" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>The webplayer&#8217;s &#8220;bg&#8221; parameter is renamed to &#8220;fallback_image&#8221;.</em></p>
<blockquote>
<div><p>This option also has changed its behavior. If the <code class="docutils literal"><span class="pre">fallback_image</span></code> is defined the error message that WebGL is unavailable is not shown anymore, instead the user sees just the image.</p>
</div></blockquote>
</li>
<li><p class="first"><em>If there are no sound sources in the scene the sound mute button is no longer shown in the webplayer.</em></p>
</li>
<li><p class="first"><em>Generic materials workflow is now more predictable.</em></p>
</li>
<li><p class="first"><em>The &#8220;mouse_down&#8221; sensor provides the code of the mouse button pressed. This code can be obtained from the payload sensor&#8217;s parameter.</em></p>
</li>
<li><p class="first"><em>Hair particle systems can be now exported significantly faster.</em></p>
</li>
</ul>
</div>
<div class="section" id="id102">
<h3>修复<a class="headerlink" href="#id102" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Normal maps now work with Generated and Normal texture coordinates.</em></p>
<blockquote>
<div><p>Using UV layers is no more required for normal maps.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Fixed the problem with the wrong path to the physics engine in the webplayer.</em></p>
<blockquote>
<div><p>This error arose when uranium.js was moved out of the directory containing the main HTML file of the webplayer.</p>
</div></blockquote>
</li>
<li><p class="first"><em>In the add-on we have fixed the problem with packed textures. Export crashed when the &#8220;Automatically Pack Into .blend&#8221; option was enabled.</em></p>
</li>
</ul>
</div>
<div class="section" id="id103">
<h3>Known Issues<a class="headerlink" href="#id103" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="v14-10">
<h2>v14.10<a class="headerlink" href="#v14-10" title="永久链接至标题">¶</a></h2>
<div class="section" id="id104">
<h3>新功能<a class="headerlink" href="#id104" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>A new Web Player.</em></p>
<blockquote>
<div><p>The new minimalistic Web Player design blends perfectly with any 3D scenes. It has a simplified user interface and build-in help. The Web Player works on all devices including mobile ones.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Improved shadows.</em></p>
<blockquote>
<div><p>It&#8217;s now possible to choose a non-cascaded shadow model, based on a single optimized shadow map. Such model is easier to configure and suits well for relatively small scenes. For more info see the <a class="reference internal" href="lighting.html#shadows"><span>docs</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Many NLA system improvements.</em></p>
<blockquote>
<div><p>It&#8217;s now possible to create a complex logic using the <code class="docutils literal"><span class="pre">Conditional</span> <span class="pre">Jump</span></code>, <code class="docutils literal"><span class="pre">Register</span> <span class="pre">Store</span></code>, <code class="docutils literal"><span class="pre">Math</span> <span class="pre">Operation</span></code> NLA Script logic blocks and register-stored variables.</p>
<p>It&#8217;s now possible to use all types of supported animations in the NLA, including sound playback, vertex animation and particle emission. It&#8217;s now possible to play different animation types simultaneously.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Supported objects billboarding.</em></p>
<blockquote>
<div><p>The objects received the new set of <a class="reference internal" href="objects.html#objects-billboarding-properties"><span>options</span></a>, allowing to configure billboarding.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The &#8220;XYZ Euler&#8221; mode is supported for animating rotations.</em></p>
<blockquote>
<div><p>Object and skeletal animations now support the <code class="docutils literal"><span class="pre">XYZ</span> <span class="pre">Euler</span></code> mode for rotations.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Support for the GENERATED texture coordinates.</em></p>
</li>
<li><p class="first"><em>Support for Cross-origin resource sharing (CORS).</em></p>
</li>
<li><p class="first"><em>Scene export process simplified.</em></p>
<blockquote>
<div><p>The range of material export errors are now not blocking the export. Instead, this material will be highlighted pink at scene loading. Detailed error descriptions can be found in the <a class="reference internal" href="addon.html#export-errors-warnings"><span>manual</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Added support for the &#8220;Do not export&#8221; option for particle systems.</em></p>
</li>
<li><p class="first"><em>Improved stability on iOS devices.</em></p>
</li>
</ul>
</div>
<div class="section" id="id105">
<h3>变更<a class="headerlink" href="#id105" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Changed SDK path setting for HTML export.</em></p>
<blockquote>
<div><p>It&#8217;s now needed to set the SDK path setting for HTML export to SDK root directory. Earlier it was required to provide the full path to embed application. Pay attention, the old behavior is not supported anymore.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Deprecated the &#8220;UV translation velocity&#8221; option.</em></p>
<blockquote>
<div><p>The option will be removed since version 14.12.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Removed option &#8220;Do not export&#8221; from the &#8220;Object data&#8221; panel.</em></p>
</li>
<li><p class="first"><em>Removed &#8220;Blend4Web &gt; Animation &gt; Cyclic&#8221; option from the object properties panel</em>.</p>
<blockquote>
<div><p>Instead, one should use <code class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Animation</span> <span class="pre">&gt;</span> <span class="pre">Behavior</span></code> option located in the same place. Scenes with default animations may work incorrectly, so they need behavior property to be set to <code class="docutils literal"><span class="pre">Cyclic</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Modified SSAO algorithm realization.</em></p>
<blockquote>
<div><p>The new implementation is much faster and shows better quality. The settings of the algorithm are changed too. For more info see the <a class="reference internal" href="postprocessing_effects.html#ssao"><span>manual section</span></a>.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id106">
<h3>修复<a class="headerlink" href="#id106" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Fixed rendering error for HALO materials.</em></p>
</li>
<li><p class="first"><em>Fixed a rendering error when an object with the enabled &#8220;Force Dynamic Object&#8221; property has a parent object.</em></p>
</li>
<li><p class="first"><em>Fixed error with keyboard shortcuts in Blender.</em></p>
<blockquote>
<div><p>Fixed error with inability to assign keyboard shortcuts in Blender for export menu items:<code class="docutils literal"><span class="pre">File-&gt;Export-&gt;Blend4Web(.json)</span></code> and <code class="docutils literal"><span class="pre">File-&gt;Export-&gt;Blend4Web(.html)</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Fixed crash when loading textures with size exceeding device limits.</em></p>
</li>
<li><p class="first"><em>Fixed node material errors resulting in unstable engine behavior</em>.</p>
</li>
<li><p class="first"><em>Fixed error in node materials that contained complex Node Groups.</em></p>
</li>
<li><p class="first"><em>Fixed errors of shaders compilation on devices with mobile graphics Qualcomm Adreno 305.</em></p>
</li>
<li><p class="first"><em>Fixed rendering error when using REFRACTION nodes in transparent materials.</em></p>
</li>
<li><p class="first"><em>Fixed an issue in &#8220;B4W Vertex Anim Baker&#8221; tool when current frame reset was occurred after using bake.</em></p>
</li>
</ul>
</div>
<div class="section" id="id107">
<h3>Known Issues<a class="headerlink" href="#id107" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Normal maps don&#8217;t work for Generated texture type.</em></p>
<blockquote>
<div><p>It is necessary to use UV mapping for normal maps.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="v14-09">
<h2>v14.09<a class="headerlink" href="#v14-09" title="永久链接至标题">¶</a></h2>
<div class="section" id="id108">
<h3>新功能<a class="headerlink" href="#id108" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>ABSOLUTE type support for the MATH node.</em></p>
</li>
<li><p class="first"><em>Support for LEVELS_OF_QUALITY special node.</em></p>
<blockquote>
<div><p>Allows to control the material&#8217;s complexity depending on the quality profile which is specified by the user upon engine start.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Support for SMOOTHSTEP special node.</em></p>
<blockquote>
<div><p>Simplifies the creation of some effects in node materials.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Node groups support.</em></p>
<blockquote>
<div><p><a class="reference external" href="http://wiki.blender.org/index.php/Doc:2.6/Manual/Composite_Nodes/Node_Groups">Node groups</a> allow the sharing of node blocks between materials.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The ability to output intermediate rendering results for debugging.</em></p>
<blockquote>
<div><p>The rendering result for a certain stage can be now output above the main picture. This can be set up in the <code class="docutils literal"><span class="pre">config.js</span></code> module through the <code class="docutils literal"><span class="pre">debug_subs</span></code> options.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The logic for controlling Blender&#8217;s NLA animation using a visual editor has been implemented.</em></p>
<blockquote>
<div><p>The NLA Script tool has been added to Blender&#8217;s interface to allow the implementing of simple scenarios using visual blocks, for example playing an animation in response to the user actions.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Multiple sensor system improvements.</em></p>
<blockquote>
<div><p>It is now permitted to register <em>sensor manifolds</em> globally using a <code class="docutils literal"><span class="pre">controls</span></code> module method with no connection to any object. To do this <code class="docutils literal"><span class="pre">null</span></code> should be passed into the corresponding API. The sensor logic is processed in a more predictable and robust way according to the sequence in which their <em>manifolds</em> are created. Callbacks of the user action events are now assigned using the <code class="docutils literal"><span class="pre">register_&lt;input_type&gt;_events()</span></code> functions. To these functions it is now possible to pass the <code class="docutils literal"><span class="pre">prevent_default</span></code> flag which allows to unblock the standard browser behavior for the corresponding events.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The Web Player now supports physics.</em></p>
<blockquote>
<div><p>Works only in the Web Player version where JSON files are loaded separately. Physics still not supported in the single HTML files.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Skeletal animation mixing is now supported.</em></p>
<blockquote>
<div><p>The <code class="docutils literal"><span class="pre">animation.js</span></code> module now contains API for smooth transitions between skeletal animations: get_skel_mix_factor() - for getting the current mixing factor value and set_skel_mix_factor() - for setting it.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The Value node can now be animated in node materials.</em></p>
<blockquote>
<div><p>The functionality is similar to other animation types. Working in NLA is also supported.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Diffuse and Specular lamp&#8217;s properties are now supported.</em></p>
</li>
<li><p class="first"><em>The possibility to render a transparent object above other objects on the scene.</em></p>
<blockquote>
<div><p>Activated with the <code class="docutils literal"><span class="pre">Render</span> <span class="pre">above</span> <span class="pre">all</span></code> checkbox for transparent materials (i.e. not <code class="docutils literal"><span class="pre">Opaque</span></code>).</p>
</div></blockquote>
</li>
<li><p class="first"><em>Scale is applied automatically to the object mesh.</em></p>
<blockquote>
<div><p>Activated by enabling the <code class="docutils literal"><span class="pre">Apply</span> <span class="pre">scale</span></code> checkbox in the object settings.</p>
</div></blockquote>
</li>
<li><p class="first"><em>High quality profile (including shadows, dynamic reflections and anti-aliasing) has been implemented for iOS.</em></p>
</li>
</ul>
</div>
<div class="section" id="id109">
<h3>变更<a class="headerlink" href="#id109" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><em>Shadow rendering improved.</em></p>
<blockquote>
<div><p>Shadow rendering system is significantly changed: it is now based on the <code class="docutils literal"><span class="pre">Stable</span> <span class="pre">Cascaded</span> <span class="pre">Shadow</span> <span class="pre">Maps</span></code> technique. This technique allows to greatly diminish the flickering of shadow edges when the camera moves. Smoothing is implemented between cascades. Also shadows of the last cascade fade out at distancing. Softened shadows are rendered using the <code class="docutils literal"><span class="pre">Percentage</span> <span class="pre">Closer</span> <span class="pre">Shadows</span></code> technique. The shadows&#8217; user settings are reworked and simplified. Now its possible to tweak the size of shadow maps, blur ratio and the setting for removing self-shadowing artifacts. The new settings are <a class="reference internal" href="lighting.html#shadows"><span>documented</span></a> in detail.</p>
</div></blockquote>
</li>
<li><p class="first"><em>In the Web Player graphics quality settings are now saved independently for each scene.</em></p>
</li>
<li><p class="first"><em>The behavior of the app configuration parameters has been changed: physics_uranium_path, smaa_search_texture_path and smaa_area_texture_path.</em></p>
<blockquote>
<div><p>These parameters are now calculated automatically depending on the running HTML files location, if they haven&#8217;t been overridden during the app&#8217;s initialization.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Transition is completed to the system of modules which are linked via b4w.require() call.</em></p>
<blockquote>
<div><p>This also means that starting form the current version its impossible to call modules in the engine&#8217;s release version using the old <code class="docutils literal"><span class="pre">b4w.&lt;module&gt;</span></code> namespaces. For compatibility purposes the <code class="docutils literal"><span class="pre">ns_compat.js</span></code> add-on has been implemented, the linking of which allows to restore the old behavior.</p>
</div></blockquote>
</li>
<li><p class="first"><em>The Web Player&#8217;s control panel can now be hidden.</em></p>
</li>
<li><p class="first"><em>Skeletal animation is now applied to armature objects only.</em></p>
<blockquote>
<div><p>There is no need to apply skeletal animation to <code class="docutils literal"><span class="pre">MESH</span></code> objects. If they are linked to some animated armature, their skinning will be automatic.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Demos and tutorials are updated according to the newly implemented features.</em></p>
</li>
</ul>
</div>
<div class="section" id="id110">
<h3>修复<a class="headerlink" href="#id110" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><em>The preloader didn&#8217;t disappear in case of a loading error (texture or sound file).</em></li>
<li><em>Lagging during scaling and turning on mobile devices is fixed.</em></li>
<li><em>TARGET-type camera shimmering has been removed for small turnings.</em></li>
<li><em>EYE-type camera controls was fixed for mobile devices.</em></li>
<li><em>The Farm demo controls are improved for Safari browser.</em></li>
<li><em>Errors concerning using the unsupported shading models in node materials are now fixed.</em></li>
<li><em>&#8220;Selectable&#8221; option now works for the objects without materials.</em></li>
<li><em>There is no longer need to enable &#8220;Force Dynamic Object&#8221;</em> for the objects that are animated using NLA.</li>
<li><em>The particle system error when the object being instanced is parented to another object, has been fixed.</em></li>
</ul>
</div>
<div class="section" id="id111">
<h3>Known Issues<a class="headerlink" href="#id111" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Problems with updating of the add-on.</p>
<blockquote>
<div><p>It&#8217;s strongly advised to restart Blender after installing a newer version of Addon/SDK.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Armature animation mixing doesn&#8217;t work with some browsers.</em></p>
<blockquote>
<div><p>If skeletal animation mixing API brings unexpected errors, it is necessary to override standard Math.sign function as follows:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">m_util</span>  <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;util&quot;</span><span class="p">);</span>
<span class="nb">Math</span><span class="p">.</span><span class="nx">sign</span> <span class="o">=</span> <span class="nx">m_util</span><span class="p">.</span><span class="nx">sign</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="problems_and_solutions.html" class="btn btn-neutral" title="存在的问题及解决方案" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; 版权所有 2014-2017, Triumph.
      最后更新于 2017-06-30.

    </p>
  </div>

  <a href="https://www.blend4web.com">www.blend4web.com</a>

  <!-- Yandex.Metrika counter -->
  <script type="text/javascript">
  (function() {
    if (window.document.domain != "www.blend4web.com")
      return;

    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter24512171 = new Ya.Metrika({
                    id:24512171,
                    clickmap:false,
                    trackLinks:true,
                    accurateTrackBounce:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
  })();
  </script>
  <noscript><div><img src="https://mc.yandex.ru/watch/24512171" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
  <!-- /Yandex.Metrika counter -->

</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'v17.06',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();

          var lang_cont = $("#lang_cont");
          var links = lang_cont.children();

          var link_ru = links[0];
          var link_en = links[1];
          var link_zh = links[2];

          var loc = document.location.href;

          var href_ru = loc;
          var href_en = loc;
          var href_zh = loc; 

          if (loc.search("/ru/") != -1) {
              href_en = loc.replace("/ru/", "/en/");
              href_zh = loc.replace("/ru/", "/zh/");
          } else if (loc.search("/en/") != -1) {
              href_ru = loc.replace("/en/", "/ru/");
              href_zh = loc.replace("/en/", "/zh/");
          } else {
              href_ru = loc.replace("/zh/", "/ru/");
              href_en = loc.replace("/zh/", "/en/");
          }

          link_ru.href = href_ru;
          link_en.href = href_en;
          link_zh.href = href_zh;

          lang_cont.css("display", "inline-block")
      });
  </script>
   

</body>
</html>