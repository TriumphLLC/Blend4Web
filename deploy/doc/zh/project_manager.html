

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>项目管理 &mdash; Blend4Web 17.06 用户手册</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="author" title="关于这些文档"
              href="about.html"/>
    <link rel="top" title="Blend4Web 17.06 用户手册" href="index.html"/>
        <link rel="next" title="场景预览器" href="viewer.html"/>
        <link rel="prev" title="工作流程" href="workflow.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Blend4Web. 用户手册
        

        
        </a>

        
          
          
            <div class="version">
              v17.06
            </div>
          
        

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine_features.html">引擎功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">安装和更新</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">工作流程</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">项目管理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#project-manager">项目管理器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#project-creation-wizard">项目创建向导</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-web-player-application">创建一个 Web 播放器应用程序</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#project-settings">项目设置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#project-building-and-deploy">构建项目并部署</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#project-information">项目信息</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#commands">命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="#project-parameters">项目参数</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#project-editing">项目编辑</a></li>
<li class="toctree-l3"><a class="reference internal" href="#project-config">项目配置</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#info-settings-group"><code class="docutils literal"><span class="pre">Info</span></code> 设置组</a></li>
<li class="toctree-l4"><a class="reference internal" href="#build-setting-group"><code class="docutils literal"><span class="pre">Build</span></code> 设置组</a></li>
<li class="toctree-l4"><a class="reference internal" href="#paths-setting-group"><code class="docutils literal"><span class="pre">Paths</span></code> 设置组</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deploy-setting-group"><code class="docutils literal"><span class="pre">Deploy</span></code> 设置组</a></li>
<li class="toctree-l4"><a class="reference internal" href="#url-get-params">URL GET 参数</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#project-import">项目导入</a></li>
<li class="toctree-l3"><a class="reference internal" href="#project-export">项目导出</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id4">命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">项目参数</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#deploying-the-project">部署项目</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-project-management">高级项目管理</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">依赖</a></li>
<li class="toctree-l3"><a class="reference internal" href="#projects-list">项目清单</a></li>
<li class="toctree-l3"><a class="reference internal" href="#project-structure">项目结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="#project-configuration-file-b4w-project">项目配置文件（.b4w_project）</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#section-info">模块 <code class="docutils literal"><span class="pre">[info]</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#section-paths">模块 <code class="docutils literal"><span class="pre">[paths]</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#section-compile">模块 <code class="docutils literal"><span class="pre">[compile]</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#section-deploy">模块 <code class="docutils literal"><span class="pre">[deploy]</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#section-url-params">模块 <code class="docutils literal"><span class="pre">[url_params]</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-project">创建项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="#developing-multiple-apps-inside-a-project">开发一个项目中的多个应用程序</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-projects">构建项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="#automatic-blend-file-export">自动 Blend 文件导出</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resource-conversion">资源转换</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deploying-projects">部署项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="#remove-project">移除项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-apps-for-new-sdk-versions">应用程序升级新版本的SDK</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">场景预览器</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_player.html">网络播放器</a></li>
<li class="toctree-l1"><a class="reference internal" href="addon.html">插件</a></li>
<li class="toctree-l1"><a class="reference internal" href="scene_settings.html">场景设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">物体</a></li>
<li class="toctree-l1"><a class="reference internal" href="meshes.html">网格</a></li>
<li class="toctree-l1"><a class="reference internal" href="normal_editor.html">法线编辑器</a></li>
<li class="toctree-l1"><a class="reference internal" href="camera.html">相机</a></li>
<li class="toctree-l1"><a class="reference internal" href="materials.html">材质</a></li>
<li class="toctree-l1"><a class="reference internal" href="material_library.html">材质库</a></li>
<li class="toctree-l1"><a class="reference internal" href="node_materials.html">节点材质</a></li>
<li class="toctree-l1"><a class="reference internal" href="logic_editor.html">逻辑编辑器</a></li>
<li class="toctree-l1"><a class="reference internal" href="lighting.html">照明、 阴影和背景</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessing_effects.html">后期处理效果</a></li>
<li class="toctree-l1"><a class="reference internal" href="stereo_rendering.html">立体渲染</a></li>
<li class="toctree-l1"><a class="reference internal" href="textures.html">纹理</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles.html">粒子系统,流体</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles_instancing.html">粒子系统.实例化</a></li>
<li class="toctree-l1"><a class="reference internal" href="animation.html">动画</a></li>
<li class="toctree-l1"><a class="reference internal" href="outdoor_rendering.html">室外效果</a></li>
<li class="toctree-l1"><a class="reference internal" href="colors.html">色彩管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">音频</a></li>
<li class="toctree-l1"><a class="reference internal" href="physics.html">物理</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">对应用程序开发人员</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers_advanced.html">对于引擎开发者</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_short_manual.html">团队工作。使用 Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems_and_solutions.html">存在的问题及解决方案</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">发布说明</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Blend4Web. 用户手册</a>
      </nav>


      
      <div class="wy-nav-content">
        <div id="lang_cont">
          <a href="#">RU</a>
          <a href="#">EN</a>
          <a href="#">ZH</a>
        </div>
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>项目管理</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="project-management">
<span id="id1"></span><h1><a class="toc-backref" href="#id9">项目管理</a><a class="headerlink" href="#project-management" title="永久链接至标题">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">目录</p>
<ul class="simple">
<li><a class="reference internal" href="#project-management" id="id9">项目管理</a><ul>
<li><a class="reference internal" href="#project-manager" id="id10">项目管理器</a><ul>
<li><a class="reference internal" href="#project-creation-wizard" id="id11">项目创建向导</a></li>
<li><a class="reference internal" href="#creating-a-web-player-application" id="id12">创建一个 Web 播放器应用程序</a></li>
<li><a class="reference internal" href="#project-information" id="id13">项目信息</a></li>
<li><a class="reference internal" href="#project-editing" id="id14">项目编辑</a></li>
<li><a class="reference internal" href="#project-config" id="id15">项目配置</a></li>
<li><a class="reference internal" href="#project-import" id="id16">项目导入</a></li>
<li><a class="reference internal" href="#project-export" id="id17">项目导出</a></li>
<li><a class="reference internal" href="#deploying-the-project" id="id18">部署项目</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-project-management" id="id19">高级项目管理</a><ul>
<li><a class="reference internal" href="#dependencies" id="id20">依赖</a></li>
<li><a class="reference internal" href="#projects-list" id="id21">项目清单</a></li>
<li><a class="reference internal" href="#project-structure" id="id22">项目结构</a></li>
<li><a class="reference internal" href="#project-configuration-file-b4w-project" id="id23">项目配置文件（.b4w_project）</a></li>
<li><a class="reference internal" href="#creating-a-project" id="id24">创建项目</a></li>
<li><a class="reference internal" href="#developing-multiple-apps-inside-a-project" id="id25">开发一个项目中的多个应用程序</a></li>
<li><a class="reference internal" href="#building-projects" id="id26">构建项目</a></li>
<li><a class="reference internal" href="#automatic-blend-file-export" id="id27">自动 Blend 文件导出</a></li>
<li><a class="reference internal" href="#resource-conversion" id="id28">资源转换</a></li>
<li><a class="reference internal" href="#deploying-projects" id="id29">部署项目</a></li>
<li><a class="reference internal" href="#remove-project" id="id30">移除项目</a></li>
<li><a class="reference internal" href="#upgrading-apps-for-new-sdk-versions" id="id31">应用程序升级新版本的SDK</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>自版本 15.09，SDK 中包含一种项目管理功能，使它成为可能 ︰</p>
<blockquote>
<div><ul class="simple">
<li><p class="first">浏览完整列表和文件结构的项目;</p>
</li>
<li><p class="first">启动应用程序，在查看器中运行导出的场景，在Blender中打开blend文件;</p>
</li>
<li><p class="first">创建和配置新的应用程序，包括那些基于现成的模板;</p>
</li>
<li><p class="first">构建应用程序和并打包方便地部署在远程的服务器;</p>
</li>
<li><p class="first">将应用程序资源 （纹理、 音频和视频文件） 转换为其他格式，以确保跨浏览器和跨平台的性能;</p>
</li>
<li><p class="first">自动重新导出应用程序的所有场景，包括导出到 JSON 和 HTML 格式;</p>
</li>
<li><p class="first">删除项目。</p>
</li>
</ul>
</div></blockquote>
<div class="section" id="project-manager">
<span id="id2"></span><h2><a class="toc-backref" href="#id10">项目管理器</a><a class="headerlink" href="#project-manager" title="永久链接至标题">¶</a></h2>
<p>SDK的首页的 <em>工具</em> 项中可以运行 <em>项目管理</em> 应用 。启动后，该应用程序将输出 SDK 中的所有当前项目列表。</p>
<img alt="_images/project_manager_overview.png" class="align-center" src="_images/project_manager_overview.png" />
<p>项目管理的命令位于页面的顶部。</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/project_manager_actions.png"><img alt="_images/project_manager_actions.png" class="align-center" src="_images/project_manager_actions.png" style="width: 100%;" /></a>
</div></blockquote>
<dl class="docutils">
<dt><em>返回首页</em></dt>
<dd><p class="first last">返回到 Blend4Web SDK 索引页。</p>
</dd>
<dt><em>新建工程</em></dt>
<dd><p class="first last">打开  <a class="reference internal" href="#create-new-project"><span>项目创建</span></a> 向导。</p>
</dd>
<dt><em>导入项目</em></dt>
<dd><p class="first last">打开  <a class="reference internal" href="#import-projects"><span>project import</span></a> 对话。</p>
</dd>
<dt><em>导出项目</em></dt>
<dd><p class="first last">打开 <a class="reference internal" href="#export-projects"><span>project export</span></a>  页。</p>
</dd>
<dt><em>隐藏项目</em></dt>
<dd><p class="first last">可以用来隐藏项目。如果已经隐藏了此类项目，则此命令替换 <code class="docutils literal"><span class="pre">显示项目</span></code> 命令。</p>
</dd>
<dt><em>帮助</em></dt>
<dd><p class="first last">打开  <a class="reference internal" href="#project-manager"><span>帮助文件</span></a>.</p>
</dd>
</dl>
<p>用于管理特定项目的命令在它的右侧。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">根据项目的类型的一些命令可能无法使用。</p>
</div>
<img alt="_images/project_manager_commands.png" class="align-center" src="_images/project_manager_commands.png" />
<ol class="arabic">
<li><p class="first">编译项目 （WebPlayer JSON 和 WebPlayer HTML 项目不可用）。</p>
</li>
<li><p class="first">检查是否缺少或不必要的API模块（WebPlayer JSON 和 WebPlayer HTML 项目不可用）。</p>
<blockquote>
<div><p>激活此选项将使项目管理器检查应用程序使用的模块，并将检查结果的结果输出到控制台。可能的警告消息如下：</p>
<ol class="arabic simple">
<li><p class="first">如果一个或多个API模块从项目的文件夹中丢失，将会显示以下信息：</p>
</li>
</ol>
<blockquote>
<div><p><cite>模块 `module_name` 在 `project_name.html` 项目丢失，请包括它或运行  `Update Modules`.</cite></p>
</div></blockquote>
<img alt="_images/project_manager_check_modules_missing.png" class="align-center" src="_images/project_manager_check_modules_missing.png" />
<p>这些缺失的模块可以被添加到项目中的 <code class="docutils literal"><span class="pre">Update</span> <span class="pre">Modules</span></code> 按钮</p>
<ol class="arabic simple" start="2">
<li><p class="first">如果项目具有未在程序代码的任何地方使用的一个或多个的API模块，将显示以下信息：</p>
</li>
</ol>
<blockquote>
<div><p><cite>在 `project_name.html` 中的 `不正确的模块 `module_name` ， 请删除它或运行  `Update Modules`.</cite></p>
</div></blockquote>
<img alt="_images/project_manager_check_modules_required.png" class="align-center" src="_images/project_manager_check_modules_required.png" />
<p>这些不正确的模块可以从项目中用 “更新模块” 按钮删除。</p>
<ol class="arabic simple" start="3">
<li><p class="first">在已检测缺失/不需要的模块没有任何问题的情况下，将显示以下信息：</p>
</li>
</ol>
<p><cite>模块检查完毕。在 `module_name.html`. 中检测到没有问题</cite></p>
<img alt="_images/project_manager_check_modules_complete.png" class="align-center" src="_images/project_manager_check_modules_complete.png" />
</div></blockquote>
</li>
<li><p class="first">从项目重新导出blend文件。</p>
</li>
<li><p class="first"><a class="reference internal" href="developers.html#converter"><span>转换媒体资源。</span></a></p>
</li>
<li><p class="first"><a class="reference internal" href="#project-deploy"><span>导出并下载项目文档</span></a>.</p>
</li>
<li><p class="first">移除项目</p>
</li>
<li><p class="first"><a class="reference internal" href="#updating-project-structure"><span>更新文件结构</span></a>. 仅可用于  Blend4Web 16.12 或更旧版本创建的项目。</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">项目的所有路径都是从它的 <a class="reference internal" href="#b4w-config"><span>.b4w_project 配置文件</span></a> 中检索。</p>
</div>
<p>位于项目的名称旁边的是链接到</p>
<ol class="arabic simple">
<li><p class="first"><a class="reference internal" href="#project-info"><span>项目信息页面</span></a>,</p>
</li>
<li><p class="first"><a class="reference internal" href="#project-edit"><span>项目文件编辑器</span></a> 和</p>
</li>
<li><p class="first"><a class="reference internal" href="#project-config"><span>项目配置器</span></a>.</p>
</li>
</ol>
<p>这里也指定应用程序类型。应用程序可以具有下列类型之一︰</p>
<dl class="docutils">
<dt><em>播放器</em></dt>
<dd><p class="first last">可以使用 Web 播放器播放应用程序。</p>
</dd>
<dt><em>开发</em></dt>
<dd><p class="first last">开发中的应用。</p>
</dd>
<dt><em>构建</em></dt>
<dd><p class="first last">编译应用程序。</p>
</dd>
</dl>
<div class="section" id="project-creation-wizard">
<span id="create-new-project"></span><h3><a class="toc-backref" href="#id11">项目创建向导</a><a class="headerlink" href="#project-creation-wizard" title="永久链接至标题">¶</a></h3>
<p>该工具用于创建新的项目是列入项目管理应用程序中，由主页面上 <code class="docutils literal"><span class="pre">[Create</span> <span class="pre">New</span> <span class="pre">Project]</span></code> 按钮执行。</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/project_manager_create_project.png"><img alt="_images/project_manager_create_project.png" class="align-center" src="_images/project_manager_create_project.png" style="width: 100%;" /></a>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">[Back</span> <span class="pre">to</span> <span class="pre">Projects]</span></code> 按钮可以用来返回到项目管理的主页面，而 <code class="docutils literal"><span class="pre">[Help]</span></code> 按钮可以用到访问 <a class="reference internal" href="#create-new-project"><span>帮助文件</span></a>.</p>
<ol class="arabic">
<li><p class="first">项目名称习惯为 &#8220;projects/project_name&#8221;, &#8220;projects/project_name/assets&#8221;, &#8220;projects/project_name/blender&#8221; 和 &#8220;projects/project_name/build&#8221; 等名称的项目目录。</p>
</li>
<li><p class="first">在浏览器中所示的项目标题。</p>
</li>
<li><p class="first">项目作者的名字。</p>
</li>
<li><p class="first">添加应用程序模板。标准应用程序模板 ︰ html 文件，css 文件，js 文件将添加到项目目录   &#8220;projects/project_name&#8221;.</p>
</li>
<li><p class="first">添加场景模板。标准的 json 文件将添加到  &#8220;projects/project_name/assets&#8221; 目录;blend文件将添加到  &#8220;projects/project_name/blender&#8221; 目录。</p>
</li>
<li><p class="first">使用材质库。材质库的Blend文件会复制到项目文件夹 &#8220;projects/project_name/blender&#8221;，资产文件复制到 &#8220;projects/project_name/assets&#8221; 目录。</p>
</li>
<li><p class="first">复制项目管理脚本。Project.py 脚本将复制到项目目录。</p>
</li>
<li><p class="first">项目的类型。有几个选项 ︰</p>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Copy</span></code> - 引擎文件将直接从 <code class="docutils literal"><span class="pre">deploy/apps/common/</span></code> 目录复制到应用文件夹。</p>
<blockquote>
<div><p>当项目展开时，唯一的应用程序文件进行编译，而引擎文件仍保持不变（所以你不能修改引擎本身）;</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Compile</span></code> -引擎源代码应用程序的脚本一同编译;</p>
<blockquote>
<div><p>这个选项可以用于修改引擎本身的代码;</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">None</span></code> -项目管理器不会将引擎文件复制到应用程序文件夹，也不将它执行任何操作生成应用程序。应用程序开发人员将不得不手动执行他们所需要的一切;</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Web</span> <span class="pre">Player</span> <span class="pre">JSON</span></code> - 项目下的 json 文件通过SDK里的web播放器播放；</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Web</span> <span class="pre">Player</span> <span class="pre">HTML</span></code> - 项目被打包到单独的 html 文件，包含所有所需的资源。</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Javascript 优化级别。</p>
<blockquote>
<div><ul class="simple">
<li><p class="first">&#8220;简单&#8221; — — 变量的名称替换代码;</p>
</li>
<li><p class="first">&#8220;先进&#8221; — — 进行了代码优化;</p>
</li>
<li><p class="first">&#8220;只空格&#8221; — — 只有空格从代码中移除。</p>
</li>
</ul>
</div></blockquote>
</li>
</ol>
<ol class="arabic simple" id="web-player-params" start="10">
<li><p class="first">网络播放器的URL属性。此选项卡仅当 <code class="docutils literal"><span class="pre">Engine</span> <span class="pre">Binding</span> <span class="pre">Type</span></code> 参数设置为 <code class="docutils literal"><span class="pre">Web</span> <span class="pre">Player</span> <span class="pre">JSON</span></code> 活 <code class="docutils literal"><span class="pre">Web</span> <span class="pre">Player</span> <span class="pre">HTML</span></code> 时可用。</p>
<ul>
<li><p class="first">“显示FPS” 用于显示在玩家的右上角的FPS计数器。</p>
</li>
<li><p class="first">“自动旋转摄像头” 让场景加载后立即自动旋转相机。</p>
</li>
<li><p class="first">“禁用社交网络按钮” 禁用控制面板上的社交网络按钮。</p>
</li>
<li><p class="first">“背景透明” 启用渲染区域的透明度。</p>
</li>
<li><p class="first">&#8220;使用压缩纹理&#8221; 使精缩和压缩纹理加载（以DDS格式）。</p>
</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="creating-a-web-player-application">
<span id="web-player-app"></span><h3><a class="toc-backref" href="#id12">创建一个 Web 播放器应用程序</a><a class="headerlink" href="#creating-a-web-player-application" title="永久链接至标题">¶</a></h3>
<p>网络播放器应用的主要优点是易于在网站上部署这种应用。</p>
<a class="reference internal image-reference" href="_images/project_manager_create_web_player_project.png"><img alt="_images/project_manager_create_web_player_project.png" class="align-center" src="_images/project_manager_create_web_player_project.png" style="width: 100%;" /></a>
<p>创建一个Web Player应用程序很简单。所有你需要做的，当创建一个新的项目选择时在引擎绑定类型面板下面选择 <code class="docutils literal"><span class="pre">Web</span> <span class="pre">Player</span> <span class="pre">JSON</span></code> 或 <code class="docutils literal"><span class="pre">Web</span> <span class="pre">Player</span> <span class="pre">HTML</span></code> 选项。</p>
<p>可用于在Web播放器项目的参数大多是和任何其他类型的项目一样的。唯一的例外是被称为网络播放器PARAMS组参数。</p>
<div class="section" id="project-settings">
<h4>项目设置<a class="headerlink" href="#project-settings" title="永久链接至标题">¶</a></h4>
<a class="reference internal image-reference" href="_images/project_manager_web_player_parameters.png"><img alt="_images/project_manager_web_player_parameters.png" class="align-center" src="_images/project_manager_web_player_parameters.png" style="width: 100%;" /></a>
<p>如果 <code class="docutils literal"><span class="pre">Web</span> <span class="pre">Player</span> <span class="pre">JSON</span></code> 或 <code class="docutils literal"><span class="pre">Web</span> <span class="pre">Player</span> <span class="pre">HTML</span></code> 选项已启用，此面板才可用。这里列出的参数在本质上是运行该项目的Web播放器应用程序将使用的URL。</p>
</div>
<div class="section" id="project-building-and-deploy">
<h4>构建项目并部署<a class="headerlink" href="#project-building-and-deploy" title="永久链接至标题">¶</a></h4>
<p>在一个项目上的工作完毕后，它能够生成和部署到 web 服务器。所有这一切都在 <a class="reference internal" href="#project-deploy"><span>相应章节</span></a> 中描述</p>
</div>
</div>
<div class="section" id="project-information">
<span id="project-info"></span><h3><a class="toc-backref" href="#id13">项目信息</a><a class="headerlink" href="#project-information" title="永久链接至标题">¶</a></h3>
<p>此页包含有关选定项目的信息，可以在该项目的标题旁边的 <code class="docutils literal"><span class="pre">[info]</span></code> 链接查看。</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/project_manager_info.png"><img alt="_images/project_manager_info.png" class="align-center" src="_images/project_manager_info.png" style="width: 100%;" /></a>
</div></blockquote>
<div class="section" id="commands">
<h4>命令<a class="headerlink" href="#commands" title="永久链接至标题">¶</a></h4>
<dl class="docutils">
<dt><em>回到项目</em></dt>
<dd><p class="first last">返回到项目管理的主页面。</p>
</dd>
<dt><em>帮助</em></dt>
<dd><p class="first last">打开  <a class="reference internal" href="#project-info"><span>帮助文件</span></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="project-parameters">
<h4>项目参数<a class="headerlink" href="#project-parameters" title="永久链接至标题">¶</a></h4>
<dl class="docutils">
<dt>项目名称</dt>
<dd><p class="first last">项目名称</p>
</dd>
<dt>项目的标题。</dt>
<dd><p class="first last">在浏览器中所示的项目标题。</p>
</dd>
<dt><em>项目作者 / 公司</em></dt>
<dd><p class="first last">该项目的作者或开发商公司的名称。</p>
</dd>
<dt><em>项目图标</em></dt>
<dd><p class="first last">该项目的图标。</p>
</dd>
<dt><em>应用程序</em></dt>
<dd><p class="first last">项目应用程序。</p>
</dd>
<dt><em>引擎绑定类型</em></dt>
<dd><p class="first last">设置项目类型</p>
</dd>
<dt><em>项目路径 （开发目录）</em></dt>
<dd><p class="first last">项目的目录。</p>
</dd>
<dt><em>项目配置</em></dt>
<dd><p class="first last">项目的配置文件。</p>
</dd>
<dt><em>构建目录</em></dt>
<dd><p class="first last">项目构建目录。</p>
</dd>
<dt><em>Blend 目录</em></dt>
<dd><p class="first last">项目的blend文件目录的位置。</p>
</dd>
<dt><em>资产目录</em></dt>
<dd><p class="first last">项目的媒体资产所在的位置目录。</p>
</dd>
<dt><em>URL 参数</em></dt>
<dd><p class="first last"><a class="reference internal" href="web_player.html#webplayer-attributes"><span>URL 参数</span></a> 列表用来启动应用程序。</p>
</dd>
<dt><em>JavaScript 混淆级别</em></dt>
<dd><p class="first last">Javascript 优化级别。</p>
</dd>
<dt><em>JS编译通过列表</em></dt>
<dd><p class="first last">该项目的JavaScript文件汇编直通例外列表。</p>
</dd>
<dt><em>CSS编译通过列表</em></dt>
<dd><p class="first last">该项目的样式表编译直通例外列表。</p>
</dd>
<dt><em>构建忽略列表</em></dt>
<dd><p class="first last">项目编译中的例外列表。</p>
</dd>
<dt><em>部署资产目录</em></dt>
<dd><p class="first last">资产将被放置部署项目的目录。</p>
</dd>
<dt><em>部署资产URL前缀</em></dt>
<dd><p class="first last"><a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html#.get_assets_path">get_assets_path()</a> 所报告的资产目录部署项目中URL路径前缀。</p>
</dd>
<dt><em>部署忽略列表</em></dt>
<dd><p class="first last">项目的部署例外列表。</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="project-editing">
<span id="project-edit"></span><h3><a class="toc-backref" href="#id14">项目编辑</a><a class="headerlink" href="#project-editing" title="永久链接至标题">¶</a></h3>
<p>简单的基于Web的界面可以编辑项目文件，通过项目的标题旁的 <code class="docutils literal"><span class="pre">[编辑]</span></code> 链接。</p>
<a class="reference internal image-reference" href="_images/project_manager_edit_project.png"><img alt="_images/project_manager_edit_project.png" class="align-center" src="_images/project_manager_edit_project.png" style="width: 100%;" /></a>
<p>编辑器窗口的左的部分包含所有从项目目录(<code class="docutils literal"><span class="pre">projects/my_project</span></code>) 中  <code class="docutils literal"><span class="pre">.html</span></code>, <code class="docutils literal"><span class="pre">.css</span></code> 和 <code class="docutils literal"><span class="pre">.js</span></code> 文件的列表。右侧部分包含带有高亮语法的当前选定的项目文件 （默认无选中的文件） 的内容。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">这个界面可以仅用于编辑项目的开发版文件，但不能编辑建建好的版本。</p>
</div>
<p>新的 <code class="docutils literal"><span class="pre">.html</span></code>, <code class="docutils literal"><span class="pre">.js</span></code> 和 <code class="docutils literal"><span class="pre">.css</span></code> 文件可以通过单击 <code class="docutils literal"><span class="pre">[New</span> <span class="pre">File]</span></code> 按钮添加到项目目录。</p>
<p>可在页面底部找到了 <code class="docutils literal"><span class="pre">[Save]</span></code> 和  <code class="docutils literal"><span class="pre">[Save</span> <span class="pre">As...]</span></code>  按钮用来保存当前选定的项目文件。</p>
</div>
<div class="section" id="project-config">
<span id="id3"></span><h3><a class="toc-backref" href="#id15">项目配置</a><a class="headerlink" href="#project-config" title="永久链接至标题">¶</a></h3>
<p>这是一个 web 界面，允许开发人员在创建项目后查看和更改项目设置。</p>
<a class="reference internal image-reference" href="_images/project_manager_config.png"><img alt="_images/project_manager_config.png" class="align-center" src="_images/project_manager_config.png" style="width: 100%;" /></a>
<p>此页面包括项目创建过程中的所有设置以及一些额外的参数。一些参数是只读 （因此创建项目后不能更改）。</p>
<div class="section" id="info-settings-group">
<h4><code class="docutils literal"><span class="pre">Info</span></code> 设置组<a class="headerlink" href="#info-settings-group" title="永久链接至标题">¶</a></h4>
<dl class="docutils">
<dt><em>名字</em></dt>
<dd><p class="first">项目名称</p>
<p class="last">这是一个只读的参数。</p>
</dd>
<dt><em>名称</em></dt>
<dd><p class="first last">在浏览器中所示的项目标题。</p>
</dd>
<dt><em>作者</em></dt>
<dd><p class="first last">该项目的作者或开发商公司的名称。</p>
</dd>
<dt><em>图标</em></dt>
<dd><p class="first">该项目在项目管理器中的图标。</p>
<p class="last">其图标可以替换的选择文件按钮。如果图标不指定 （因为它是默认情况），则使用 Blend4Web 标志。</p>
</dd>
</dl>
</div>
<div class="section" id="build-setting-group">
<h4><code class="docutils literal"><span class="pre">Build</span></code> 设置组<a class="headerlink" href="#build-setting-group" title="永久链接至标题">¶</a></h4>
<dl class="docutils">
<dt><em>Apps</em></dt>
<dd><p class="first last">项目中用于编译应用程序的 <code class="docutils literal"><span class="pre">.HTML</span></code> 文件。每个  <code class="docutils literal"><span class="pre">.HTML</span></code> 文件被认为是一个单独的应用程序。</p>
</dd>
<dt><em>使用物理</em></dt>
<dd><p class="first">启用和禁用添加物理引擎文件到该项目。如果该项目不使用物理可以关闭。</p>
<p class="last">此参数在 WebPlayer HTML 类型项目中总是禁用但 WebPlayer JSON 类型中总是启用。对于其他类型的项目，它可以手动设置。</p>
</dd>
<dt><em>应用程序类型</em></dt>
<dd><p class="first">设置项目类型</p>
<p class="last">这是一个只读的参数，因为不同类型的项目有不同的内部结构。</p>
</dd>
<dt><em>JavaScript 混淆级别</em></dt>
<dd><p class="first">编译应用程序时 Javascript 优化级别。</p>
<p class="last">此参数为 None，WebPlayer HTML 和 WebPlayer JSON 类型项目设置为只读模式。</p>
</dd>
<dt><em>JS编译通过列表</em></dt>
<dd><p class="first last">该项目的JavaScript文件汇编直通例外列表。</p>
</dd>
<dt><em>CSS编译通过列表</em></dt>
<dd><p class="first last">项目的 CSS 文件直通例外列表。</p>
</dd>
<dt><em>构建忽略列表</em></dt>
<dd><p class="first last">项目编译中的例外列表。</p>
</dd>
</dl>
</div>
<div class="section" id="paths-setting-group">
<h4><code class="docutils literal"><span class="pre">Paths</span></code> 设置组<a class="headerlink" href="#paths-setting-group" title="永久链接至标题">¶</a></h4>
<dl class="docutils">
<dt><em>Developer Project Path</em></dt>
<dd><p class="first">开发的应用程序的路径。</p>
<p class="last">这是一个只读的参数。</p>
</dd>
<dt><em>Build Project Path</em></dt>
<dd><p class="first last">编译应用程序的路径。</p>
</dd>
<dt><em>Blend 目录</em></dt>
<dd><p class="first last">blend 文件夹的路径</p>
</dd>
<dt><em>资产目录</em></dt>
<dd><p class="first last">资产文件夹的路径。</p>
</dd>
<dt><em>Blender Exec</em></dt>
<dd><p class="first last">Blender的可执行文件路径。</p>
</dd>
<dt><em>Deployment Path</em></dt>
<dd><p class="first last">为项目最终部署文件夹的路径。</p>
</dd>
</dl>
</div>
<div class="section" id="deploy-setting-group">
<h4><code class="docutils literal"><span class="pre">Deploy</span></code> 设置组<a class="headerlink" href="#deploy-setting-group" title="永久链接至标题">¶</a></h4>
<dl class="docutils">
<dt><em>部署资产目录</em></dt>
<dd><p class="first last">资产将被放置部署项目的目录。</p>
</dd>
<dt><em>部署资产URL前缀</em></dt>
<dd><p class="first last"><a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html#.get_assets_path">get_assets_path()</a> 所报告的资产目录部署项目中URL路径前缀。</p>
</dd>
<dt><em>部署忽略列表</em></dt>
<dd><p class="first last">项目的部署例外列表。</p>
</dd>
<dt><em>Override Deployment Path</em></dt>
<dd><p class="first last">删除部署目录，如果它已经存在。</p>
</dd>
</dl>
</div>
<div class="section" id="url-get-params">
<h4>URL GET 参数<a class="headerlink" href="#url-get-params" title="永久链接至标题">¶</a></h4>
<p>在项目管理器界面中，此字段中为 URL 链接指定额外的 GET 参数。</p>
<p>项目设置可以按屏幕底部的 <code class="docutils literal"><span class="pre">[Save</span> <span class="pre">Config]</span></code> 按钮保存。</p>
</div>
</div>
<div class="section" id="project-import">
<span id="import-projects"></span><h3><a class="toc-backref" href="#id16">项目导入</a><a class="headerlink" href="#project-import" title="永久链接至标题">¶</a></h3>
<p>导入项目工具是在 <code class="docutils literal"><span class="pre">[Import</span> <span class="pre">Project(s)]</span></code> 链接</p>
<p>点击该链接会打开标准的文件开启对话框，你可以选择需要导入的项目。</p>
</div>
<div class="section" id="project-export">
<span id="export-projects"></span><h3><a class="toc-backref" href="#id17">项目导出</a><a class="headerlink" href="#project-export" title="永久链接至标题">¶</a></h3>
<p>项目输出窗口可以通过 <code class="docutils literal"><span class="pre">[Export</span> <span class="pre">Project(s)]</span></code> 链接访问。</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/project_manager_export.png"><img alt="_images/project_manager_export.png" class="align-center" src="_images/project_manager_export.png" style="width: 100%;" /></a>
</div></blockquote>
<div class="section" id="id4">
<h4>命令<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h4>
<dl class="docutils">
<dt><em>回到项目</em></dt>
<dd><p class="first last">返回到项目管理的主页面。</p>
</dd>
<dt><em>隐藏项目</em></dt>
<dd><p class="first last">隐藏项目。如果已经隐藏了此类项目，则此命令替换为   <code class="docutils literal"><span class="pre">[显示项目]</span></code> 命令。</p>
</dd>
<dt><em>帮助</em></dt>
<dd><p class="first last">显示帮助页。</p>
</dd>
<dt><em>导出项目</em></dt>
<dd><p class="first last">可以用来导出所选的项目。</p>
</dd>
</dl>
</div>
<div class="section" id="id5">
<h4>项目参数<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h4>
<dl class="docutils">
<dt><em>选择</em></dt>
<dd><p class="first last">显示项目是不是选择了要导出。</p>
</dd>
<dt><em>名字</em></dt>
<dd><p class="first last">该项目的目录的名称。</p>
</dd>
<dt><em>名称</em></dt>
<dd><p class="first last">项目的标题。</p>
</dd>
<dt><em>作者</em></dt>
<dd><p class="first last">项目作者的名字。</p>
</dd>
<dt><em>档案名称</em></dt>
<dd><p class="first last">导出的项目打包的档案名称。</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="deploying-the-project">
<span id="project-deploy"></span><h3><a class="toc-backref" href="#id18">部署项目</a><a class="headerlink" href="#deploying-the-project" title="永久链接至标题">¶</a></h3>
<p>您完成您的项目后，在项目管理器的主页面从 <code class="docutils literal"><span class="pre">Operations</span></code> 面板选择 <code class="docutils literal"><span class="pre">deploy</span> <span class="pre">project</span></code> 选项。该项目将被导出，打包成一个单一的存档，并下载到您的网页浏览器存储所有下载文件的文件夹。</p>
<a class="reference internal image-reference" href="_images/project_manager_deploying.png"><img alt="_images/project_manager_deploying.png" class="align-center" src="_images/project_manager_deploying.png" style="width: 100%;" /></a>
<p>在那之后，该存档文件然后可以下载的到您的 web 浏览器存储下载的所有文件按下载按钮的位置的文件夹。应该指出的是，下载的过程可以产生大量的时间取决于归档文件的大小。</p>
<p>若要将项目放在网页上，你必须提取此文档，并用FTP，SSH或由支持的任何其他协议服务上传文件（<code class="docutils literal"><span class="pre">html</span></code> 文件和 <code class="docutils literal"><span class="pre">assets</span></code> 目录）发送到Web服务器。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">将项目文件上传到Web服务器上，应保留对其文件的归档和相关路径的内部结构。</p>
</div>
<p>一个Web播放器的HTML应用程序然后可以使用一个 <code class="docutils literal"><span class="pre">iframe</span></code> 容器放置在任何网页。下面是可以用于此的HTML代码的示例：</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>An Example Application<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;800&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;500&quot;</span> <span class="na">allowfullscreen</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/projects/myproject/myproject.html&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>部署JSON项目也是同样地进行，但不是一个HTML文件，它是使用的Web应用程序播放器，并包含实际场景中的JSON文件的组合。</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Another Example Application<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;800&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;500&quot;</span> <span class="na">allowfullscreen</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/myproject/webplayer.html?load=/projects/myproject/myproject.json&amp;show_fps&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="advanced-project-management">
<span id="id6"></span><h2><a class="toc-backref" href="#id19">高级项目管理</a><a class="headerlink" href="#advanced-project-management" title="永久链接至标题">¶</a></h2>
<p>高级项目管理器由经验丰富的开发人员使用，在需要更多的灵活性和需要自动化项目开发过程中使用。</p>
<p>高级项目管理器使用 <em>project.py</em> 脚本并手动编辑  <em>.b4w_project</em>  配置文件。</p>
<p><em>Project.py</em> 脚本可以在 Blend4Web SDK 目录的 <code class="docutils literal"><span class="pre">./apps_dev/</span></code> 文件夹中找到。如果在创建项目时，设置了 <code class="docutils literal"><span class="pre">Copy</span> <span class="pre">Project</span> <span class="pre">Management</span> <span class="pre">Script</span></code> 选项，也可以在项目的根文件夹中找到该脚本。</p>
<div class="section" id="dependencies">
<span id="project-deps"></span><h3><a class="toc-backref" href="#id20">依赖</a><a class="headerlink" href="#dependencies" title="永久链接至标题">¶</a></h3>
<p>项目管理系统在所有操作系统都可用。但是，某些操作可能需要安装附加依赖项。为了检查是否满足所有依赖项，请使用以下命令 ︰</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>./project.py check_deps
</pre></div>
</div>
<p>对于MS Windows用户：</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">python project.py check_deps</span>
</pre></div>
</div>
<p>对于脚本运行它需要安装Java和  <a class="reference external" href="https://www.java.com/en/download/help/path.xml">设置PATH系统变量</a>.</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">Java 是默认包含在 Windows 版本的 SDK。在 Linux 和 macOS  它应该手动安装。</p>
</div>
<p><a class="reference internal" href="developers.html#converter"><span>Resource Converter</span></a>  也使用其自己的描述的外部工具集，在 <a class="reference internal" href="developers.html#converter-deps"><span>另外章节</span></a> 描述.</p>
</div>
<div class="section" id="projects-list">
<span id="project-list"></span><h3><a class="toc-backref" href="#id21">项目清单</a><a class="headerlink" href="#projects-list" title="永久链接至标题">¶</a></h3>
<p>可以用下面的命令查看的 SDK 中的所有项目列表︰</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python3 project.py -p myproject list
</pre></div>
</div>
</div>
<div class="section" id="project-structure">
<span id="id7"></span><h3><a class="toc-backref" href="#id22">项目结构</a><a class="headerlink" href="#project-structure" title="永久链接至标题">¶</a></h3>
<p>这是放置在 <code class="docutils literal"><span class="pre">/</span> <span class="pre">projects</span></code> 目录中的SDK文件夹的根目录下的一个项目名为MY_PROJECT结构以及，看上去的样子：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>blend4web/
    projects/
        my_project/
            assets/
                my_project.json
                my_project.bin
            blender/
                my_project.blend
            build/
                my_project.html
                my_project.min.css
                my_project.min.js
            .b4w_project
            my_project.js
            my_project.css
            my_project.html
</pre></div>
</div>
<p>这个应用程序包括3个不同的目录。</p>
<ol class="arabic simple">
<li><p class="first">my_project/assets。 包含媒体文件（纹理和声音，还有 <code class="docutils literal"><span class="pre">.bin</span></code> 和 <code class="docutils literal"><span class="pre">.json</span></code> 文件）项目的场景。</p>
</li>
<li><p class="first">my_project/blender. 包含项目的场景的  <code class="docutils literal"><span class="pre">.blend</span></code> 文件。</p>
</li>
<li><p class="first">my_project/build. 包含构建应用程序的文件。</p>
</li>
</ol>
<p>项目的主文件 <code class="docutils literal"><span class="pre">.b4w_project</span></code>，还有 <code class="docutils literal"><span class="pre">.js</span></code>，<code class="docutils literal"><span class="pre">.html</span></code> 和 <code class="docutils literal"><span class="pre">.css</span></code> 文件，放置在  <code class="docutils literal"><span class="pre">my_project/</span></code> 文件夹的根下。</p>
<p>此外，部署命令可以创建另一个目录中，但它通常放置在 SDK 之外，其名称和路径取决于目标服务器上的目录结构。</p>
<div class="admonition note" id="updating-project-structure">
<p class="first admonition-title">注解</p>
<p>从版本16.12开始，项目结构已经改变。仍然使用旧的结构的项目还可以工作，而应该被视为过时。我们建议使用 <code class="docutils literal"><span class="pre">update</span> <span class="pre">file</span> <span class="pre">structure</span></code> 按钮，这些项目的结构升级到一个新的文档结构。</p>
<p class="last">这个按钮可以在 <code class="docutils literal"><span class="pre">Operations</span></code> 面板在项目管理器列表中的项目条目的右侧找到。它仅适用于使用淘汰的项目结构用户项目（不是stock类型）。</p>
</div>
</div>
<div class="section" id="project-configuration-file-b4w-project">
<span id="b4w-config"></span><h3><a class="toc-backref" href="#id23">项目配置文件（.b4w_project）</a><a class="headerlink" href="#project-configuration-file-b4w-project" title="永久链接至标题">¶</a></h3>
<p>项目配置文件包含项目的所有必要的信息，包括姓名，元数据，目录，应用程序创建和部署信息。</p>
<p>项目配置文件可以手动编辑，但一个更方便的方法是使用 <a class="reference internal" href="#project-edit"><span>项目编辑</span></a> 界面。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>[info]
author = Blend4Web
name = my_project
title = MyProject
icon =

[paths]
assets_dirs = projects/my_project/assets;
blend_dirs = projects/my_project/blender;
blender_exec = blender
build_dir = projects/my_project/build
deploy_dir =

[compile]
apps =
css_ignore =
engine_type = external
ignore =
js_ignore =
optimization = simple
use_physics =

[deploy]
assets_path_dest = assets
assets_path_prefix = assets
ignore =
override =
</pre></div>
</div>
<p>这是一个标准的INI配置文件，其中包含的部分，属性和值。</p>
<div class="section" id="section-info">
<h4>模块 <code class="docutils literal"><span class="pre">[info]</span></code><a class="headerlink" href="#section-info" title="永久链接至标题">¶</a></h4>
<p>包含项目的元数据：</p>
<dl class="docutils">
<dt><em>作者</em></dt>
<dd><p class="first last">该项目的作者或开发商公司的名称。</p>
</dd>
<dt><em>名字</em></dt>
<dd><p class="first last">项目名称</p>
</dd>
<dt><em>名称</em></dt>
<dd><p class="first last">在浏览器中所示的项目标题。</p>
</dd>
<dt><em>图标</em></dt>
<dd><p class="first last">该项目的图标。</p>
</dd>
</dl>
</div>
<div class="section" id="section-paths">
<h4>模块 <code class="docutils literal"><span class="pre">[paths]</span></code><a class="headerlink" href="#section-paths" title="永久链接至标题">¶</a></h4>
<p>包含项目路径：</p>
<dl class="docutils">
<dt><strong>资源目录</strong></dt>
<dd><p class="first last">项目的媒体资产所在的位置目录。</p>
</dd>
<dt><em>blend_dirs</em></dt>
<dd><p class="first last">项目的blend文件目录的位置。</p>
</dd>
<dt><em>blender_exec</em></dt>
<dd><p class="first last">Blender的可执行文件路径。</p>
</dd>
<dt><em>build_dir</em></dt>
<dd><p class="first last">项目构建目录。</p>
</dd>
<dt><em>deploy_dir</em></dt>
<dd><p class="first last">项目部署的目录。</p>
</dd>
</dl>
</div>
<div class="section" id="section-compile">
<h4>模块 <code class="docutils literal"><span class="pre">[compile]</span></code><a class="headerlink" href="#section-compile" title="永久链接至标题">¶</a></h4>
<dl class="docutils">
<dt><em>apps</em></dt>
<dd><p class="first last">项目应用程序。</p>
</dd>
<dt><em>css_ignore</em></dt>
<dd><p class="first last">该项目的样式表编译直通例外列表。</p>
</dd>
<dt><em>engine_type</em></dt>
<dd><p class="first last">设置项目类型</p>
</dd>
<dt><em>ignore</em></dt>
<dd><p class="first last">项目编译中的例外列表。</p>
</dd>
<dt><em>js_ignore</em></dt>
<dd><p class="first last">该项目的JavaScript文件汇编直通例外列表。</p>
</dd>
<dt><em>优化</em></dt>
<dd><p class="first last">Javascript 优化级别。</p>
</dd>
<dt><em>use_physics</em></dt>
<dd><p class="first last">指示您的项目是否使用物理或没有。默认 - 使用物理。</p>
</dd>
<dt><em>use_smaa_textures</em></dt>
<dd><p class="first last">指示您的项目是否使用SMAA纹理与否。当前未使用。</p>
</dd>
<dt><em>version</em></dt>
<dd><p class="first last">项目版本。</p>
</dd>
</dl>
</div>
<div class="section" id="section-deploy">
<h4>模块 <code class="docutils literal"><span class="pre">[deploy]</span></code><a class="headerlink" href="#section-deploy" title="永久链接至标题">¶</a></h4>
<dl class="docutils">
<dt><em>assets_path_dest</em></dt>
<dd><p class="first last">资产将被放置部署项目的目录。</p>
</dd>
<dt><em>assets_path_prefix</em></dt>
<dd><p class="first last"><a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html#.get_assets_path">get_assets_path()</a> 所报告的资产目录部署项目中URL路径前缀。</p>
</dd>
<dt><em>ignore</em></dt>
<dd><p class="first last">项目的部署例外列表。</p>
</dd>
<dt><em>override</em></dt>
<dd><p class="first last">在部署阶段替换现有的输出目录。请谨慎使用。</p>
</dd>
</dl>
</div>
<div class="section" id="section-url-params">
<h4>模块 <code class="docutils literal"><span class="pre">[url_params]</span></code><a class="headerlink" href="#section-url-params" title="永久链接至标题">¶</a></h4>
<p>网络播放器项目的可选部分。 包含 <a class="reference internal" href="web_player.html#webplayer-attributes"><span>URL 参数</span></a> 来启动项目应用.</p>
</div>
</div>
<div class="section" id="creating-a-project">
<span id="id8"></span><h3><a class="toc-backref" href="#id24">创建项目</a><a class="headerlink" href="#creating-a-project" title="永久链接至标题">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span></span>./project.py init my_project
</pre></div>
</div>
<p>此命令将创建在当前目录指定名称的项目。默认情况下，项目目录只包括一个配置文件。</p>
<p>可用参数：</p>
<ul class="simple">
<li><p class="first"><code class="docutils literal"><span class="pre">-A</span> <span class="pre">|</span> <span class="pre">--copy-APP-templates</span></code> （可选）创建项目目录的标准应用模板 (<em>my_project_dev.html</em>, <em>my_project.js</em>, <em>my_project.css</em>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">-C</span> <span class="pre">|</span> <span class="pre">--author</span></code> （可选）写作者的还是公司的配置文件名。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">-o</span> <span class="pre">|</span> <span class="pre">--optimization</span></code> （可选）写在配置文件中的脚本优化级别。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">-P</span> <span class="pre">|</span> <span class="pre">--copy项目-script</span></code> （可选）在项目目录中创建 <em>project.py</em> 脚本的副本。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">-S</span> <span class="pre">|</span> <span class="pre">--copy-场景templates</span></code> （可选）创建目录 <code class="docutils literal"><span class="pre">deploy/assets/&lt;my_project_name&gt;</span></code> 和 <code class="docutils literal"><span class="pre">blender/&lt;my_project_name&gt;</span></code> (<em>my_project.json/.bin</em> 和 <em>my_project.blend</em> 相应的).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">-T</span> <span class="pre">|</span> <span class="pre">--title``（可选）在配置文件写入标题。编译时，会将写入进HTML元素</span>&nbsp; <span class="pre">``&lt;title&gt;</span></code> 。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">-t</span> <span class="pre">|</span> <span class="pre">--engine-type</span></code> （可选）在配置文件中写入引擎类型。</p>
</li>
</ul>
<p>示例：</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>./project.py init -AS -C Blend4Web -o simple -T MyProject -t external my_project
</pre></div>
</div>
<p>这个命令将创建一个名为 <em>my_project</em> 目录，这里面以下文件将被放置：<em>my_project.js</em>, <em>my_project.css</em>, <em>my_project_dev.html</em> 和 <em>.b4w_project</em>.</p>
<p>该 .b4w_project 文件看起来像:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>[info]
author = Blend4Web
name = my_project
title = MyProject
icon =

[paths]
assets_dirs = projects/my_project/assets;
blend_dirs = projects/my_project/blender;
blender_exec = blender
build_dir = projects/my_project/build
deploy_dir =

[compile]
apps =
css_ignore =
engine_type = external
ignore =
js_ignore =
optimization = simple
use_physics =
use_smaa_textures =
version =

[deploy]
assets_path_dest = assets
assets_path_prefix = assets
ignore =
override =
</pre></div>
</div>
</div>
<div class="section" id="developing-multiple-apps-inside-a-project">
<h3><a class="toc-backref" href="#id25">开发一个项目中的多个应用程序</a><a class="headerlink" href="#developing-multiple-apps-inside-a-project" title="永久链接至标题">¶</a></h3>
<p>一个项目可以包含多个应用程序。这可以通过用分号分隔的配置文件列表对应的HTML文件的形式提供:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="p">[</span><span class="nb">compile</span><span class="p">]</span>
<span class="n">apps</span> <span class="o">=</span> <span class="n">myapp1</span><span class="p">;</span><span class="n">myapp2</span><span class="p">;</span>
<span class="o">...</span>
</pre></div>
</div>
<p>如果 <code class="docutils literal"><span class="pre">apps</span></code> 字段为空，项目目录中的每个  <code class="docutils literal"><span class="pre">html</span></code> 文件将被视为一个应用程序。</p>
</div>
<div class="section" id="building-projects">
<span id="project-build"></span><h3><a class="toc-backref" href="#id26">构建项目</a><a class="headerlink" href="#building-projects" title="永久链接至标题">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python3 project.py -p my_project compile
</pre></div>
</div>
<p>构建在 <code class="docutils literal"><span class="pre">projects/my_project/build</span></code> 目录中的项目。</p>
<p>可用参数：</p>
<ul class="simple">
<li><p class="first"><code class="docutils literal"><span class="pre">“-a</span> <span class="pre">|</span> <span class="pre">--app”</span></code> （可选）指定一个HTML文件，相对于该项目的应用程序将建成。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">&quot;-c</span> <span class="pre">|</span> <span class="pre">--css-ignore&quot;</span></code> （可选）添加CSS样式异常为了不编译它们。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">&quot;-j</span> <span class="pre">|</span> <span class="pre">--js-ignore&quot;</span></code> （可选）添加脚本例外为了不编译它们。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">“-o</span> <span class="pre">|</span> <span class="pre">--optimization”</span></code> （可选）指定JavaScript文件的优化级别： <code class="docutils literal"><span class="pre">whitespace</span></code>，<code class="docutils literal"><span class="pre">simple</span></code> （默认）或 <code class="docutils literal"><span class="pre">advanced</span></code>。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">“-v</span> <span class="pre">|</span> <span class="pre">--version”</span></code> 加版本和脚本和样式的路径。</p>
</li>
</ul>
<p>编译器要求</p>
<ul class="simple">
<li><p class="first">一个HTML文件必须存放在目录的根目录，如果  <code class="docutils literal"><span class="pre">-a</span></code> 选项被禁用</p>
</li>
<li><p class="first">脚本和样式可以存储在应用程序的根目录和子文件夹中</p>
</li>
</ul>
</div>
<div class="section" id="automatic-blend-file-export">
<h3><a class="toc-backref" href="#id27">自动 Blend 文件导出</a><a class="headerlink" href="#automatic-blend-file-export" title="永久链接至标题">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python3 project.py -p my_project reexport
</pre></div>
</div>
<p>此命令将重新导出混合在 JSON 和 HTML 格式的文件。</p>
<p>可用参数：</p>
<ul class="simple">
<li><p class="first"><code class="docutils literal"><span class="pre">“-b</span> <span class="pre">|</span> <span class="pre">--blender_exec”</span></code> Blender可执行文件的路径。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">&quot;-s</span> <span class="pre">|</span> <span class="pre">--assets&quot;</span></code> 用场景资源指定目录。</p>
</li>
</ul>
</div>
<div class="section" id="resource-conversion">
<span id="project-resource-conv"></span><h3><a class="toc-backref" href="#id28">资源转换</a><a class="headerlink" href="#resource-conversion" title="永久链接至标题">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python3 project.py -p my_project convert_resources
</pre></div>
</div>
<p>外部资源（纹理，音频和视频文件）转换为另一种格式，以确保跨浏览器和跨平台性能。</p>
<p>可用参数：</p>
<ul class="simple">
<li><p class="first"><code class="docutils literal"><span class="pre">&quot;-s</span> <span class="pre">|</span> <span class="pre">--assets&quot;</span></code> 用场景资源指定目录。</p>
</li>
</ul>
<p>资源的转换中详细描述在 <a class="reference internal" href="developers.html#converter"><span>对应部分</span></a>.</p>
</div>
<div class="section" id="deploying-projects">
<span id="project-deploy-cli"></span><h3><a class="toc-backref" href="#id29">部署项目</a><a class="headerlink" href="#deploying-projects" title="永久链接至标题">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python3 project.py -p my_project deploy DIRECTORY
</pre></div>
</div>
<p>与所有依赖一起保存了一个项目在外部目录。</p>
<p>可用参数：</p>
<ul class="simple">
<li><p class="first"><code class="docutils literal"><span class="pre">&quot;-e</span> <span class="pre">|</span> <span class="pre">--assets-dest&quot;</span></code> 资产目的地目录（“资产” 默认情况下）。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">&quot;-E</span> <span class="pre">|</span> <span class="pre">--assets-prefix&quot;</span></code> 资产网址前缀（默认情况下“资产”）。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">&quot;-o</span> <span class="pre">|</span> <span class="pre">--override&quot;</span></code> 如果它存在删除目录。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">&quot;-s</span> <span class="pre">|</span> <span class="pre">--assets&quot;</span></code> 用场景资源指定目录。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">&quot;-t</span> <span class="pre">|</span> <span class="pre">--engine-type&quot;</span></code> （可选）写在配置文件中的引擎类型。</p>
</li>
</ul>
</div>
<div class="section" id="remove-project">
<span id="project-remove"></span><h3><a class="toc-backref" href="#id30">移除项目</a><a class="headerlink" href="#remove-project" title="永久链接至标题">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python3 project.py -p my_project remove
</pre></div>
</div>
<p>删除的项目。被删除的目录是从项目配置文件检索。</p>
</div>
<div class="section" id="upgrading-apps-for-new-sdk-versions">
<span id="project-sdk-update"></span><h3><a class="toc-backref" href="#id31">应用程序升级新版本的SDK</a><a class="headerlink" href="#upgrading-apps-for-new-sdk-versions" title="永久链接至标题">¶</a></h3>
<p>当升级新的SDK版本往往两个问题就出来了：</p>
<ol class="arabic simple">
<li><p class="first">引擎的新和旧版本的模块不匹配。</p>
</li>
<li><p class="first">旧的和新的引擎API不匹配。</p>
</li>
</ol>
<p>为了更新应用程序的开发者版本导入模块列表转到项目源代码目录 <code class="docutils literal"><span class="pre">apps_dev/my_project</span></code> 和执行模块列表生成脚本：</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python3 ../../scripts/mod_list.py
</pre></div>
</div>
<p>对于MS Windows用户：</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">python ..\..\scripts\mod_list.py</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">要运行的Python 3.x的需要安装在你的系统中的脚本。</p>
</div>
<p>控制台将打印模块列表 - 将它们复制并粘贴到主HTML文件：</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1, maximum-scale=1&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../../src/b4w.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../../src/anchors.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../../src/animation.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../../src/assets.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../../src/batch.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../../src/boundings.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../../src/camera.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    . . .
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>为了消除 API 不兼容性可能需要重构您的应用程序。所有的改变放在了  <a class="reference internal" href="release_notes.html#release-notes"><span>发行说明</span></a>.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="viewer.html" class="btn btn-neutral float-right" title="场景预览器" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="workflow.html" class="btn btn-neutral" title="工作流程" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; 版权所有 2014-2017, Triumph.
      最后更新于 2017-06-30.

    </p>
  </div>

  <a href="https://www.blend4web.com">www.blend4web.com</a>

  <!-- Yandex.Metrika counter -->
  <script type="text/javascript">
  (function() {
    if (window.document.domain != "www.blend4web.com")
      return;

    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter24512171 = new Ya.Metrika({
                    id:24512171,
                    clickmap:false,
                    trackLinks:true,
                    accurateTrackBounce:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
  })();
  </script>
  <noscript><div><img src="https://mc.yandex.ru/watch/24512171" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
  <!-- /Yandex.Metrika counter -->

</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'v17.06',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();

          var lang_cont = $("#lang_cont");
          var links = lang_cont.children();

          var link_ru = links[0];
          var link_en = links[1];
          var link_zh = links[2];

          var loc = document.location.href;

          var href_ru = loc;
          var href_en = loc;
          var href_zh = loc; 

          if (loc.search("/ru/") != -1) {
              href_en = loc.replace("/ru/", "/en/");
              href_zh = loc.replace("/ru/", "/zh/");
          } else if (loc.search("/en/") != -1) {
              href_ru = loc.replace("/en/", "/ru/");
              href_zh = loc.replace("/en/", "/zh/");
          } else {
              href_ru = loc.replace("/zh/", "/ru/");
              href_en = loc.replace("/zh/", "/en/");
          }

          link_ru.href = href_ru;
          link_en.href = href_en;
          link_zh.href = href_zh;

          lang_cont.css("display", "inline-block")
      });
  </script>
   

</body>
</html>