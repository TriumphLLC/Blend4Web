.. _about:

**************
Общие сведения
**************

.. index:: Blend4Web

.. _about_product:

Что такое Blend4Web
===================

Blend4Web - это программная среда для подготовки и интерактивного отображения трехмерного аудиовизуального контента в браузерах, т.е. трехмерный «движок» (жаргонизм от англ. «engine»). 

Платформа предназначена для создания визуализаций, презентаций, интернет-магазинов, игр и других "насыщенных" web-приложений.

Фреймворк Blend4Web имеет тесную интеграцию с пакетом 3D моделирования и анимации Blender (отсюда название). Отображение контента осуществляется средствами WebGL и других браузерных технологий, без использования плагинов.

Технически Blend4Web представляет собой программную библиотеку, подключаемую в web-странице, аддон (дополнение) к программе Blender, а также инструменты для отладки и оптимизации.

3D движок Blend4Web разрабатывается сотрудниками ООО «Триумф» с 2010 г. Первый релиз движка состоялся 28 марта 2014 г.


.. index:: движок

.. _about_engine:

"Движок"
========

Движок - это обособленная часть программного кода, используемая внешними приложениями для реализации нужного им функционала. 

Типы движков: сайтовый движок, блоговый движок, движок интернет-магазина, wiki-движок, поисковый движок, игровой движок и т.д. Экономический смысл существования программных движков заключается в многократном использовании одного и того же функционала. Например, используя тот или иной движок, разработчики могут относительно дешево создавать интернет-магазины или игры.


.. index:: графический движок, трехмерный движок

.. _about_graphics_engine:

Графический движок, трехмерный движок
=====================================

Графический движок выполняет специализированные функции по отображению графики. Он является промежуточным звеном между:

    - высокоуровневой прикладной частью (игровой логикой, бизнес-логикой) и 
    - низкоуровневой системной частью (например, графической библиотекой :ref:`WebGL <about_webgl>` и нижлежащими :ref:`драйверами <about_drivers_video_cards>`).

Графический движок может объединяться со звуковой системой, физическим движком, системой, реализующей искусственный интеллект, сетевой системой, а также редактором сцен и логики, образуя интегрированный инструментарий для создания 3D приложений - **трехмерный движок**.


.. index:: WebGL

.. _about_webgl:

Что такое WebGL
===============

WebGL (Web Graphics Library, т.е. графическая библиотека для использования в веб-приложениях) - одна из современных браузерных технологий, позволяющая создавать трехмерные графические веб-приложения. Другими словами WebGL - это "3D в браузере".


.. index:: WebGL; поддержка в браузерах

.. _browser_webgl_support:

Поддержка WebGL в браузерах
===========================

В настоящий момент технология WebGL в той или иной степени поддерживается во всех браузерах.


Полная поддержка
----------------

* `Chrome <http://www.google.com/chrome>`_
* `Yandex Browser <http://browser.yandex.ru/>`_ 
* `Firefox <http://www.mozilla.org/firefox>`_
* `Opera <http://www.opera.com/browser>`_
* `Safari <http://www.apple.com/safari/>`_ 8+

Экспериментальная поддержка
---------------------------

* `Internet Explorer <http://windows.microsoft.com/en-us/internet-explorer/download-ie>`_ 11


Мобильные платформы
-------------------

* Android (на современных устройствах)
* BlackBerry
* Firefox OS
* iOS 8
* Tizen
* Ubuntu Touch
* WebOS

.. index:: WebGL; преимущества

.. _about_webgl_benefits:

Преимущества WebGL
==================

* работает в браузерах без установки дополнительных программ (плагинов)
* кроссплатформенный, предназначен для работы во всех стационарных и мобильных системах
* является `открытым стандартом <http://ru.wikipedia.org/wiki/%D0%9E%D1%82%D0%BA%D1%80%D1%8B%D1%82%D1%8B%D0%B9_%D1%81%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82>`_, не требует лицензионных отчислений
* поддерживается ведущими участниками рынка IT (Google, Apple, Microsoft, Nvidia, Samsung, Adobe и др.)
* основан на знакомой разработчикам технологии OpenGL
* интегрируется с другими :ref:`браузерными технологиями <about_browser_tech>`


.. index:: Blender

.. _about_blender:

Что такое Blender
=================

Blender - это популярная программа для создания 3D-моделей и анимации, бесплатная и с открытым кодом. Подготовленные в программе модели и сцены могут быть отображены, например, с помощью :ref:`трехмерного движка <about_graphics_engine>` на странице веб-сайта. 


.. index:: 3D моделирование

.. _about_modelling:

3D моделирование
================

Создание графических ресурсов требует наличия подготовленных специалистов - 3D-художников. 

Типичный рабочий процесс может состоять из следующих этапов:

* подбор фотографий и/или создание концепта и скетчей ("спереди"-"сбоку"-"сверху") будущей модели или сцены 
* моделирование - создается трехмерная модель, состоящая из многоугольников (полигонов)
* текстурная развертка - на модели создается разметка для последующего наложения текстур (плоских изображений)
* текстурирование - на 3D-модель накладываются текстуры
* подбор материалов - назначение различным частям модели материалов и их настройка (например, деревянная дверь с металлической ручкой)
* риггинг (от англ. rigging, т.е. "оснастка") - к модели прикрепляются управляющие элементы ("кости" "скелета") с целью дальнейшей анимации
* анимация - модель приводится в движение с целью визуализации действий (например, персонажей)
* экспорт - выполняется на любом этапе с целью отображения 3D-модели в ее конечном виде, например, на веб-странице

Кроме того, в процессе создания 3D-моделей часто используются техники повышения реализма, требующие отдельных этапов:

* создание высокополигональной модели - создается детализированная версия модели
* "запекание" карты нормалей - детали из высокополигональной модели переносятся на основную модель в виде специальной текстуры (карты нормалей)
* создание карты отражения - различным частям модели назначается различный цвет и степень отражения света
* запекание карт окружения - производится с целью реализации эффекта отражения окружающей среды на поверхности модели
* настройка камеры и источников света на сцене
* настройка параметров физической симуляции - частицы, ткань

Затраты времени при изготовлении 3D-моделей и анимации зависят от их сложности и требуемого качества, и могут изменяться от 1-2 дней (например, игровой предмет) до 1-2 недель (например, детализованная модель самолета) и даже нескольких месяцев (реалистичные персонажи с наборами одежды, волос, лиц, с анимацией и настройкой пропорций фигуры).


.. index:: браузерные технологии, браузер

.. _about_browser_tech:

Браузерные технологии
=====================

Браузер (от англ. "browser", т.е. "просмотрщик") - программа для воспроизведения содержимого сети Интернет. На заре развития интернет-технологий роль браузера сводилась к просмотру текстовых страниц с включениями статических изображений ("гипер-текст"). Современные браузеры представляют собой полнофункциональные платформы для создания мультимедийных веб-приложений. 

Среди реализованных и перспективных возможностей браузеров, используемых в :ref:`Blend4Web <about_product>`, можно отметить следующие технологии:

* трехмерная графика, `WebGL <https://www.khronos.org/registry/webgl/specs/latest/>`_
* типизированные массивы, `Typed Array <https://www.khronos.org/registry/typedarray/specs/latest/>`_
* временной контроль анимации (requestAnimationFrame), `Timing control for script-based animations <http://www.w3.org/TR/animation-timing/>`_
* двухмерная графика, `HTML Canvas 2D Context <http://www.w3.org/TR/2dcontext/>`_
* обработка звука, `Web Audio API <http://www.w3.org/TR/webaudio/>`_
* загрузка бинарных данных, `XMLHttpRequest Level 2 <http://www.w3.org/TR/XMLHttpRequest/>`_
* полноэкранный режим, `Fullscreen <http://dvcs.w3.org/hg/fullscreen/raw-file/tip/Overview.html>`_
* захват курсора мыши, `Pointer Lock <http://dvcs.w3.org/hg/pointerlock/raw-file/default/index.html>`_
* многопоточные вычисления, `Web Workers <http://www.w3.org/TR/workers/>`_
* ориентация и перемещение мобильных устройств, `Device Orientation <http://www.w3.org/TR/orientation-event/>`_

Другие перспективные технологии:

* векторная графика, `Scalable Vector Graphics (SVG) <http://www.w3.org/TR/SVG/>`_
* безопасный доступ к файлам, `File API <http://www.w3.org/TR/FileAPI/>`_, `File API: Directories and System <http://www.w3.org/TR/file-system-api/>`_
* потоковое соединение между браузерами, `WebRTC <http://dev.w3.org/2011/webrtc/editor/webrtc.html>`_
* постоянное сетевое подключение, `The WebSocket API <http://www.w3.org/TR/websockets/>`_
* игровые пульты, `Gamepad <http://dvcs.w3.org/hg/gamepad/raw-file/default/gamepad.html>`_


.. index:: интерактивная графика

.. _about_interactive_graphics:

Интерактивная графика
=====================

Термин "интерактивный" в приложении к компьютерной графике означает, что пользователь имеет возможность взаимодействовать с постоянно меняющимся изображением. Например, пользователь может изменять направление взгляда в 3D сцене, перемещать объекты, инициировать анимацию и выполнять другие действия, обычно ассоциирующиеся с компьютерными играми. 

Интерактивность графики достигается за счет частой смены изображений, так что действие пользователя (например, движение курсора или нажатие кнопки) в промежутках между кадрами приводит к изменению изображения в следующем кадре. Изображения должны сменять друг друга так часто, чтобы человеческий глаз не был способен распознать их по отдельности (быстрее 30 кадров в секунду). 

Близким по смыслу термином является также "графика реального времени", или "рендеринг реального времени" (от англ. rendering, т.е. "отображение").


.. index:: видео-карта, драйверы

.. _about_drivers_video_cards:

Видео-карты и драйверы
======================

Интерактивная графика реализуется специализированной аппаратной частью современных компьютеров, называемой графическим процессором, который может быть выполнен в виде отдельного устройства (видео-карты) или как часть центрального процессора. 

Основные производители графических процессоров (в скобках указаны их торговые марки), для настольных компьютеров - NVidia (GeForce, Quadro), AMD (Radeon), Intel (HD), для мобильных устройств - ARM (Mali), PowerVR (SGX), Nvidia (Tegra), Qualcomm (Adreno).

Доступ программ к ресурсам графического процессора осуществляется через программу-посредника, называемого драйвером. Важным условием для корректной работы интерактивных графических программ является наличие в системе драйверов последней версии. Драйверы можно установить (или обновить), загрузив их с соответствующих сайтов производителей графических процессоров. Подробнее в разделе :ref:`webgl_not_working`.


