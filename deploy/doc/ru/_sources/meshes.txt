
Меши
****


Содержание
^^^^^^^^^^

* Меши

  * Статические и динамические меши

  * Настройка

    * Override Bounding Volumes

  * Морфинг

Меши (англ. Meshes) — подкласс объектов. Меши отличаются от объектов
других типов тем, что имеют геометрическую структуру, видимую в сцене.
Все видимые пользователю объекты сцены либо представляют собой меши,
либо конвертируются в меши при экспорте (как объекты типов "CURVE",
"TEXT", "METABALL" и "SURFACE").

Адд-он Blend4Web обладает рядом инструментов, которые могут
применяться для редактирования мешей. К таким инструментам, в
частности, относится редактор нормалей.

В этой главе рассмотрены параметры и настройки объектов типа "MESH", а
также функции API для работы с ними.


Статические и динамические меши
===============================

Все объекты типа "MESH" можно разделить на статические и динамические.

**Статические меши** - меши, которые могут быть объединены друг с
другом, если они имеют одинаковый материал.

**Динамические меши** - меши, которые не могут быть скомбинированы
друг с другом.

Объединение статических мешей - т.н. батчинг (batching) -
осуществляется автоматически при загрузке сцены в целях оптимизации
количества вызовов отрисовки. Конвертация происходит, даже если на
сцене присутствует всего один объект. Центр получившегося в результате
конвертации меша находится в начале координат.

Меши, имеющие анимацию, физику или родителя, являющегося динамическим
объектом, рассматриваются как динамические.


Настройка
=========

Меши обладают всеми параметрами объектов, а также некоторыми
дополнительными параметрами.


Override Bounding Volumes
-------------------------

Эта вкладка используется для настройки ограничивающих объёмов. Такие
объёмы используются при определении видимости объекта, для рассчёта
столкновений и физических взаимодействий. Манипулируя ими, можно
добиться различных эффектов.

[рисунок]

Раздел "Override Bounding Volumes" расположен на панели иструментов
"Blend4Web" (рядом с редактором нормалей).

*Show Boundings*

   [рисунок]

   Отобразить ограничивающий объём во вьюпорте Blender.  Работает
   только если активирована опция "Override Mesh Boundings". Объём
   может быть представлен в виде параллелепипеда либо в виде
   комбинации окружностей или эллипсов. Одновременно может работать
   более одного метода визуализации (в том числе все три).

Примечание: Метод визуализации не влияет на форму ограничивающего
  объёма, только на его представление во вьюпорте.



*Override Mesh Boundings*

   [рисунок]

   Эта кнопка включает использование нестандартного ограничивающего
   объёма. Ограничивающий объём имеет форму параллелпипеда, центр
   которого совпадает с точкой привязки объекта.

*MinX и  MaxX*
   Размеры ограничивающего объёма по оси Z. По умолчанию *MinZ* = -1,
   *MaxZ* = 1.

*MinY и  MaxY*
   Размеры ограничивающего объёма по оси Y. По умолчанию *MinY* = -1,
   *MaxY* = 1.

*MinZ и  MaxZ*
   Размеры ограничивающего объёма по оси Z. По умолчанию *MinZ* = -1,
   *MaxZ* = 1.


Морфинг
=======

Для создания ключей деформации (опорных фигур) перейдите во вкладку
"Mesh > Shape keys".

[рисунок]



Движком поддерживаются все опции типа "Relative" для ключей
деформации.

Для изменения значения ключа деформации, существует функция
"apply_shape_key" в модуле "geometry.js".

Примечание: На объекте должно стоять свойство *Export Shape Keys*.

   // ...
   var obj = m_scenes.get_object_by_name("Object");
   m_geometry.apply_shape_key(obj, "Key 1", 0.5);
   // ...
