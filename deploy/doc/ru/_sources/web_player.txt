
Веб-плеер
*********


Содержание
^^^^^^^^^^

* Веб-плеер

  * Использование

  * Навигация

  * Панель управления

  * Атрибуты

  * Название сцены в заголовке

  * Ошибки сцены

Веб-плеер представляет собой специализированное приложение для
отображения моделей и сцен в режиме демонстрации.

Десктопная версия:

[рисунок]



Мобильная версия:

[рисунок]




Использование
=============

Директорию с файлами веб-плеера "deploy/apps/webplayer" можно
скопировать из дистрибутива Blend4Web SDK и разместить на сайте.
Полученные в результате экспорта файлы сцен можно разместить на сайте
и указать путь к ним (абсолютный или относительный) с помощью
параметра веб-плеера "load".

При экспорте в единый HTML файл интерфейс веб-плеера интегрируется
автоматически.


Навигация
=========

Управление камерой (в режимах "Target" и "Eye") осуществляется мышью с
нажатой кнопкой, а также клавишами "W", "A", "S", "D", "R", "F":
вперед, влево, назад, вправо, вверх, вниз. Также поддерживаются
стрелки и клавиши "numpad".


Панель управления
=================

Ниже показана панель управления веб-плеера.

[рисунок]

1. показ / скрытие панели управления;

2. включение / выключение полноэкранного режима;

3. включение / выключение стереоизображения;

4. установка качества сцены;

5. включение / выключение звука;

6. включение / выключение автоматического поворота камеры вокруг
   сцены;

7. запуск / остановка движка;

8. открытие окно помощи;

9. кнопка Твиттер;

10. кнопка Facebook;

11. кнопка Google+;

12. кнопка ВКонтакте;

13. кнопка Weibo.


Атрибуты
========

Веб-плеер принимает атрибуты из адресной строки браузера:

[рисунок]



1. для загрузки сцены используется обязательный атрибут "load", в
   который помещается относительный путь к JSON файлу.

2. необязательный атрибут "fallback_image" используется для
   установки фона, заменяющего сцену при возникновении ошибки WebGL.

3. необязательный атрибут "fallback_video" используется для
   установки видео, заменяющего сцену при возникновении ошибки WebGL.
   Может использоваться неоднократно с целью добавления видео файлов
   различных форматов.

4. необязательный атрибут "show_fps" применяется для отображения
   счетчика кадров в секунду в правом верхнем углу плеера.

5. необязательный атрибут "autorotate" используется для включения
   автоматического вращения камеры сразу после загрузки сцены.

6. необязательный атрибут "compressed_textures" используется для
   включения загрузки уменьшенных текстур и текстур в формате с
   компрессией (DDS).

7. необязательный атрибут "compressed_textures_pvr" используется
   для включения  загрузки текстур с компрессией PVRTC. Применяется
   совместно с атрибутом "compressed_textures".

8. необязательный атрибут "compressed_gzip" используется для
   включения загрузки сжатых при помощи GZIP ресурсов, таких как
   ".json.gz", ".bin.gz", ".dds.gz" и ".pvr.gz".

9. необязательный атрибут "alpha" используется для установки
   прозрачности области отрисовки.

10. необязательный атрибут "no_social" используется для отключения
    кнопок социальных сетей на панели управления.

11. необязательный атрибут "socials" используется для выборочного
    включения и отключения кнопок социальных сетей, а также для
    задания порядка, в котором они располагаются на экране. Этот
    атрибут должен выглядеть так: "socials=<...>", где "<...>" - набор
    букв, соответствующих кнопкам социальных сетей, которые вы хотите
    включить ("f" - Facebook, "v" - VK, "t" - Twitter, "w" - Weibo,
    "g" - Google+).

Примечание: Если указаны параметры "fallback_image" и
  "fallback_video", приоритет имеет "fallback_image".


Название сцены в заголовке
==========================

По умолчанию веб-плеер устанавливает тег "title" равным "Blend4Web Web
Player". С помощью мета-тега "title" в настройках сцены можно изменить
значение по умолчанию.

[рисунок]


Ошибки сцены
============

В случае некорректного использования веб-плеера выводятся сообщения об
ошибках.

1. атрибутом "load" указан неверный путь к JSON файлу или данный
   файл неисправен;

[рисунок]



2. атрибут "load" не найден или его значение пустое;

[рисунок]



3. Ошибка инициализации WebGL. Возможные решения описаны на этой
   странице.

[рисунок]


