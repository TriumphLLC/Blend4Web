
Нодовые материалы
*****************

Шейдерные ноды (Shader Nodes) существенно расширяют возможности
стандартных материалов Blender, позволяя представить освещение как
серию базовых преобразований.

[image]


Стандартные ноды
================

Полностью поддерживаются все возможности Blender, за исключением
следующих случаев:

* "Geometry" - не поддерживается выход "Vertex Alpha".

* "Lamp data" - не поддерживается выход "Shadow".

* "Material", "Extended Material" - допускается не больше одной ноды
  на материал, не поддерживаются входы "Refl", "Ambient", "SpecTra" и
  выход "AO".

* "RGB Curves", "Vector Curves", "ColorRamp" и Cycles-ноды
  поддерживаются ограниченно.

Кроме того, в контексте рендеринга в реальном времени, следует
учитывать низкую производительность некоторых нод. Не рекомендуется к
использованию:

* "Hue/Saturation"

* "MixRGB" типы "Burn", "Dodge", "Value", "Saturation", "Hue",
  "Color"

Не рекомендуется создавать сложные материалы, особенно использующие
большое количество нод "Geometry" и "Texture".


Дополнительные ноды
===================

Дополнительные ноды расширяют функционал стандартных с учётом
специфики работы движка. Ноды оформляются в виде нодовых групп ("Node
groups" или "Node tree") со специально выбранным именем и форматом
входов. Для удобства, все дополнительные ноды добавляются в blend-файл
при его открытии.

[image]


B4W_LINEAR_TO_SRGB и B4W_SRGB_TO_LINEAR
---------------------------------------

Преобразование цвета из линейного цветового пространства в
пространство sRGB и наоборот. Функционал объявлен устаревшим с версии
15.04 - вместо этих нод должна использоваться нативная нода Gamma.

[image]

Voir aussi: Коррекция в нодовых материалах


B4W_REPLACE
-----------

Осуществляет замену входов в зависимости от того, в какой среде
(viewport Blender'а или движок) в данный момент работает текущая
сцена. При работе в Blender вход "Color1" подключается к выходу
"Color", вход "Color2" игнорируется. При работе в движке входы
меняются местами ("Color1" игнорируется, "Color2" подключается к
выходу). Нода предназначена для отображения во viewport'e одной
конструкции нодов, а в движке - другой.

[image]



Используется, как правило, для подключения карт нормалей. Нодовые
материалы Blender'а не поддерживают тангентное пространство координат,
в связи с чем единственный способ корректного отображения карт
нормалей во viewport'e - их подключение внутри нод Material.


B4W_CLAMP
---------

Осуществить операцию ограничения над входом. В результате, все
элементы вектора на выходе получают значения от 0 до 1 включительно.


B4W_TIME
--------

Осуществляет отсчет времени с момента старта движка в секундах. Может
использоваться для анимации любых параметров в нодовых материалах - UV
координат, факторов смешивания, прозрачности и т.п.

[image]



Voir aussi: Анимация нод Value и RGB


B4W_VECTOR_VIEW
---------------

Осуществить преобразование вектора в пространство камеры.
Преобразование необходимо, поскольку при работе в движке большинство
векторов определены в мировой системе координат (например нормали,
направления источников освещения и т.д). Преобразованный таким образом
вектор нормали используется только для различных эффектов и не должен
подключаться к входу ноды "Material" или "Extended Material".


B4W_PARALLAX
------------

Реализует смещение текстурных координат в соответствии с картой высот.


Входные параметры
~~~~~~~~~~~~~~~~~

*UV*
   Исходные текстурные координаты.

*Height Map*
   RGBA текстура с картой высот в альфа канале.

*Scale*
   Коэффициент смещения текстурных координат.

*Steps*
   Количество шагов при генерации смещенных текстурных координат. Чем
   больше данное значение, тем выше качество получаемой текстуры.

*Lod Distance*
   Максимальное расстояние от камеры, на котором виден эффект.


Выходные параметры
~~~~~~~~~~~~~~~~~~

*UV*
   Измененные текстурные координаты, которые используются как вход для
   текстурных нод.


B4W_TRANSLUCENCY
----------------

Реализует эффект полупрозрачности (только по отношению к источникам
света) для тонких объектов, таких как ткань, листва, бумага и др.
Эффект состоит из двух частей: засвечивание обратной по отношению к
источнику стороны объекта и появление светового пятна непосредственно
в том месте, где должен был находится источник.


Входные параметры
~~~~~~~~~~~~~~~~~

*Color*
   Одноканальная текстура, определяющая неоднородность материала,
   белый - максимальный эффект просвечивания, черный - его отсутствие.
   По умолчанию используется белый.

*Backside Factor*
   Коэффицент коррекции цвета материала на обратной от источника света
   стороне. Основан на визуальном эффекте большей насыщенности цвета
   при просвечивании.

   * *Backside Factor < 1* - коррекция в сторону осветления

   * *Backside Factor = 1* - без коррекции

   * *Backside Factor > 1* - коррекция в сторону затемнения

   Значение по умолчанию: 1.

*Spot Hardness*
   Коэффициент размытия светового пятна. При увеличении размеры пятна
   уменьшаются, края становятся более резкими. Значение по умолчанию:
   1000.

*Spot Intensity*
   Интенсивность светового пятна. При увеличении становится более
   ярким. Значение по умолчанию: 1.

*Spot Diffuse Factor*
   Коэффициент влияния диффузного цвета материала на цвет светового
   пятна.

   * *Spot Diffuse Factor = 0* - световое пятно имеет диффузный цвет

   * *Spot Diffuse Factor = 1* - световое пятно имеет белый цвет

   Значение по умолчанию: 1.


Выходные параметры
~~~~~~~~~~~~~~~~~~

*Translucency*
   Выход должен быть подключен ко входу "Translucency" ноды "Extended
   Material".

Note: Возможно некорректное поведение ноды, если используются
  отредактированные нормали.


B4W_REFRACTION
--------------

Реализует эффект преломления.


Входные параметры
~~~~~~~~~~~~~~~~~

*Normal*
   Карта нормалей, по которой происходит возмущение (сдвиг).

*Refraction bump*
   Коэффицент возмущения (сдвига) текстуры сцены позади объекта.

   Значение по умолчанию: 0.001.


Выходные параметры
~~~~~~~~~~~~~~~~~~

*Color*
   Текстура сцены позади объекта с внесённым возмущением.

Note: Для отображения эффекта необходимо переключить опцию
  "Refractions" на панели "Render > Reflections and Refractions" в
  состояние "AUTO" или "ON". Объект должен быть с типом прозрачности
  Alpha Blend.

Voir aussi: Прозрачность


B4W_LEVELS_OF_QUALITY
---------------------

Устанавливает значение выходного цвета в зависимости от установленного
профиля качества изображения.

Voir aussi: Профили качества изображения


Входные параметры
~~~~~~~~~~~~~~~~~

*HIGH*
   Значение, которое будет подано в выходной параметр "Color" при
   высоком и максимальном качестве изображения.

*LOW*
   Значение, которое будет подано в выходной параметр "Color" при
   низком качестве изображения.


Выходные параметры
~~~~~~~~~~~~~~~~~~

*Color*
   Значение выходного цвета.

Note: Для отображения во вьюпорте Blender'а используется входной
  параметр "HIGH".


B4W_SMOOTHSTEP
--------------

Осуществить мягкую интерполяцию двух значений, исходя из первого
значения.


Входные параметры
~~~~~~~~~~~~~~~~~

*Value*
   Значение, на основе которого осуществляется интерполяция.

*Edge0*
   Первое значениe для интерполяции.

*Edge1*
   Второе значениe для интерполяции.


Выходные параметры
~~~~~~~~~~~~~~~~~~

*Value*
   Сглаженное значение.

Note: Для корректной интерполяции входное значение ''Value'' должно
  лежать в диапазоне между ''Edge0'' и ''Edge1''.


B4W_GLOW_OUTPUT
---------------

Применяет эффект свечения (Glow) к нодовому материалу. Помимо ноды
*B4W_GLOW_OUTPUT* в нодовом материале должна присутствовать нода
*Output*.

[image]


Входные параметры
~~~~~~~~~~~~~~~~~

*Glow Color*
   Цвет свечения.

*Factor*
   Степень свечения. *Factor* \in [0, 1].

   * *Factor = 0* - свечение отсутствует.

   * *Factor* \in (0, 1] - свечение цветом *Glow Color*.
