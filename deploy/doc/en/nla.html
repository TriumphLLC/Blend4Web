<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Non-Linear Animation &mdash; User Manual: Blend4Web v15.03</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '15.03',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="User Manual: Blend4Web v15.03" href="index.html" />
    <link rel="next" title="For Application Developers" href="developers.html" />
    <link rel="prev" title="Physics" href="physics.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="index.html">
            <img class="logo" src="_static/b4w_logo.png" alt="Logo"/>
          </a></p>
        <div class="headertitle"><a
          href="index.html">User Manual: Blend4Web v15.03</a></div>
        <div class="rel">
          <a href="physics.html" title="Physics"
             accesskey="P">previous</a> |
          <a href="developers.html" title="For Application Developers"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="nla">
<span id="id1"></span><h1>Non-Linear Animation<a class="headerlink" href="#nla" title="Permalink to this headline">¶</a></h1>
<div class="section" id="nla-editor">
<span id="id2"></span><h2>NLA Editor<a class="headerlink" href="#nla-editor" title="Permalink to this headline">¶</a></h2>
<p>The Blender&#8217;s non-linear editor lets us set the scene&#8217;s behavior in a comfortable way. With its help we can implement simple scenarios. This way coding is not needed for simple scenes and applications.</p>
<a class="reference internal image-reference" href="_images/simple_machinima.jpg"><img alt="_images/simple_machinima.jpg" class="align-center" src="_images/simple_machinima.jpg" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The engine supports controlling the following entities:</p>
<ul class="simple">
<li><p class="first">Any animation the parameters of which can be presented with Actions</p>
</li>
<li><p class="first">Audio playback</p>
</li>
<li><p class="first">Particles emission (in the form of a connection with the global timeline)</p>
</li>
</ul>
<a class="reference internal image-reference" href="_images/nla_editor.jpg"><img alt="_images/nla_editor.jpg" class="align-center" src="_images/nla_editor.jpg" style="width: 100%;" /></a>
<div class="section" id="id3">
<h3>Usage<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p class="first">Enable the <tt class="docutils literal"><span class="pre">Use</span> <span class="pre">NLA</span></tt> checkbox under the <tt class="docutils literal"><span class="pre">Scene</span></tt> tab.</p>
</li>
<li><p class="first">In the <tt class="docutils literal"><span class="pre">NLA</span> <span class="pre">Editor</span></tt> set up the required behavior for the scene.</p>
</li>
<li><p class="first">Choose the animation time interval on the <tt class="docutils literal"><span class="pre">Timeline</span></tt> panel.</p>
</li>
</ol>
</div>
<div class="section" id="id4">
<h3>Additional settings<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>The <em>Blend4Web &gt; Cyclic NLA</em> scene setting activates the cyclic NLA animation mode.</p>
</div>
<div class="section" id="id5">
<h3>Limitations<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p class="first">Vertex animation is not supported.</p>
</li>
<li><p class="first">Scaling and looping of separate animation strips is not supported.</p>
</li>
<li><p class="first">A simultanious playback of differnet types of animation for the same object is not supported.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="nla-script">
<span id="id6"></span><h2>Visual Programming (NLA Script)<a class="headerlink" href="#nla-script" title="Permalink to this headline">¶</a></h2>
<p>Performed by appending logic slots (NLA Script Slot) under the scene tab in Blender. These slots can extend the scene functionality significantly without any coding.</p>
<a class="reference internal image-reference" href="_images/interactive_nla_example.jpg"><img alt="_images/interactive_nla_example.jpg" class="align-center" src="_images/interactive_nla_example.jpg" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The slots themselves are logic blocks that are executed from the first to the last sequentially except that this slot explicitly contains a transition (<tt class="docutils literal"><span class="pre">Jump</span></tt> or <tt class="docutils literal"><span class="pre">Conditional</span> <span class="pre">Jump</span></tt>). When the end of the list is reached the logic stops to execute, or - if <em>Blend4Web &gt; Cyclic NLA</em> checkbox is enabled - starts again.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using <em>Blend4Web &gt; Cyclic NLA</em> together with NLA Script does not result in automatic looping of the animation.</p>
</div>
<p>For implementing complicated logic there are numeric variables called registers. Each of 8 registers can store a single numeric value. The registers can be used for storing some scene state (e.g. this can be a counter of animation playbacks, character&#8217;s health points etc).</p>
<p>NLA Script usage example:</p>
<a class="reference internal image-reference" href="_images/interactive_nla_brick.png"><img alt="_images/interactive_nla_brick.png" class="align-center" src="_images/interactive_nla_brick.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>All possible slots are described below.</p>
<div class="section" id="play">
<h3>Play<a class="headerlink" href="#play" title="Permalink to this headline">¶</a></h3>
<p>Play back the NLA segment starting from the frame to which the marker points. Animation is played back until the next marker is met, or to the end of the timeline. Finally the next slot receives the control.</p>
<a class="reference internal image-reference" href="_images/interactive_nla_anim.png"><img alt="_images/interactive_nla_anim.png" class="align-center" src="_images/interactive_nla_anim.png" style="width: 100%;" /></a>
</div>
<div class="section" id="select-play">
<h3>Select &amp; Play<a class="headerlink" href="#select-play" title="Permalink to this headline">¶</a></h3>
<p>Wait until the user selects an object (on desktops - with a mouse click, on mobile devices - with a touch). If an object that is specified in this slot is selected - start animation similar to <tt class="docutils literal"><span class="pre">Play</span></tt> slot. If any other object is selected - immediately transfer the control to the next slot.</p>
<p>The latter functionality can be used for selecting one of the multiple objects. In this case it is convenient to place <tt class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Play</span></tt> slots in the stack one by one. The result of the user selection is catched up by one of this sequence slots because the transition without animation is performed instantly.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to allow the user to select an object, enable the <tt class="docutils literal"><span class="pre">Selectable</span></tt> checkbox in its settings, similar to implementation of the <a class="reference internal" href="postprocessing_effects.html#glow"><em>glow effect</em></a>.</p>
</div>
</div>
<div class="section" id="jump">
<h3>Jump<a class="headerlink" href="#jump" title="Permalink to this headline">¶</a></h3>
<p>Go to the specified slot.</p>
<a class="reference internal image-reference" href="_images/interactive_nla_jump.png"><img alt="_images/interactive_nla_jump.png" class="align-center" src="_images/interactive_nla_jump.png" style="width: 100%;" /></a>
</div>
<div class="section" id="select-jump">
<h3>Select &amp; Jump<a class="headerlink" href="#select-jump" title="Permalink to this headline">¶</a></h3>
<p>Is similar to the <tt class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Play</span></tt> slot, except the transition happens instead of animation. This function allows to implement a complicated logic because in this case there is a possibility to identify the user selection results (selecting an object leads to the transition to the named slot which is needn&#8217;t to be the next in the list).</p>
</div>
<div class="section" id="conditional-jump">
<h3>Conditional Jump<a class="headerlink" href="#conditional-jump" title="Permalink to this headline">¶</a></h3>
<p>Go to the specified slot if the certain condition is met. The parameters (operands) can also be registers that are activated using the corresponding switches.</p>
</div>
<div class="section" id="register-store">
<h3>Register Store<a class="headerlink" href="#register-store" title="Permalink to this headline">¶</a></h3>
<p>Save a numeric value in the register.</p>
</div>
<div class="section" id="math-operation">
<h3>Math Operation<a class="headerlink" href="#math-operation" title="Permalink to this headline">¶</a></h3>
<p>Perform a math operation and save the result in the register. Any of parameters (operands) can be either a numeric value or a register.</p>
</div>
<div class="section" id="show-object-hide-object">
<h3>Show Object and Hide Object<a class="headerlink" href="#show-object-hide-object" title="Permalink to this headline">¶</a></h3>
<p>This is used to hide and show 3D objects.</p>
</div>
<div class="section" id="page-redirect">
<h3>Page Redirect<a class="headerlink" href="#page-redirect" title="Permalink to this headline">¶</a></h3>
<p>This serves as page redirect to other web-pages</p>
</div>
<div class="section" id="page-param">
<h3>Page Param<a class="headerlink" href="#page-param" title="Permalink to this headline">¶</a></h3>
<p>Allows to store any webpage parameter to the given numerical register.</p>
</div>
<div class="section" id="noop">
<h3>Noop<a class="headerlink" href="#noop" title="Permalink to this headline">¶</a></h3>
<p>Shortening of &#8220;No Operation&#8221;. When such a slot is processed no actions are performed. This slot is convenient to place together with a <tt class="docutils literal"><span class="pre">Jump</span></tt> or <tt class="docutils literal"><span class="pre">Conditional</span> <span class="pre">Jump</span></tt> slot.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="first_steps.html">Quick Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Installing the SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">Scene Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_player.html">Web Player</a></li>
<li class="toctree-l1"><a class="reference internal" href="addon.html">The Add-on</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="camera.html">Camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="materials.html">Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="textures.html">Textures</a></li>
<li class="toctree-l1"><a class="reference internal" href="node_materials.html">Node Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="lighting.html">Lighting, Shadows and Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessing_effects.html">Postprocessing Effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles.html">Particle System</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles_instancing.html">Particle System for Instancing Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="animation.html">Animation</a></li>
<li class="toctree-l1"><a class="reference internal" href="outdoor_rendering.html">Outdoor Rendering</a></li>
<li class="toctree-l1"><a class="reference internal" href="gamma_alpha.html">Gamma Correction and Alpha Compositing</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">Audio System</a></li>
<li class="toctree-l1"><a class="reference internal" href="physics.html">Physics</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Non-Linear Animation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#nla-editor">NLA Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nla-script">Visual Programming (NLA Script)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">For Application Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers_advanced.html">For Engine Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_short_manual.html">Team Work. Using Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems_and_solutions.html">Problems and Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="physics.html" title="Physics"
             >previous</a> |
          <a href="developers.html" title="For Application Developers"
             >next</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2015, Triumph LLC.
      Last updated on 2015-03-26.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>