b4w.register("gallery_main",function(J,h){function p(a,c){window.oncontextmenu=function(a){a.preventDefault();a.stopPropagation();return!1};var b=document.getElementById(a);b.addEventListener("mousedown",function(b){z(a,b)},!1);b.addEventListener("mouseover",function(a){A(a)},!1);b.addEventListener("mouseout",function(){B(a)},!1);b.addEventListener("mouseup",c,!1)}function A(a){if(!("ontouchstart"in window||0<window.navigator.c)){var c=document.getElementById("hover_panel"),b=document.getElementById("glow");
b||(b=document.createElement("div"),b.id="glow",b.style.top=a.target.offsetTop,c.appendChild(b),b=document.getElementById("glow"));b.style.top=a.target.offsetTop-20+"px"}}function B(a){document.getElementById(a).className="control_panel_button";u()}function q(a){document.getElementById(a).className="control_panel_button"}function z(a,c){if(!("ontouchstart"in window||0<window.navigator.c||(c.preventDefault(),u(),document.getElementsByClassName(a).length))){var b=document.getElementById(a),d=document.createElement("div");
d.id="glow_down";d.style.marginTop=c.target.offsetTop-28+"px";k.appendChild(d);b.className="control_panel_button button_down"}}function u(){var a=document.getElementById("glow_down"),c=document.getElementById("glow");c&&k.removeChild(c);a&&k.removeChild(a)}function K(){v?l.exit_fullscreen():l.request_fullscreen(document.body,function(){v=!0;g("fullscreen_button",!0)},function(){v=!1;g("fullscreen_button",!1)})}function L(){var a=l.get_url_params();r=a&&a["default"]?a["default"]:"Logo";m=a&&a.tag?
a.tag:"nothing";C=a&&1==a.force_default?a.force_default:null;for(var c=!1,a=0;a<d.length;a++){var b=d[a];-1<b.a.indexOf(m)&&(c=!0)}c||(m="nothing");c=!1;for(a=0;a<d.length;a++)b=d[a],b.name==r&&-1<b.a.indexOf(m)&&(c=!0);c||(r="Logo")}function w(a){if(e.get("quality")!=a){switch(a){case e.P_LOW:var c="LOW";break;case e.P_HIGH:c="HIGH";break;case e.P_ULTRA:c="ULTRA"}n.set("quality",c);setTimeout(function(){window.location.reload()},100)}}function M(a,c){var b=D.keysearch("name",a,d);return b&&-1<b.a.indexOf(c)?
!0:!1}function x(a){var c=D.keysearch("name",a,d).b;E.load(N+c,O,P,!1);g(a,!0);n.set("last_scene_id",a);switch(n.get("quality")){case "LOW":g("low_mode_button",!0);break;case "HIGH":g("high_mode_button",!0);break;case "ULTRA":g("ultra_mode_button",!0)}}function Q(){function a(){f.remove_sensor_manifold(b,"AUTO_ROTATE");f.remove_sensor_manifold(b,"DISABLE_AUTO_ROTATE");g("auto_rotate_button",!1)}function c(a,b,c){1==c&&(b=f.get_sensor_value(a,b,0),R.rotate_target_camera(a,b*S,0))}var b=T.get_active_camera();
if(f.check_sensor_manifold(b,"AUTO_ROTATE"))a();else{var d=f.create_mouse_move_sensor("XY"),e=f.create_mouse_click_sensor(),h=f.create_touch_move_sensor("XY"),k=f.create_touch_zoom_sensor(),l=f.create_elapsed_sensor();f.create_sensor_manifold(b,"AUTO_ROTATE",f.CT_CONTINUOUS,[l],function(a){return a[0]},c);f.create_sensor_manifold(b,"DISABLE_AUTO_ROTATE",f.CT_SHOT,[d,e,h,k],function(a){return a[0]&&a[1]||a[2]||a[3]},a);g("auto_rotate_button",!0)}}function g(a,c){var b=document.getElementById(a),d=
document.createElement("div");u();d.id="glow_active";d.style.top=b.offsetTop-20+"px";c?(d.className=a,k.appendChild(d),b.className="control_panel_button"):(b=document.getElementsByClassName(a)[0])&&k.removeChild(b)}function U(a){for(var c="",b=0;b<d.length;b++){var e=d[b].name,g=d[b].icon,f=d[b].a;-1<f.indexOf(a)&&(c+="<div id='"+e+"' class='control_panel_button' style='background-image: url("+g+");'></div>")}t.innerHTML+=c;for(b=0;b<d.length;b++)c=d[b].name,f=d[b].a,-1<f.indexOf(a)&&V(c)}function V(a){var c=
document.getElementById(a);c.addEventListener("mousedown",function(b){z(a,b)},!0);c.addEventListener("mouseup",function(){q(a);E.cleanup();for(var b=0;b<d.length;b++){var c=d[b].name;-1<d[b].a.indexOf(m)&&g(c,!1)}g("auto_rotate_button",!1);g("low_mode_button",!1);g("high_mode_button",!1);g("ultra_mode_button",!1);x(a)},!0);c.addEventListener("mouseover",function(a){A(a)},!0);c.addEventListener("mouseout",function(){B(a)},!0)}function O(){e.get("antialiasing");l.enable_camera_controls()}function P(a,
c){F.innerHTML=a+"% ("+Math.round(10*c/1E3)/10+"s)"}function G(){l.resize_to_container();H.innerHTML=Math.round(window.innerWidth)+"x"+Math.round(window.innerHeight)}var l=h("app"),R=h("camera"),e=h("config"),f=h("controls"),E=h("data");h("main");var T=h("scenes"),n=h("storage"),D=h("util"),y="DEBUG"===h("version").type(),W={canvas_container_id:"main_canvas_container",callback:function(a,c){if(c){t=document.getElementById("control_panel");I=document.getElementById("scroll_panel");k=document.getElementById("hover_panel");
F=document.getElementById("status_bar_loading");H=document.getElementById("status_bar_resolution");if(-1!=navigator.userAgent.indexOf("Firefox")||-1!=navigator.userAgent.indexOf("rv:11"))t.style.width="90px",k.style.width="90px",I.style.width="90px";L();l.enable_controls();window.addEventListener("resize",G,!1);G();U(m);p("fullscreen_button",K);p("auto_rotate_button",function(){q("auto_rotate_button");Q()});p("low_mode_button",function(){q("low_mode_button");w(e.P_LOW)});p("high_mode_button",function(){q("high_mode_button");
w(e.P_HIGH)});p("ultra_mode_button",function(){q("ultra_mode_button");w(e.P_ULTRA)});var b=n.get("last_scene_id");b&&M(b,m)&&!C?x(b):x(r)}else console.log("b4w init failure")},physics_enabled:!1,alpha:!1,gl_debug:!1,show_hud_debug_info:!1,show_fps:!0,fps_elem_id:"status_bar_fps",console_verbose:y,assets_dds_available:!y,assets_min50_available:!y,error_purge_elements:["control_panel_over","status_bar"]},S=.1,N=e.get_std_assets_path(),d=[{icon:"icons/logo.png",name:"Logo",b:"misc/logo.json",a:["all",
"nothing","car","naturemorte"]},{icon:"icons/milk.png",name:"Bottle",b:"fridge/bottle/bottle.json",a:["all","naturemorte"]},{icon:"icons/naturmort.png",name:"Naturemorte",b:"fridge/naturmort/naturmort.json",a:["all","naturemorte"]}],t,F,H,k,I,v=!1,r=null,m=null,C=null;J.init=function(){n.init("b4w_gallery_storage");var a=n.get("quality");a&&"CUSTOM"!=a||(a="LOW",n.set("quality",a));switch(a){case "LOW":var c=e.P_LOW;break;case "HIGH":c=e.P_HIGH;break;case "ULTRA":c=e.P_ULTRA}e.set("quality",c);l.init(W)}});
b4w.require("gallery_main").init();
