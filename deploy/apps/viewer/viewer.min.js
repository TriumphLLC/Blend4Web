(function(k,n,t){"function"===typeof define&&define.amd?define(["jquery"],function(W){t(W,k,n);return W.mobile}):t(k.jQuery,k,n)})(this,document,function(k,n,t,W){k.mobile={};(function(a,g){function c(b,f){var c,m;c=b.nodeName.toLowerCase();if("area"===c){c=b.parentNode;m=c.name;if(!b.href||!m||"map"!==c.nodeName.toLowerCase())return!1;c=a("img[usemap=#"+m+"]")[0];return!!c&&d(c)}return(/input|select|textarea|button|object/.test(c)?!b.disabled:"a"===c?b.href||f:f)&&d(b)}function d(b){return a.expr.filters.visible(b)&&
!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var b=0,f=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(b){return function(f,c){return"number"===typeof f?this.each(function(){var b=this;setTimeout(function(){a(b).focus();
c&&c.call(b)},f)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,
"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(this[0].ownerDocument||t):b},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(f){return!!a.data(f,b)}}):function(b,f,c){return!!a.data(b,c[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,
"tabindex")))},tabbable:function(b){var f=a.attr(b,"tabindex"),d=isNaN(f);return(d||0<=f)&&c(b,!d)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,f){function c(b,f,e,h){a.each(d,function(){f-=parseFloat(a.css(b,"padding"+this))||0;e&&(f-=parseFloat(a.css(b,"border"+this+"Width"))||0);h&&(f-=parseFloat(a.css(b,"margin"+this))||0)});return f}var d="Width"===f?["Left","Right"]:["Top","Bottom"],p=f.toLowerCase(),q={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,
outerHeight:a.fn.outerHeight};a.fn["inner"+f]=function(b){return b===g?q["inner"+f].call(this):this.each(function(){a(this).css(p,c(this,b)+"px")})};a.fn["outer"+f]=function(b,e){return"number"!==typeof b?q["outer"+f].call(this,b):this.each(function(){a(this).css(p,c(this,b,!0,e)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(f){return arguments.length?
b.call(this,a.camelCase(f)):b.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in t.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(b!==g)return this.css("zIndex",b);if(this.length){b=a(this[0]);
for(var f;b.length&&b[0]!==t;){f=b.css("position");if("absolute"===f||"relative"===f||"fixed"===f)if(f=parseInt(b.css("zIndex"),10),!isNaN(f)&&0!==f)return f;b=b.parent()}}return 0}});a.ui.plugin={add:function(b,f,c){var d;b=a.ui[b].prototype;for(d in c)b.plugins[d]=b.plugins[d]||[],b.plugins[d].push([f,c[d]])},call:function(a,b,f,c){if((b=a.plugins[b])&&(c||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(c=0;c<b.length;c++)a.options[b[c][0]]&&b[c][1].apply(a.element,f)}}})(k);
(function(a,g,c){var d=function(b,f){var e=b.parent(),c=[],d=function(){var b=a(this),b=a.mobile.toolbar&&b.data("mobile-toolbar")?b.toolbar("option"):{position:b.attr("data-"+a.mobile.ns+"position"),updatePagePadding:!1!==b.attr("data-"+a.mobile.ns+"update-page-padding")};return!("fixed"===b.position&&!0===b.updatePagePadding)},m=e.children(":jqmData(role='header')").filter(d),p=b.children(":jqmData(role='header')"),e=e.children(":jqmData(role='footer')").filter(d),d=b.children(":jqmData(role='footer')");
0===p.length&&0<m.length&&(c=c.concat(m.toArray()));0===d.length&&0<e.length&&(c=c.concat(e.toArray()));a.each(c,function(b,e){f-=a(e).outerHeight()});return Math.max(0,f)};a.extend(a.mobile,{window:a(g),document:a(t),keyCode:a.ui.keyCode,behaviors:{},silentScroll:function(b){"number"!==a.type(b)&&(b=a.mobile.defaultHomeScroll);a.event.special.scrollstart.enabled=!1;setTimeout(function(){g.scrollTo(0,b);a.mobile.document.trigger("silentscroll",{x:0,y:b})},20);setTimeout(function(){a.event.special.scrollstart.enabled=
!0},150)},getClosestBaseUrl:function(b){b=a(b).closest(".ui-page").jqmData("url");var f=a.mobile.path.documentBase.hrefNoHash;a.mobile.dynamicBaseEnabled&&b&&a.mobile.path.isPath(b)||(b=f);return a.mobile.path.makeUrlAbsolute(b,f)},removeActiveLinkClass:function(b){!a.mobile.activeClickedLink||a.mobile.activeClickedLink.closest("."+a.mobile.activePageClass).length&&!b||a.mobile.activeClickedLink.removeClass(a.mobile.activeBtnClass);a.mobile.activeClickedLink=null},getInheritedTheme:function(a,f){for(var e=
a[0],c="",d=/ui-(bar|body|overlay)-([a-z])\b/,m,p;e&&!((m=e.className||"")&&(p=d.exec(m))&&(c=p[2]));)e=e.parentNode;return c||f||"a"},enhanceable:function(a){return this.haveParents(a,"enhance")},hijackable:function(a){return this.haveParents(a,"ajax")},haveParents:function(b,f){if(!a.mobile.ignoreContentEnabled)return b;var e=b.length,c=a(),d,m,p,q,g;for(q=0;q<e;q++){m=b.eq(q);p=!1;for(d=b[q];d;){g=d.getAttribute?d.getAttribute("data-"+a.mobile.ns+f):"";if("false"===g){p=!0;break}d=d.parentNode}p||
(c=c.add(m))}return c},getScreenHeight:function(){return g.innerHeight||a.mobile.window.height()},resetActivePageHeight:function(b){var f=a("."+a.mobile.activePageClass),e=f.height(),c=f.outerHeight(!0);b=d(f,"number"===typeof b?b:a.mobile.getScreenHeight());f.css("min-height","");f.height()<b&&f.css("min-height",b-(c-e))},loading:function(){var b=this.loading._widget||a(a.mobile.loader.prototype.defaultHtml).loader(),f=b.loader.apply(b,arguments);this.loading._widget=b;return f}});a.addDependents=
function(b,f){var e=a(b),c=e.jqmData("dependents")||a();e.jqmData("dependents",a(c).add(f))};a.fn.extend({removeWithDependents:function(){a.removeWithDependents(this)},enhanceWithin:function(){var b,f={},e=a.mobile.page.prototype.keepNativeSelector(),c=this;a.mobile.nojs&&a.mobile.nojs(this);a.mobile.links&&a.mobile.links(this);a.mobile.degradeInputsWithin&&a.mobile.degradeInputsWithin(this);a.fn.buttonMarkup&&this.find(a.fn.buttonMarkup.initSelector).not(e).jqmEnhanceable().buttonMarkup();a.fn.fieldcontain&&
this.find(":jqmData(role='fieldcontain')").not(e).jqmEnhanceable().fieldcontain();a.each(a.mobile.widgets,function(b,d){if(d.initSelector){var p=a.mobile.enhanceable(c.find(d.initSelector));0<p.length&&(p=p.not(e));0<p.length&&(f[d.prototype.widgetName]=p)}});for(b in f)f[b][b]();return this},addDependents:function(b){a.addDependents(this,b)},getEncodedText:function(){return a("<a>").text(this.text()).html()},jqmEnhanceable:function(){return a.mobile.enhanceable(this)},jqmHijackable:function(){return a.mobile.hijackable(this)}});
a.removeWithDependents=function(b){b=a(b);(b.jqmData("dependents")||a()).remove();b.remove()};a.addDependents=function(b,f){var e=a(b),c=e.jqmData("dependents")||a();e.jqmData("dependents",a(c).add(f))};a.find.matches=function(b,f){return a.find(b,null,null,f)};a.find.matchesSelector=function(b,f){return 0<a.find(f,null,null,[b]).length}})(k,this);k.extend(k.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",
activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:k(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"});
(function(a,g){var c=0,d=Array.prototype.slice,b=a.cleanData;a.cleanData=function(f){for(var e=0,c;null!=(c=f[e]);e++)try{a(c).triggerHandler("remove")}catch(d){}b(f)};a.widget=function(b,e,c){var d,m,p,q,g={},k=b.split(".")[0];b=b.split(".")[1];d=k+"-"+b;c||(c=e,e=a.Widget);a.expr[":"][d.toLowerCase()]=function(b){return!!a.data(b,d)};a[k]=a[k]||{};m=a[k][b];p=a[k][b]=function(a,b){if(!this._createWidget)return new p(a,b);arguments.length&&this._createWidget(a,b)};a.extend(p,m,{version:c.version,
_proto:a.extend({},c),_childConstructors:[]});q=new e;q.options=a.widget.extend({},q.options);a.each(c,function(b,f){a.isFunction(f)?g[b]=function(){var a=function(){return e.prototype[b].apply(this,arguments)},c=function(a){return e.prototype[b].apply(this,a)};return function(){var b=this._super,e=this._superApply,d;this._super=a;this._superApply=c;d=f.apply(this,arguments);this._super=b;this._superApply=e;return d}}():g[b]=f});p.prototype=a.widget.extend(q,{widgetEventPrefix:m?q.widgetEventPrefix||
b:b},g,{constructor:p,namespace:k,widgetName:b,widgetFullName:d});m?(a.each(m._childConstructors,function(b,f){var e=f.prototype;a.widget(e.namespace+"."+e.widgetName,p,f._proto)}),delete m._childConstructors):e._childConstructors.push(p);a.widget.bridge(b,p);return p};a.widget.extend=function(b){for(var e=d.call(arguments,1),c=0,l=e.length,m,p;c<l;c++)for(m in e[c])p=e[c][m],e[c].hasOwnProperty(m)&&p!==g&&(a.isPlainObject(p)?b[m]=a.isPlainObject(b[m])?a.widget.extend({},b[m],p):a.widget.extend({},
p):b[m]=p);return b};a.widget.bridge=function(b,e){var c=e.prototype.widgetFullName||b;a.fn[b]=function(l){var m="string"===typeof l,p=d.call(arguments,1),q=this;l=!m&&p.length?a.widget.extend.apply(null,[l].concat(p)):l;m?this.each(function(){var e,d=a.data(this,c);if("instance"===l)return q=d,!1;if(!d)return a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+l+"'");if(!a.isFunction(d[l])||"_"===l.charAt(0))return a.error("no such method '"+l+"' for "+b+" widget instance");
e=d[l].apply(d,p);if(e!==d&&e!==g)return q=e&&e.jquery?q.pushStack(e.get()):e,!1}):this.each(function(){var b=a.data(this,c);b?b.option(l||{})._init():a.data(this,c,new e(l,this))});return q}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,e){e=a(e||this.defaultElement||this)[0];this.element=a(e);this.uuid=c++;this.eventNamespace="."+this.widgetName+
this.uuid;this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);this.bindings=a();this.hoverable=a();this.focusable=a();e!==this&&(a.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===e&&this.destroy()}}),this.document=a(e.style?e.ownerDocument:e.document||e),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,
_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(b,e){var c=b,d,m,p;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof b)if(c={},d=b.split("."),b=d.shift(),d.length){m=c[b]=a.widget.extend({},this.options[b]);for(p=0;p<d.length-1;p++)m[d[p]]=m[d[p]]||{},m=m[d[p]];b=d.pop();if(e===g)return m[b]===g?null:m[b];m[b]=e}else{if(e===g)return this.options[b]===g?null:this.options[b];c[b]=e}this._setOptions(c);return this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,
b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,e,c){var d,m=this;"boolean"!==typeof b&&(c=e,e=b,b=!1);c?(e=d=a(e),this.bindings=this.bindings.add(e)):(c=e,e=this.element,d=this.widget());a.each(c,function(c,h){function g(){if(b||
!0!==m.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"===typeof h?m[h]:h).apply(m,arguments)}"string"!==typeof h&&(g.guid=h.guid=h.guid||g.guid||a.guid++);var k=c.match(/^(\w+)\s*(.*)$/),n=k[1]+m.eventNamespace;(k=k[2])?d.delegate(k,n,g):e.bind(n,g)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"===typeof a?c[a]:a).apply(c,arguments)},
b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,e,c){var d,m=this.options[b];c=c||{};e=a.Event(e);
e.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();e.target=this.element[0];if(b=e.originalEvent)for(d in b)d in e||(e[d]=b[d]);this.element.trigger(e,c);return!(a.isFunction(m)&&!1===m.apply(this.element[0],[e].concat(c))||e.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,e){a.Widget.prototype["_"+b]=function(c,d,m){"string"===typeof d&&(d={effect:d});var p,q=d?!0===d||"number"===typeof d?e:d.effect||e:b;d=d||{};"number"===typeof d&&(d={duration:d});
p=!a.isEmptyObject(d);d.complete=m;d.delay&&c.delay(d.delay);if(p&&a.effects&&a.effects.effect[q])c[b](d);else if(q!==b&&c[q])c[q](d.duration,d.easing,m);else c.queue(function(e){a(this)[b]();m&&m.call(c[0]);e()})}})})(k);(function(a,g,c){var d={},b=a.find,f=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,e=/:jqmData\(([^)]*)\)/g;a.extend(a.mobile,{ns:"",getAttribute:function(b,e){var c;(b=b.jquery?b[0]:b)&&b.getAttribute&&(c=b.getAttribute("data-"+a.mobile.ns+e));try{c="true"===c?!0:"false"===c?!1:"null"===c?null:
+c+""===c?+c:f.test(c)?JSON.parse(c):c}catch(d){}return c},nsNormalizeDict:d,nsNormalize:function(b){return d[b]||(d[b]=a.camelCase(a.mobile.ns+b))},closestPageData:function(a){return a.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}});a.fn.jqmData=function(b,f){var e;"undefined"!==typeof b&&(b&&(b=a.mobile.nsNormalize(b)),e=2>arguments.length||f===c?this.data(b):this.data(b,f));return e};a.jqmData=function(b,f,c){var e;"undefined"!==typeof f&&(e=a.data(b,f?a.mobile.nsNormalize(f):
f,c));return e};a.fn.jqmRemoveData=function(b){return this.removeData(a.mobile.nsNormalize(b))};a.jqmRemoveData=function(b,f){return a.removeData(b,a.mobile.nsNormalize(f))};a.find=function(f,c,d,p){-1<f.indexOf(":jqmData")&&(f=f.replace(e,"[data-"+(a.mobile.ns||"")+"$1]"));return b.call(this,f,c,d,p)};a.extend(a.find,b)})(k,this);(function(a,g){var c=/[A-Z]/g,d=function(a){return"-"+a.toLowerCase()};a.extend(a.Widget.prototype,{_getCreateOptions:function(){var b,f,e=this.element[0],h={};if(!a.mobile.getAttribute(e,
"defaults"))for(b in this.options)f=a.mobile.getAttribute(e,b.replace(c,d)),null!=f&&(h[b]=f);return h}});a.mobile.widget=a.Widget})(k);(function(a){var g=a("html");a.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='ui-loader'><span class='ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var c=a("."+a.mobile.activeBtnClass).first();this.element.css({top:a.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||c.length&&
c.offset().top||100})},checkLoaderPosition:function(){var c=this.element.offset(),d=this.window.scrollTop(),b=a.mobile.getScreenHeight();if(c.top<d||c.top-d>b)this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",a.proxy(this.fakeFixLoader,this))},resetHtml:function(){this.element.html(a(this.defaultHtml).html())},show:function(c,d,b){var f,e;this.resetHtml();"object"===a.type(c)?(e=a.extend({},this.options,c),c=e.theme):
(e=this.options,c=c||e.theme);f=d||(!1===e.text?"":e.text);g.addClass("ui-loading");this.element.attr("class","ui-loader ui-corner-all ui-body-"+c+" ui-loader-"+(e.textVisible||d||c.text?"verbose":"default")+(e.textonly||b?" ui-loader-textonly":""));e.html?this.element.html(e.html):this.element.find("h1").text(f);this.element.appendTo(a.mobile.pagecontainer?a(":mobile-pagecontainer"):a("body"));this.checkLoaderPosition();this.window.bind("scroll",a.proxy(this.checkLoaderPosition,this))},hide:function(){g.removeClass("ui-loading");
this.options.text&&this.element.removeClass("ui-loader-fakefix");this.window.unbind("scroll",this.fakeFixLoader);this.window.unbind("scroll",this.checkLoaderPosition)}})})(k,this);(function(a,g,c){function d(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var b,f=a.event.special,e=t.documentMode,h="onhashchange"in g&&(e===c||7<e);a.fn.hashchange=function(a){return a?this.bind("hashchange",a):this.trigger("hashchange")};a.fn.hashchange.delay=50;f.hashchange=a.extend(f.hashchange,
{setup:function(){if(h)return!1;a(b.start)},teardown:function(){if(h)return!1;a(b.stop)}});b=function(){function b(){var f=d(),c=n(q);f!==q?(E(q=f,c),a(g).trigger("hashchange")):c!==q&&(location.href=location.href.replace(/#.*/,"")+c);e=setTimeout(b,a.fn.hashchange.delay)}var f={},e,q=d(),k=function(a){return a},E=k,n=k;f.start=function(){e||b()};f.stop=function(){e&&clearTimeout(e);e=c};g.attachEvent&&!g.addEventListener&&!h&&function(){var c,e;f.start=function(){c||(e=(e=a.fn.hashchange.src)&&e+
d(),c=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){e||E(d());b()}).attr("src",e||"javascript:0").insertAfter("body")[0].contentWindow,t.onpropertychange=function(){try{"title"===event.propertyName&&(c.document.title=t.title)}catch(a){}})};f.stop=k;n=function(){return d(c.location.href)};E=function(b,f){var e=c.document,d=a.fn.hashchange.domain;b!==f&&(e.title=t.title,e.open(),d&&e.write('<script>document.domain="'+d+'"\x3c/script>'),e.close(),c.location.hash=b)}}();return f}()})(k,
this);(function(a,g){n.matchMedia=n.matchMedia||function(a,d){var b,f=a.documentElement,e=f.firstElementChild||f.firstChild,h=a.createElement("body"),l=a.createElement("div");l.id="mq-test-1";l.style.cssText="position:absolute;top:-100em";h.style.background="none";h.appendChild(l);return function(a){l.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>';f.insertBefore(h,e);b=42===l.offsetWidth;f.removeChild(h);return{matches:b,media:a}}}(t);a.mobile.media=function(a){return n.matchMedia(a).matches}})(k);
(function(a,g){var c={touch:"ontouchend"in t};a.mobile.support=a.mobile.support||{};a.extend(a.support,c);a.extend(a.mobile.support,c)})(k);k.extend(k.support,{orientation:"orientation"in n&&"onorientationchange"in n});(function(a,g){function c(a){var e=a.charAt(0).toUpperCase()+a.substr(1);a=(a+" "+f.join(e+" ")+e).split(" ");for(var c in a)if(b[a[c]]!==g)return!0}var d=a("<body>").prependTo("html"),b=d[0].style,f=["Webkit","Moz","O"],e="palmGetResource"in n,h=n.operamini&&"[object OperaMini]"===
{}.toString.call(n.operamini),l=n.blackberry&&!c("-webkit-transform");a.extend(a.mobile,{browser:{}});a.mobile.browser.oldIE=function(){var a=3,b=t.createElement("div"),f=b.all||[];do b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><br><![endif]--\x3e";while(f[0]);return 4<a?a:!a}();a.extend(a.support,{pushState:"pushState"in history&&"replaceState"in history&&!(0<=n.navigator.userAgent.indexOf("Firefox")&&n.top!==n)&&-1===n.navigator.userAgent.search(/CriOS/),mediaquery:a.mobile.media("only all"),cssPseudoElement:!!c("content"),
touchOverflow:!!c("overflowScrolling"),cssTransform3d:function(){var b=a.mobile.media("(-"+f.join("-transform-3d),(-")+"-transform-3d),(transform-3d)"),e,c,h;if(b)return!!b;e=t.createElement("div");c={MozTransform:"-moz-transform",transform:"transform"};d.append(e);for(h in c)e.style[h]!==g&&(e.style[h]="translate3d( 100px, 1px, 1px )",b=n.getComputedStyle(e).getPropertyValue(c[h]));return!!b&&"none"!==b}(),boxShadow:!!c("boxShadow")&&!l,fixedPosition:function(){var a=navigator.userAgent,b=navigator.platform,
f=a.match(/AppleWebKit\/([0-9]+)/),f=!!f&&f[1],e=a.match(/Fennec\/([0-9]+)/),e=!!e&&e[1],c=a.match(/Opera Mobi\/([0-9]+)/),d=!!c&&c[1];return(-1<b.indexOf("iPhone")||-1<b.indexOf("iPad")||-1<b.indexOf("iPod"))&&f&&534>f||n.operamini&&"[object OperaMini]"==={}.toString.call(n.operamini)||c&&7458>d||-1<a.indexOf("Android")&&f&&533>f||e&&6>e||"palmGetResource"in n&&f&&534>f||-1<a.indexOf("MeeGo")&&-1<a.indexOf("NokiaBrowser/8.5.0")?!1:!0}(),scrollTop:("pageXOffset"in n||"scrollTop"in t.documentElement||
"scrollTop"in d[0])&&!e&&!h,dynamicBaseTag:function(){var b=location.protocol+"//"+location.host+location.pathname+"ui-dir/",f=a("head base"),e=null,c="",h;f.length?c=f.attr("href"):f=e=a("<base>",{href:b}).appendTo("head");h=a("<a href='testurl' />").prependTo(d)[0].href;f[0].href=c||location.pathname;e&&e.remove();return 0===h.indexOf(b)}(),cssPointerEvents:function(){var a=t.createElement("x"),b=t.documentElement,f=n.getComputedStyle;if(!("pointerEvents"in a.style))return!1;a.style.pointerEvents=
"auto";a.style.pointerEvents="x";b.appendChild(a);f=f&&"auto"===f(a,"").pointerEvents;b.removeChild(a);return!!f}(),boundingRect:"undefined"!==typeof t.createElement("div").getBoundingClientRect,inlineSVG:function(){var b=!!n.document.createElementNS&&!!n.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect&&!(n.opera&&-1===navigator.userAgent.indexOf("Chrome")),f=function(f){f&&b||a("html").addClass("ui-nosvg")},e=new n.Image;e.onerror=function(){f(!1)};e.onload=function(){f(1===
e.width&&1===e.height)};e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}});d.remove();e=function(){var a=n.navigator.userAgent;return-1<a.indexOf("Nokia")&&(-1<a.indexOf("Symbian/3")||-1<a.indexOf("Series60/5"))&&-1<a.indexOf("AppleWebKit")&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();a.mobile.gradeA=function(){return(a.support.mediaquery&&a.support.cssPseudoElement||a.mobile.browser.oldIE&&8<=a.mobile.browser.oldIE)&&(a.support.boundingRect||null!==a.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))};
a.mobile.ajaxBlacklist=n.blackberry&&!n.WebKitPoint||h||e;e&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});a.support.boxShadow||a("html").addClass("ui-noboxshadow")})(k);(function(a,g){var c=a.mobile.window,d,b=function(){};a.event.special.beforenavigate={setup:function(){c.on("navigate",b)},teardown:function(){c.off("navigate",b)}};a.event.special.navigate=d={bound:!1,pushStateEnabled:!0,originalEventName:g,isPushStateEnabled:function(){return a.support.pushState&&
!0===a.mobile.pushStateEnabled&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return!0===a.mobile.hashListeningEnabled},popstate:function(b){var e=new a.Event("navigate"),d=new a.Event("beforenavigate"),l=b.originalEvent.state||{};d.originalEvent=b;c.trigger(d);d.isDefaultPrevented()||(b.historyState&&a.extend(l,b.historyState),e.originalEvent=b,setTimeout(function(){c.trigger(e,{state:l})},0))},hashchange:function(b){var e=new a.Event("navigate"),d=new a.Event("beforenavigate");d.originalEvent=
b;c.trigger(d);d.isDefaultPrevented()||(e.originalEvent=b,c.trigger(e,{state:b.hashchangeState||{}}))},setup:function(){d.bound||(d.bound=!0,d.isPushStateEnabled()?(d.originalEventName="popstate",c.bind("popstate.navigate",d.popstate)):d.isHashChangeEnabled()&&(d.originalEventName="hashchange",c.bind("hashchange.navigate",d.hashchange)))}}})(k);(function(a,g){var c,d;a.mobile.path=c={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,
getLocation:function(a){var f=this.parseUrl(a||location.href);a=a?f:location;var e=f.hash,e="#"===e?"":e;return a.protocol+f.doubleSlash+a.host+(""!==a.protocol&&"/"!==a.pathname.substring(0,1)?"/":"")+a.pathname+a.search+e},getDocumentUrl:function(b){return b?a.extend({},c.documentUrl):c.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(b){if("object"===a.type(b))return b;b=c.urlParseRE.exec(b||"")||[];return{href:b[0]||"",hrefNoHash:b[1]||"",
hrefNoSearch:b[2]||"",domain:b[3]||"",protocol:b[4]||"",doubleSlash:b[5]||"",authority:b[6]||"",username:b[8]||"",password:b[9]||"",host:b[10]||"",hostname:b[11]||"",port:b[12]||"",pathname:b[13]||"",directory:b[14]||"",filename:b[15]||"",search:b[16]||"",hash:b[17]||""}},makePathAbsolute:function(a,f){var e,c,d,m;if(a&&"/"===a.charAt(0))return a;a=a||"";e=(f=f?f.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?f.split("/"):[];c=a.split("/");for(d=0;d<c.length;d++)switch(m=c[d],m){case ".":break;case "..":e.length&&
e.pop();break;default:e.push(m)}return"/"+e.join("/")},isSameDomain:function(a,f){return c.parseUrl(a).domain.toLowerCase()===c.parseUrl(f).domain.toLowerCase()},isRelativeUrl:function(a){return""===c.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==c.parseUrl(a).protocol},makeUrlAbsolute:function(a,f){if(!c.isRelativeUrl(a))return a;f===g&&(f=this.documentBase);var e=c.parseUrl(a),d=c.parseUrl(f),l=e.protocol||d.protocol,m=e.protocol?e.doubleSlash:e.doubleSlash||d.doubleSlash,p=e.authority||
d.authority,q=""!==e.pathname,k=c.makePathAbsolute(e.pathname||d.filename,d.pathname);return l+m+p+k+(e.search||!q&&d.search||"")+e.hash},addSearchParams:function(b,f){var e=c.parseUrl(b),d="object"===typeof f?a.param(f):f,l=e.search||"?";return e.hrefNoSearch+l+("?"!==l.charAt(l.length-1)?"&":"")+d+(e.hash||"")},convertUrlToDataUrl:function(a){var f=a;a=c.parseUrl(a);c.isEmbeddedPage(a)?f=a.hash.split("&ui-state=dialog")[0].replace(/^#/,"").replace(/\?.*$/,""):c.isSameDomain(a,this.documentBase)&&
(f=a.hrefNoHash.replace(this.documentBase.domain,"").split("&ui-state=dialog")[0]);return n.decodeURIComponent(f)},get:function(a){a===g&&(a=c.parseLocation().hash);return c.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(this.documentBase.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},stripQueryParams:function(a){return a.replace(/\?.*$/,"")},cleanHash:function(a){return c.stripHash(a.replace(/\?.*$/,
"").replace("&ui-state=dialog",""))},isHashValid:function(a){return/^#[^#]+$/.test(a)},isExternal:function(a){a=c.parseUrl(a);return!(!a.protocol||a.domain.toLowerCase()===this.documentUrl.domain.toLowerCase())},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isEmbeddedPage:function(a){a=c.parseUrl(a);return""!==a.protocol?!this.isPath(a.hash)&&a.hash&&(a.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&a.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(a.href)},squash:function(a,
f){var e,d,l=this.isPath(a);d=this.parseUrl(a);var m=d.hash,p="";f||(l?f=c.getLocation():(e=c.getDocumentUrl(!0),f=c.isPath(e.hash)?c.squash(e.href):e.href));e=l?c.stripHash(a):a;e=c.isPath(d.hash)?c.stripHash(d.hash):e;d=e.indexOf(this.uiStateKey);-1<d&&(p=e.slice(d),e=e.slice(0,d));e=c.makeUrlAbsolute(e,f);d=this.parseUrl(e).search;if(l){if(c.isPath(m)||0===m.replace("#","").indexOf(this.uiStateKey))m="";p&&-1===m.indexOf(this.uiStateKey)&&(m+=p);-1===m.indexOf("#")&&""!==m&&(m="#"+m);e=c.parseUrl(e);
e=e.protocol+e.doubleSlash+e.host+e.pathname+d+m}else e+=-1<e.indexOf("#")?p:"#"+p;return e},isPreservableHash:function(a){return 0===a.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(a){var f="#"===a.substring(0,1);f&&(a=a.substring(1));return(f?"#":"")+a.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(a){return a&&a.split("&ui-state=dialog")[0]},isFirstPageUrl:function(b){b=c.parseUrl(c.makeUrlAbsolute(b,this.documentBase));var f=a.mobile.firstPage,
f=f&&f[0]?f[0].id:g;return(b.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&b.hrefNoHash===this.documentBase.hrefNoHash)&&(!b.hash||"#"===b.hash||f&&b.hash.replace(/^#/,"")===f)},isPermittedCrossDomainRequest:function(b,f){return a.mobile.allowCrossDomainPages&&("file:"===b.protocol||"content:"===b.protocol)&&-1!==f.search(/^https?:/)}};c.documentUrl=c.parseLocation();d=a("head").find("base");c.documentBase=d.length?c.parseUrl(c.makeUrlAbsolute(d.attr("href"),c.documentUrl.href)):
c.documentUrl;c.documentBaseDiffers=c.documentUrl.hrefNoHash!==c.documentBase.hrefNoHash;c.getDocumentBase=function(b){return b?a.extend({},c.documentBase):c.documentBase.href};a.extend(a.mobile,{getDocumentUrl:c.getDocumentUrl,getDocumentBase:c.getDocumentBase})})(k);(function(a,g){a.mobile.History=function(a,d){this.stack=a||[];this.activeIndex=d||0};a.extend(a.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},
getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(a,d){d=d||{};this.getNext()&&this.clearForward();d.hash&&-1===d.hash.indexOf("#")&&(d.hash="#"+d.hash);d.url=a;this.stack.push(d);this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(a,d,b){d=d||this.stack;var f,e,h=d.length,l;for(e=0;e<h;e++)if(f=d[e],decodeURIComponent(a)===decodeURIComponent(f.url)||
decodeURIComponent(a)===decodeURIComponent(f.hash))if(l=e,b)break;return l},closest:function(a){var d,b=this.activeIndex;d=this.find(a,this.stack.slice(0,b));d===g&&(d=this.find(a,this.stack.slice(b),!0),d=d===g?d:d+b);return d},direct:function(c){var d=this.closest(c.url),b=this.activeIndex;d!==g&&(this.activeIndex=d,this.previousIndex=b);d<b?(c.present||c.back||a.noop)(this.getActive(),"back"):d>b?(c.present||c.forward||a.noop)(this.getActive(),"forward"):d===g&&c.missing&&c.missing(this.getActive())}})})(k);
(function(a,g){var c=a.mobile.path,d=location.href;a.mobile.Navigator=function(b){this.history=b;this.ignoreInitialHashChange=!0;a.mobile.window.bind({"popstate.history":a.proxy(this.popstate,this),"hashchange.history":a.proxy(this.hashchange,this)})};a.extend(a.mobile.Navigator.prototype,{squash:function(b,f){var e,d;e=c.isPath(b)?c.stripHash(b):b;d=c.squash(b);e=a.extend({hash:e,url:d},f);n.history.replaceState(e,e.title||t.title,d);return e},hash:function(a,f){var e,d;e=c.parseUrl(a);d=c.parseLocation();
d.pathname+d.search===e.pathname+e.search?e=e.hash?e.hash:e.pathname+e.search:c.isPath(a)?(e=c.parseUrl(f),e=e.pathname+e.search+(c.isPreservableHash(e.hash)?e.hash.replace("#",""):"")):e=a;return e},go:function(b,f,e){var d,l,m;m=a.event.special.navigate.isPushStateEnabled();d=c.squash(b);l=this.hash(b,d);e&&l!==c.stripHash(c.parseLocation().hash)&&(this.preventNextHashChange=e);this.preventHashAssignPopState=!0;n.location.hash=l;this.preventHashAssignPopState=!1;f=a.extend({url:d,hash:l,title:t.title},
f);m&&(m=new a.Event("popstate"),m.originalEvent={type:"popstate",state:null},this.squash(b,f),e||(this.ignorePopState=!0,a.mobile.window.trigger(m)));this.history.add(f.url,f)},popstate:function(b){var f;if(a.event.special.navigate.isPushStateEnabled())if(this.preventHashAssignPopState)this.preventHashAssignPopState=!1,b.stopImmediatePropagation();else if(this.ignorePopState)this.ignorePopState=!1;else{if(!b.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=
!1,location.href===d)){b.preventDefault();return}f=c.parseLocation().hash;!b.originalEvent.state&&f?(f=this.squash(f),this.history.add(f.url,f),b.historyState=f):this.history.direct({url:(b.originalEvent.state||{}).url||f,present:function(f,c){b.historyState=a.extend({},f);b.historyState.direction=c}})}},hashchange:function(b){var f,e;a.event.special.navigate.isHashChangeEnabled()&&!a.event.special.navigate.isPushStateEnabled()&&(this.preventNextHashChange?(this.preventNextHashChange=!1,b.stopImmediatePropagation()):
(f=this.history,e=c.parseLocation().hash,this.history.direct({url:e,present:function(f,e){b.hashchangeState=a.extend({},f);b.hashchangeState.direction=e},missing:function(){f.add(e,{hash:e,title:t.title})}})))}})})(k);(function(a,g){a.mobile.navigate=function(c,b,f){a.mobile.navigate.navigator.go(c,b,f)};a.mobile.navigate.history=new a.mobile.History;a.mobile.navigate.navigator=new a.mobile.Navigator(a.mobile.navigate.history);var c=a.mobile.path.parseLocation();a.mobile.navigate.history.add(c.href,
{hash:c.hash})})(k);(function(a,g){var c={animation:{},transition:{}},d=t.createElement("a"),b=["","webkit-","moz-","o-"];a.each(["animation","transition"],function(f,e){var h=0===f?e+"-name":e;a.each(b,function(b,f){if(d.style[a.camelCase(f+h)]!==g)return c[e].prefix=f,!1});c[e].duration=a.camelCase(c[e].prefix+e+"-duration");c[e].event=a.camelCase(c[e].prefix+e+"-end");""===c[e].prefix&&(c[e].event=c[e].event.toLowerCase())});a.support.cssTransitions=c.transition.prefix!==g;a.support.cssAnimations=
c.animation.prefix!==g;a(d).remove();a.fn.animationComplete=function(b,e,d){var l,m,p=this,q=function(){clearTimeout(l);b.apply(this,arguments)},k=e&&"animation"!==e?"transition":"animation";if(a.support.cssTransitions&&"transition"===k||a.support.cssAnimations&&"animation"===k)return d===g&&(a(this).context!==t&&(m=3E3*parseFloat(a(this).css(c[k].duration))),0===m||m===g||isNaN(m))&&(m=a.fn.animationComplete.defaultDuration),l=setTimeout(function(){a(p).off(c[k].event,q);b.apply(p)},m),a(this).one(c[k].event,
q);setTimeout(a.proxy(b,this),0);return a(this)};a.fn.animationComplete.defaultDuration=1E3})(k);(function(a,g,c,d){function b(a){for(;a&&"undefined"!==typeof a.originalEvent;)a=a.originalEvent;return a}function f(b){for(var f={},e,c;b;){e=a.data(b,"virtualMouseBindings");for(c in e)e[c]&&(f[c]=f.hasVirtualBinding=!0);b=b.parentNode}return f}function e(){D&&(clearTimeout(D),D=0);D=setTimeout(function(){N=D=0;ha.length=0;ia=!1;X=!0},a.vmouse.resetTimerDuration)}function h(f,e,c){var h,m;if(!(m=c&&
c[f])){if(c=!c)a:{for(c=e.target;c;){if((m=a.data(c,"virtualMouseBindings"))&&(!f||m[f]))break a;c=c.parentNode}c=null}m=c}if(m){h=e;c=h.type;var l,p;h=a.Event(h);h.type=f;f=h.originalEvent;m=a.event.props;-1<c.search(/^(mouse|click)/)&&(m=C);if(f)for(p=m.length,l;p;)l=m[--p],h[l]=f[l];-1<c.search(/mouse(down|up)|click/)&&!h.which&&(h.which=1);if(-1!==c.search(/^touch/)&&(l=b(f),c=l.touches,l=l.changedTouches,f=c&&c.length?c[0]:l&&l.length?l[0]:d))for(c=0,m=z.length;c<m;c++)l=z[c],h[l]=f[l];a(e.target).trigger(h)}return h}
function l(b){var f=a.data(b.target,"virtualTouchID");ia||N&&N===f||!(f=h("v"+b.type,b))||(f.isDefaultPrevented()&&b.preventDefault(),f.isPropagationStopped()&&b.stopPropagation(),f.isImmediatePropagationStopped()&&b.stopImmediatePropagation())}function m(c){var e=b(c).touches,d;e&&1===e.length&&(d=c.target,e=f(d),e.hasVirtualBinding&&(N=ma++,a.data(d,"virtualTouchID",N),D&&(clearTimeout(D),D=0),L=X=!1,d=b(c).touches[0],P=d.pageX,Q=d.pageY,h("vmouseover",c,e),h("vmousedown",c,e)))}function p(a){X||
(L||h("vmousecancel",a,f(a.target)),L=!0,e())}function q(c){if(!X){var d=b(c).touches[0],m=L,l=a.vmouse.moveDistanceThreshold,p=f(c.target);(L=L||Math.abs(d.pageX-P)>l||Math.abs(d.pageY-Q)>l)&&!m&&h("vmousecancel",c,p);h("vmousemove",c,p);e()}}function k(a){if(!X){X=!0;var c=f(a.target),d;h("vmouseup",a,c);L||(d=h("vclick",a,c))&&d.isDefaultPrevented()&&(d=b(a).changedTouches[0],ha.push({touchID:N,x:d.clientX,y:d.clientY}),ia=!0);h("vmouseout",a,c);L=!1;e()}}function E(b){b=a.data(b,"virtualMouseBindings");
var f;if(b)for(f in b)if(b[f])return!0;return!1}function n(){}function t(b){var f=b.substr(1);return{setup:function(){E(this)||a.data(this,"virtualMouseBindings",{});a.data(this,"virtualMouseBindings")[b]=!0;v[b]=(v[b]||0)+1;1===v[b]&&Z.bind(f,l);a(this).bind(f,n);W&&(v.touchstart=(v.touchstart||0)+1,1===v.touchstart&&Z.bind("touchstart",m).bind("touchend",k).bind("touchmove",q).bind("scroll",p))},teardown:function(){--v[b];v[b]||Z.unbind(f,l);W&&(--v.touchstart,v.touchstart||Z.unbind("touchstart",
m).unbind("touchmove",q).unbind("touchend",k).unbind("scroll",p));var c=a(this),e=a.data(this,"virtualMouseBindings");e&&(e[b]=!1);c.unbind(f,n);E(this)||c.removeData("virtualMouseBindings")}}}g="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var z="clientX clientY pageX pageY screenX screenY".split(" "),C=a.event.props.concat(a.event.mouseHooks?a.event.mouseHooks.props:[]),v={},D=0,P=0,Q=0,L=!1,ha=[],ia=!1,X=!1,W="addEventListener"in c,Z=a(c),ma=1,N=0,T,ca;a.vmouse=
{moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(ca=0;ca<g.length;ca++)a.event.special[g[ca]]=t(g[ca]);W&&c.addEventListener("click",function(b){var f=ha.length,c=b.target,e,d,h,m,l;if(f)for(e=b.clientX,d=b.clientY,T=a.vmouse.clickDistanceThreshold,h=c;h;){for(m=0;m<f;m++)if(l=ha[m],h===c&&Math.abs(l.x-e)<T&&Math.abs(l.y-d)<T||a.data(h,"virtualTouchID")===l.touchID){b.preventDefault();b.stopPropagation();return}h=h.parentNode}},!0)})(k,n,t);(function(a,g,c){function d(b,
f,e,d){var h=e.type;e.type=f;d?a.event.trigger(e,c,b):a.event.dispatch.call(b,e);e.type=h}var b=a(t),f=a.mobile.support.touch,e=f?"touchstart":"mousedown",h=f?"touchend":"mouseup",l=f?"touchmove":"mousemove";a.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(b,f){a.fn[f]=function(a){return a?this.bind(f,a):this.trigger(f)};a.attrFn&&(a.attrFn[f]=!0)});a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,e){c=e;
d(f,c?"scrollstart":"scrollstop",a)}var f=this,c,e;a(f).bind("touchmove scroll",function(f){a.event.special.scrollstart.enabled&&(c||b(f,!0),clearTimeout(e),e=setTimeout(function(){b(f,!1)},50))})},teardown:function(){a(this).unbind("touchmove scroll")}};a.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var f=this,c=a(f),e=!1;c.bind("vmousedown",function(h){function l(){clearTimeout(t)}function g(){l();c.unbind("vclick",k).unbind("vmouseup",l);b.unbind("vmousecancel",
g)}function k(a){g();e||n!==a.target?e&&a.preventDefault():d(f,"tap",a)}e=!1;if(h.which&&1!==h.which)return!1;var n=h.target,t;c.bind("vmouseup",l).bind("vclick",k);b.bind("vmousecancel",g);t=setTimeout(function(){a.event.special.tap.emitTapOnTaphold||(e=!0);d(f,"taphold",a.Event("taphold",{target:n}))},a.event.special.tap.tapholdThreshold)})},teardown:function(){a(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup");b.unbind("vmousecancel")}};a.event.special.swipe={scrollSupressionThreshold:30,
durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(a){var b=g.pageXOffset,f=g.pageYOffset,c=a.clientX,e=a.clientY;if(0===a.pageY&&Math.floor(e)>Math.floor(a.pageY)||0===a.pageX&&Math.floor(c)>Math.floor(a.pageX))c-=b,e-=f;else if(e<a.pageY-f||c<a.pageX-b)c=a.pageX-b,e=a.pageY-f;return{x:c,y:e}},start:function(b){var f=a.event.special.swipe.getLocation(b.originalEvent.touches?b.originalEvent.touches[0]:b);return{time:(new Date).getTime(),coords:[f.x,
f.y],origin:a(b.target)}},stop:function(b){b=a.event.special.swipe.getLocation(b.originalEvent.touches?b.originalEvent.touches[0]:b);return{time:(new Date).getTime(),coords:[b.x,b.y]}},handleSwipe:function(b,f,c,e){if(f.time-b.time<a.event.special.swipe.durationThreshold&&Math.abs(b.coords[0]-f.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(b.coords[1]-f.coords[1])<a.event.special.swipe.verticalDistanceThreshold){var h=b.coords[0]>f.coords[0]?"swipeleft":"swiperight";d(c,"swipe",
a.Event("swipe",{target:e,swipestart:b,swipestop:f}),!0);d(c,h,a.Event(h,{target:e,swipestart:b,swipestop:f}),!0);return!0}return!1},eventInProgress:!1,setup:function(){var f,c=this,d=a(c),g={};f=a.data(this,"mobile-events");f||(f={length:0},a.data(this,"mobile-events",f));f.length++;f.swipe=g;g.start=function(f){if(!a.event.special.swipe.eventInProgress){a.event.special.swipe.eventInProgress=!0;var e,d=a.event.special.swipe.start(f),m=f.target,q=!1;g.move=function(b){d&&!b.isDefaultPrevented()&&
(e=a.event.special.swipe.stop(b),!q&&(q=a.event.special.swipe.handleSwipe(d,e,c,m))&&(a.event.special.swipe.eventInProgress=!1),Math.abs(d.coords[0]-e.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault())};g.stop=function(){q=!0;a.event.special.swipe.eventInProgress=!1;b.off(l,g.move);g.move=null};b.on(l,g.move).one(h,g.stop)}};d.on(e,g.start)},teardown:function(){var f,c;if(f=a.data(this,"mobile-events"))c=f.swipe,delete f.swipe,f.length--,0===f.length&&a.removeData(this,
"mobile-events");c&&(c.start&&a(this).off(e,c.start),c.move&&b.off(l,c.move),c.stop&&b.off(h,c.stop))}};a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(b,f){a.event.special[b]={setup:function(){a(this).bind(f,a.noop)},teardown:function(){a(this).unbind(f)}}})})(k,this);(function(a){a.event.special.throttledresize={setup:function(){a(this).bind("resize",g)},teardown:function(){a(this).unbind("resize",g)}};var g=function(){b=(new Date).getTime();
f=b-c;250<=f?(c=b,a(this).trigger("throttledresize")):(d&&clearTimeout(d),d=setTimeout(g,250-f))},c=0,d,b,f})(k);(function(a,g){function c(){var a=b();a!==f&&(f=a,d.trigger("orientationchange"))}var d=a(g),b,f,e,h,l={0:!0,180:!0};a.support.orientation&&(e=g.innerWidth||d.width(),h=g.innerHeight||d.height(),e=e>h&&50<e-h,h=l[g.orientation],e&&h||!e&&!h)&&(l={"-90":!0,90:!0});a.event.special.orientationchange=a.extend({},a.event.special.orientationchange,{setup:function(){if(a.support.orientation&&
!a.event.special.orientationchange.disabled)return!1;f=b();d.bind("throttledresize",c)},teardown:function(){if(a.support.orientation&&!a.event.special.orientationchange.disabled)return!1;d.unbind("throttledresize",c)},add:function(a){var f=a.handler;a.handler=function(a){a.orientation=b();return f.apply(this,arguments)}}});a.event.special.orientationchange.orientation=b=function(){var b=!0,b=t.documentElement;return(b=a.support.orientation?l[g.orientation]:b&&1.1>b.clientWidth/b.clientHeight)?"portrait":
"landscape"};a.fn.orientationchange=function(a){return a?this.bind("orientationchange",a):this.trigger("orientationchange")};a.attrFn&&(a.attrFn.orientationchange=!0)})(k,this);(function(a,g){var c=a("head").children("base"),d={element:c.length?c:a("<base>",{href:a.mobile.path.documentBase.hrefNoHash}).prependTo(a("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(b){a.mobile.dynamicBaseEnabled&&a.support.dynamicBaseTag&&d.element.attr("href",
a.mobile.path.makeUrlAbsolute(b,a.mobile.path.documentBase))},rewrite:function(b,f){var c=a.mobile.path.get(b);f.find(d.linkSelector).each(function(b,f){var d=a(f).is("[href]")?"href":a(f).is("[src]")?"src":"action",g=a.mobile.path.parseLocation(),q=a(f).attr(d),q=q.replace(g.protocol+g.doubleSlash+g.host+g.pathname,"");/^(\w+:|#|\/)/.test(q)||a(f).attr(d,c+q)})},reset:function(){d.element.attr("href",a.mobile.path.documentBase.hrefNoSearch)}};a.mobile.base=d})(k);(function(a,g){a.mobile.widgets=
{};var c=a.widget,d=a.mobile.keepNative;a.widget=function(b){return function(){var f=b.apply(this,arguments),c=f.prototype.widgetName;f.initSelector=f.prototype.initSelector!==g?f.prototype.initSelector:":jqmData(role='"+c+"')";return a.mobile.widgets[c]=f}}(a.widget);a.extend(a.widget,c);a.mobile.document.on("create",function(b){a(b.target).enhanceWithin()});a.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:a.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){a.Widget.prototype._createWidget.apply(this,
arguments);this._trigger("init")},_create:function(){if(!1===this._trigger("beforecreate"))return!1;this.options.enhanced||this._enhance();this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"});this.element.enhanceWithin();"dialog"===a.mobile.getAttribute(this.element[0],"role")&&a.mobile.dialog&&this.element.dialog()},_enhance:function(){var b="data-"+a.mobile.ns,f=this;this.options.role&&this.element.attr("data-"+a.mobile.ns+"role",this.options.role);
this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme);this.element.find("["+b+"role='content']").each(function(){var c=a(this),d=this.getAttribute(b+"theme")||g;f.options.contentTheme=d||f.options.contentTheme||f.options.dialog&&f.options.theme||"dialog"===f.element.jqmData("role")&&f.options.theme;c.addClass("ui-content");f.options.contentTheme&&c.addClass("ui-body-"+f.options.contentTheme);c.attr("role","main").addClass("ui-content")})},bindRemove:function(b){var f=
this.element;!f.data("mobile-page").options.domCache&&f.is(":jqmData(external-page='true')")&&f.bind("pagehide.remove",b||function(b,f){if(!f.samePage){var c=a(this),d=new a.Event("pageremove");c.trigger(d);d.isDefaultPrevented()||c.removeWithDependents()}})},_setOptions:function(b){b.theme!==g&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+b.theme);b.contentTheme!==g&&this.element.find("[data-"+a.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+
b.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(a){this.element.parent().pagecontainer({theme:a||this.options.theme})},keepNativeSelector:function(){var b=this.options,f=a.trim(b.keepNative||""),c=a.trim(a.mobile.keepNative),b=a.trim(b.keepNativeDefault),c=d===c?"":c,b=""===c?b:"";return(f?[f]:[]).concat(c?[c]:[]).concat(b?
[b]:[]).join(", ")}})})(k);(function(a,g){a.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this._trigger("beforecreate");this.setLastScrollEnabled=!0;this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"});this._on(this.window,{navigate:"_filterNavigateEvents"});this._on({pagechange:"_afterContentChange"});this.window.one("navigate",a.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(a){a.theme!==g&&
"none"!==a.theme?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+a.theme):a.theme!==g&&this.element.removeClass("ui-overlay-"+this.options.theme);this._super(a)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0;this._off(this.window,"scrollstop");this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var a=
this._getActiveHistory(),f,c,d;a&&(f=this._getScroll(),c=this._getMinScroll(),d=this._getDefaultScroll(),a.lastScroll=f<c?d:f)}},_delayedRecordScroll:function(){setTimeout(a.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return a.mobile.minScrollBack},_getDefaultScroll:function(){return a.mobile.defaultHomeScroll},_filterNavigateEvents:function(b,f){var c;b.originalEvent&&b.originalEvent.isDefaultPrevented()||((c=-1<b.originalEvent.type.indexOf("hashchange")?
f.state.hash:f.state.url)||(c=this._getHash()),c&&"#"!==c&&0!==c.indexOf("#"+a.mobile.path.uiStateKey)||(c=location.href),this._handleNavigate(c,f.state))},_getHash:function(){return a.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return a.mobile.firstPage},_getHistory:function(){return a.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return a.mobile.path.documentBase},
back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(b){if(a.mobile.hashListeningEnabled)n.history.go(b);else{var f=a.mobile.navigate.history.activeIndex,c=f+parseInt(b,10),d=a.mobile.navigate.history.stack[c].url;a.mobile.navigate.history.activeIndex=c;a.mobile.navigate.history.previousIndex=f;this.change(d,{direction:1<=b?"forward":"back",changeHash:!1,fromHashChange:!0})}},_handleDestination:function(b){"string"===a.type(b)&&(b=a.mobile.path.stripHash(b));b&&(this._getHistory(),
b=a.mobile.path.isPath(b)?b:a.mobile.path.makeUrlAbsolute("#"+b,this._getDocumentBase()));return b||this._getInitialContent()},_transitionFromHistory:function(a,f){var c=this._getHistory();return(c="back"===a?c.getLast():c.getActive())&&c.transition||f},_handleDialog:function(b,f){var c,d;if((c=this.getActivePage())&&!c.data("mobile-dialog"))return"back"===f.direction?this.back():this.forward(),!1;c=f.pageUrl;d=this._getActiveHistory();a.extend(b,{role:d.role,transition:this._transitionFromHistory(f.direction,
b.transition),reverse:"back"===f.direction});return c},_handleNavigate:function(b,f){var c=a.mobile.path.stripHash(b),d=this._getHistory(),l=0===d.stack.length?"none":this._transitionFromHistory(f.direction),m={changeHash:!1,fromHashChange:!0,reverse:"back"===f.direction};a.extend(m,f,{transition:l});if(0<d.activeIndex&&-1<c.indexOf(a.mobile.dialogHashKey)&&(c=this._handleDialog(m,f),!1===c))return;this._changeContent(this._handleDestination(c),m)},_changeContent:function(b,f){a.mobile.changePage(b,
f)},_getBase:function(){return a.mobile.base},_getNs:function(){return a.mobile.ns},_enhance:function(a,f){return a.page({role:f})},_include:function(a,f){a.appendTo(this.element);this._enhance(a,f.role);a.page("bindRemove")},_find:function(b){var f=this._createFileUrl(b);b=this._createDataUrl(b);var c,d=this._getInitialContent();c=this.element.children("[data-"+this._getNs()+"url='"+a.mobile.path.hashToSelector(b)+"']");0===c.length&&b&&!a.mobile.path.isPath(b)&&(c=this.element.children(a.mobile.path.hashToSelector("#"+
b)).attr("data-"+this._getNs()+"url",b).jqmData("url",b));0===c.length&&a.mobile.path.isFirstPageUrl(f)&&d&&d.parent().length&&(c=a(d));return c},_getLoader:function(){return a.mobile.loading()},_showLoading:function(b,f,c,d){this._loadMsg||(this._loadMsg=setTimeout(a.proxy(function(){this._getLoader().loader("show",f,c,d);this._loadMsg=0},this),b))},_hideLoading:function(){clearTimeout(this._loadMsg);this._loadMsg=0;this._getLoader().loader("hide")},_showError:function(){this._hideLoading();this._showLoading(0,
a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,!0);setTimeout(a.proxy(this,"_hideLoading"),1500)},_parse:function(b,f){var c;c=a("<div></div>");c.get(0).innerHTML=b;c=c.find(":jqmData(role='page'), :jqmData(role='dialog')").first();c.length||(c=a("<div data-"+this._getNs()+"role='page'>"+(b.split(/<\/?body[^>]*>/gmi)[1]||"")+"</div>"));c.attr("data-"+this._getNs()+"url",this._createDataUrl(f)).attr("data-"+this._getNs()+"external-page",!0);return c},_setLoadedTitle:function(b,f){var c=
f.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;c&&!b.jqmData("title")&&(c=a("<div>"+c+"</div>").text(),b.jqmData("title",c))},_isRewritableBaseTag:function(){return a.mobile.dynamicBaseEnabled&&!a.support.dynamicBaseTag},_createDataUrl:function(b){return a.mobile.path.convertUrlToDataUrl(b)},_createFileUrl:function(b){return a.mobile.path.getFilePath(b)},_triggerWithDeprecated:function(b,c,e){var d=a.Event("page"+b),l=a.Event(this.widgetName+b);(e||this.element).trigger(d,c);this._trigger(b,l,c);return{deprecatedEvent:d,
event:l}},_loadSuccess:function(b,c,e,d){var l=this._createFileUrl(b);return a.proxy(function(m,p,q){var k;k=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)");var n=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");k.test(m)&&RegExp.$1&&n.test(RegExp.$1)&&RegExp.$1&&(l=a.mobile.path.getFilePath(a("<div>"+RegExp.$1+"</div>").text()),l=this.window[0].encodeURIComponent(l));e.prefetch===g&&this._getBase().set(l);k=this._parse(m,l);this._setLoadedTitle(k,m);c.xhr=
q;c.textStatus=p;c.page=k;c.content=k;c.toPage=k;this._triggerWithDeprecated("load",c).event.isDefaultPrevented()||(this._isRewritableBaseTag()&&k&&this._getBase().rewrite(l,k),this._include(k,e),e.showLoadMsg&&this._hideLoading(),d.resolve(b,e,k))},this)},_loadDefaults:{type:"get",data:g,reloadPage:!1,reload:!1,role:g,showLoadMsg:!1,loadMsgDelay:50},load:function(b,c){var e=c&&c.deferred||a.Deferred(),d=a.extend({},this._loadDefaults,c,c&&c.reload===g&&c.reloadPage!==g?{reload:c.reloadPage}:{}),
l=null,m=a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault()),p,q;d.data&&"get"===d.type&&(m=a.mobile.path.addSearchParams(m,d.data),d.data=g);d.data&&"post"===d.type&&(d.reload=!0);p=this._createFileUrl(m);q=this._createDataUrl(m);l=this._find(m);if(0===l.length&&a.mobile.path.isEmbeddedPage(p)&&!a.mobile.path.isFirstPageUrl(p))return e.reject(m,d),e.promise();this._getBase().reset();if(l.length&&!d.reload)return this._enhance(l,d.role),e.resolve(m,d,l),d.prefetch||this._getBase().set(b),
e.promise();q={url:b,absUrl:m,toPage:b,prevPage:c?c.fromPage:g,dataUrl:q,deferred:e,options:d};l=this._triggerWithDeprecated("beforeload",q);if(l.deprecatedEvent.isDefaultPrevented()||l.event.isDefaultPrevented())return e.promise();d.showLoadMsg&&this._showLoading(d.loadMsgDelay);d.prefetch===g&&this._getBase().reset();if(!a.mobile.allowCrossDomainPages&&!a.mobile.path.isSameDomain(a.mobile.path.documentUrl,m))return e.reject(m,d),e.promise();a.ajax({url:p,type:d.type,data:d.data,contentType:d.contentType,
dataType:"html",success:this._loadSuccess(m,q,d,e),error:this._loadError(m,q,d,e)});return e.promise()},_loadError:function(b,c,d,h){return a.proxy(function(l,m,g){this._getBase().set(a.mobile.path.get());c.xhr=l;c.textStatus=m;c.errorThrown=g;l=this._triggerWithDeprecated("loadfailed",c);l.deprecatedEvent.isDefaultPrevented()||l.event.isDefaultPrevented()||(d.showLoadMsg&&this._showError(),h.reject(b,d))},this)},_getTransitionHandler:function(b){b=a.mobile._maybeDegradeTransition(b);return a.mobile.transitionHandlers[b]||
a.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(b,c,d){var h=!1;d=d||"";c&&(b[0]===c[0]&&(h=!0),this._triggerWithDeprecated(d+"hide",{nextPage:b,toPage:b,prevPage:c,samePage:h},c));this._triggerWithDeprecated(d+"show",{prevPage:c||a(""),toPage:b},b)},_cssTransition:function(b,c,d){var h=d.transition,l=d.reverse,m=d.deferred;this._triggerCssTransitionEvents(b,c,"before");this._hideLoading();d=(new (this._getTransitionHandler(h))(h,l,b,c)).transition();d.done(a.proxy(function(){this._triggerCssTransitionEvents(b,
c)},this));d.done(function(){m.resolve.apply(m,arguments)})},_releaseTransitionLock:function(){d=!1;0<c.length&&a.mobile.changePage.apply(null,c.pop())},_removeActiveLinkClass:function(b){a.mobile.removeActiveLinkClass(b)},_loadUrl:function(b,c,e){e.target=b;e.deferred=a.Deferred();this.load(b,e);e.deferred.done(a.proxy(function(a,b,e){d=!1;b.absUrl=c.absUrl;this.transition(e,c,b)},this));e.deferred.fail(a.proxy(function(){this._removeActiveLinkClass(!0);this._releaseTransitionLock();this._triggerWithDeprecated("changefailed",
c)},this))},_triggerPageBeforeChange:function(b,c,d){c.prevPage=this.activePage;a.extend(c,{toPage:b,options:d});"string"===a.type(b)?c.absUrl=a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault()):c.absUrl=d.absUrl;b=this._triggerWithDeprecated("beforechange",c);return b.event.isDefaultPrevented()||b.deprecatedEvent.isDefaultPrevented()?!1:!0},change:function(b,f){if(d)c.unshift(arguments);else{var e=a.extend({},a.mobile.changePage.defaults,f),h={};e.fromPage=e.fromPage||this.activePage;this._triggerPageBeforeChange(b,
h,e)&&(b=h.toPage,"string"===a.type(b)?(d=!0,this._loadUrl(b,h,e)):this.transition(b,h,e))}},transition:function(b,f,e){var h,l,m,p,q,k,n,w,y,z;if(d)c.unshift([b,e]);else if(this._triggerPageBeforeChange(b,f,e)&&(f.prevPage=e.fromPage,h=this._triggerWithDeprecated("beforetransition",f),!h.deprecatedEvent.isDefaultPrevented()&&!h.event.isDefaultPrevented()))if(d=!0,b[0]!==a.mobile.firstPage[0]||e.dataUrl||(e.dataUrl=a.mobile.path.documentUrl.hrefNoHash),h=e.fromPage,m=l=e.dataUrl&&a.mobile.path.convertUrlToDataUrl(e.dataUrl)||
b.jqmData("url"),a.mobile.path.getFilePath(l),p=a.mobile.navigate.history.getActive(),q=0===a.mobile.navigate.history.activeIndex,k=0,n=t.title,w=("dialog"===e.role||"dialog"===b.jqmData("role"))&&!0!==b.jqmData("dialog"),h&&h[0]===b[0]&&!e.allowSamePageTransition)d=!1,this._triggerWithDeprecated("transition",f),this._triggerWithDeprecated("change",f),e.fromHashChange&&a.mobile.navigate.history.direct({url:l});else{b.page({role:e.role});e.fromHashChange&&(k="back"===e.direction?-1:1);try{t.activeElement&&
"body"!==t.activeElement.nodeName.toLowerCase()?a(t.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(C){}y=!1;w&&p&&(p.url&&-1<p.url.indexOf(a.mobile.dialogHashKey)&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&0<a.mobile.navigate.history.activeIndex&&(e.changeHash=!1,y=!0),l=p.url||"",l=!y&&-1<l.indexOf("#")?l+a.mobile.dialogHashKey:l+("#"+a.mobile.dialogHashKey));(z=p?b.jqmData("title")||b.children(":jqmData(role='header')").find(".ui-title").text():
n)&&n===t.title&&(n=z);b.jqmData("title")||b.jqmData("title",n);e.transition=e.transition||(k&&!q?p.transition:g)||(w?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition);!k&&y&&(a.mobile.navigate.history.getActive().pageUrl=m);l&&!e.fromHashChange&&(!a.mobile.path.isPath(l)&&0>l.indexOf("#")&&(l="#"+l),m={transition:e.transition,title:n,pageUrl:m,role:e.role},!1!==e.changeHash&&a.mobile.hashListeningEnabled?a.mobile.navigate(this.window[0].encodeURI(l),m,!0):b[0]!==a.mobile.firstPage[0]&&
a.mobile.navigate.history.add(l,m));t.title=n;this.activePage=a.mobile.activePage=b;e.reverse=e.reverse||0>k;l=a.Deferred();this._cssTransition(b,h,{transition:e.transition,reverse:e.reverse,deferred:l});l.done(a.proxy(function(c,d,h,l,m){a.mobile.removeActiveLinkClass();e.duplicateCachedPage&&e.duplicateCachedPage.remove();m||a.mobile.focusPage(b);this._releaseTransitionLock();this._triggerWithDeprecated("transition",f);this._triggerWithDeprecated("change",f)},this))}},_findBaseWithDefault:function(){return this.activePage&&
a.mobile.getClosestBaseUrl(this.activePage)||a.mobile.path.documentBase.hrefNoHash}});a.mobile.navreadyDeferred=a.Deferred();var c=[],d=!1})(k);(function(a,g){function c(a){for(;a&&("string"!==typeof a.nodeName||"a"!==a.nodeName.toLowerCase());)a=a.parentNode;return a}var d=a.Deferred(),b=a.Deferred(),f=function(){b.resolve();b=null},e=a.mobile.path.documentUrl,h=null;a.mobile.loadPage=function(b,c){var f;c=c||{};f=c.pageContainer||a.mobile.pageContainer;c.deferred=a.Deferred();f.pagecontainer("load",
b,c);return c.deferred.promise()};a.mobile.back=function(){var b=n.navigator;this.phonegapNavigationEnabled&&b&&b.app&&b.app.backHistory?b.app.backHistory():a.mobile.pageContainer.pagecontainer("back")};a.mobile.focusPage=function(a){var b=a.find("[autofocus]"),c=a.find(".ui-title:eq(0)");b.length?b.focus():c.length?c.focus():a.focus()};a.mobile._maybeDegradeTransition=a.mobile._maybeDegradeTransition||function(a){return a};a.mobile.changePage=function(b,c){a.mobile.pageContainer.pagecontainer("change",
b,c)};a.mobile.changePage.defaults={transition:g,reverse:!1,changeHash:!0,fromHashChange:!1,role:g,duplicateCachedPage:g,pageContainer:g,showLoadMsg:!0,dataUrl:g,fromPage:g,allowSamePageTransition:!1};a.mobile._registerInternalEvents=function(){var f=function(b,c){var f,d=!0,l,g;if(!a.mobile.ajaxEnabled||b.is(":jqmData(ajax='false')")||!b.jqmHijackable().length||b.attr("target"))return!1;f=h&&h.attr("formaction")||b.attr("action");g=(b.attr("method")||"get").toLowerCase();f||(f=a.mobile.getClosestBaseUrl(b),
"get"===g&&(f=a.mobile.path.parseUrl(f).hrefNoSearch),f===a.mobile.path.documentBase.hrefNoHash&&(f=e.hrefNoSearch));f=a.mobile.path.makeUrlAbsolute(f,a.mobile.getClosestBaseUrl(b));if(a.mobile.path.isExternal(f)&&!a.mobile.path.isPermittedCrossDomainRequest(e,f))return!1;c||(d=b.serializeArray(),h&&h[0].form===b[0]&&(l=h.attr("name"))&&(a.each(d,function(a,b){if(b.name===l)return l="",!1}),l&&d.push({name:l,value:h.attr("value")})),d={url:f,options:{type:g,data:a.param(d),transition:b.jqmData("transition"),
reverse:"reverse"===b.jqmData("direction"),reloadPage:!0}});return d};a.mobile.document.delegate("form","submit",function(b){var c;!b.isDefaultPrevented()&&(c=f(a(this)))&&(a.mobile.changePage(c.url,c.options),b.preventDefault())});a.mobile.document.bind("vclick",function(b){var d,e=b.target,g=!1;if(!(1<b.which)&&a.mobile.linkBindingEnabled){h=a(e);if(a.data(e,"mobile-button")){if(!f(a(e).closest("form"),!0))return;e.parentNode&&(e=e.parentNode)}else if(e=c(e),!e||"#"===a.mobile.path.parseUrl(e.getAttribute("href")||
"#").hash||!a(e).jqmHijackable().length)return;~e.className.indexOf("ui-link-inherit")?e.parentNode&&(d=a.data(e.parentNode,"buttonElements")):d=a.data(e,"buttonElements");d?e=d.outer:g=!0;b=a(e);g&&(b=b.closest(".ui-btn"));0<b.length&&!b.hasClass("ui-state-disabled")&&(a.mobile.removeActiveLinkClass(!0),a.mobile.activeClickedLink=b,a.mobile.activeClickedLink.addClass(a.mobile.activeBtnClass))}});a.mobile.document.bind("click",function(b){if(a.mobile.linkBindingEnabled&&!b.isDefaultPrevented()){var f=
c(b.target),d=a(f),h=function(){n.setTimeout(function(){a.mobile.removeActiveLinkClass(!0)},200)},l,k;a.mobile.activeClickedLink&&a.mobile.activeClickedLink[0]===b.target.parentNode&&h();if(f&&!(1<b.which)&&d.jqmHijackable().length){if(d.is(":jqmData(rel='back')"))return a.mobile.back(),!1;l=a.mobile.getClosestBaseUrl(d);f=a.mobile.path.makeUrlAbsolute(d.attr("href")||"#",l);if(a.mobile.ajaxEnabled||a.mobile.path.isEmbeddedPage(f)){if(!(-1===f.search("#")||a.mobile.path.isExternal(f)&&a.mobile.path.isAbsoluteUrl(f)))if(f=
f.replace(/[^#]*#/,""))f=a.mobile.path.isPath(f)?a.mobile.path.makeUrlAbsolute(f,l):a.mobile.path.makeUrlAbsolute("#"+f,e.hrefNoHash);else{b.preventDefault();return}(l=(l=d.is("[rel='external']")||d.is(":jqmData(ajax='false')")||d.is("[target]"))||a.mobile.path.isExternal(f)&&!a.mobile.path.isPermittedCrossDomainRequest(e,f))?h():(h=d.jqmData("transition"),l="reverse"===d.jqmData("direction")||d.jqmData("back"),k=d.attr("data-"+a.mobile.ns+"rel")||g,a.mobile.changePage(f,{transition:h,reverse:l,role:k,
link:d}),b.preventDefault())}else h()}}});a.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var b=[];a(this).find("a:jqmData(prefetch)").each(function(){var c=a(this),f=c.attr("href");f&&-1===a.inArray(f,b)&&(b.push(f),a.mobile.loadPage(f,{role:c.attr("data-"+a.mobile.ns+"rel"),prefetch:!0}))})});a.mobile.pageContainer.pagecontainer();a.mobile.document.bind("pageshow",function(){b?b.done(a.mobile.resetActivePageHeight):a.mobile.resetActivePageHeight()});a.mobile.window.bind("throttledresize",
a.mobile.resetActivePageHeight)};a(function(){d.resolve()});"complete"===t.readyState?f():a.mobile.window.load(f);a.when(d,a.mobile.navreadyDeferred).done(function(){a.mobile._registerInternalEvents()})})(k);(function(a,g,c){a.mobile.Transition=function(){this.init.apply(this,arguments)};a.extend(a.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(c,b,f,e){a.extend(this,{name:c,reverse:b,$to:f,$from:e,deferred:new a.Deferred})},cleanFrom:function(){this.$from.removeClass(a.mobile.activePageClass+
" out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn();this.$to.removeClass("out in reverse "+this.name).height("");this.toggleViewportClass();a.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage();this.sequential||this.$to.addClass(a.mobile.activePageClass);this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(a,b,c,e){this.beforeDoneOut();this.startIn(a,
b,c,e)},hideIn:function(a){this.$to.css("z-index",-10);a.call(this);this.$to.css("z-index","")},scrollPage:function(){a.event.special.scrollstart.enabled=!1;(a.mobile.hideUrlBar||this.toScroll!==a.mobile.defaultHomeScroll)&&g.scrollTo(0,this.toScroll);setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},startIn:function(c,b,f,e){this.hideIn(function(){this.$to.addClass(a.mobile.activePageClass+this.toPreClass);e||a.mobile.focusPage(this.$to);this.$to.height(c+this.toScroll);f||this.scrollPage()});
this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+b);f?this.doneIn():this.$to.animationComplete(a.proxy(function(){this.doneIn()},this))},startOut:function(c,b,f){this.beforeStartOut(c,b,f);this.$from.height(c+a.mobile.window.scrollTop()).addClass(this.name+" out"+b)},toggleViewportClass:function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(){var c,b=this.reverse?" reverse":"",f=a.mobile.getScreenHeight();c=!1!==a.mobile.maxTransitionWidth&&
a.mobile.window.width()>a.mobile.maxTransitionWidth;this.toScroll=a.mobile.navigate.history.getActive().lastScroll||a.mobile.defaultHomeScroll;c=!a.support.cssTransitions||!a.support.cssAnimations||c||!this.name||"none"===this.name||Math.max(a.mobile.window.scrollTop(),this.toScroll)>a.mobile.getMaxScrollForTransition();this.toggleViewportClass();this.$from&&!c?this.startOut(f,b,c):this.doneOut(f,b,c,!0);return this.deferred.promise()}})})(k,this);(function(a){a.mobile.SerialTransition=function(){this.init.apply(this,
arguments)};a.extend(a.mobile.SerialTransition.prototype,a.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(g,c,d){this.$from.animationComplete(a.proxy(function(){this.doneOut(g,c,d)},this))}})})(k);(function(a){a.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)};a.extend(a.mobile.ConcurrentTransition.prototype,a.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},
beforeStartOut:function(a,c,d){this.doneOut(a,c,d)}})})(k);(function(a){a.mobile.transitionHandlers={sequential:a.mobile.SerialTransition,simultaneous:a.mobile.ConcurrentTransition};a.mobile.defaultTransitionHandler=a.mobile.transitionHandlers.sequential;a.mobile.transitionFallbacks={};a.mobile._maybeDegradeTransition=function(g){g&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[g]&&(g=a.mobile.transitionFallbacks[g]);return g};a.mobile.getMaxScrollForTransition=a.mobile.getMaxScrollForTransition||
function(){return 3*a.mobile.getScreenHeight()}})(k);k.mobile.transitionFallbacks.flip="fade";k.mobile.transitionFallbacks.flow="fade";k.mobile.transitionFallbacks.pop="fade";(function(a,g,c){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous;a.mobile.transitionFallbacks.slide="fade"})(k,this);k.mobile.transitionFallbacks.slidedown="fade";k.mobile.transitionFallbacks.slidefade="fade";k.mobile.transitionFallbacks.slideup="fade";k.mobile.transitionFallbacks.turn="fade";(function(a,
g){a.mobile.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1};a.mobile.page.prototype.options.degradeInputs=a.mobile.degradeInputs;a.mobile.degradeInputsWithin=function(c){c=a(c);c.find("input").not(a.mobile.page.prototype.keepNativeSelector()).each(function(){var c=a(this),b=this.getAttribute("type"),f=a.mobile.degradeInputs[b]||"text",e,h,l;a.mobile.degradeInputs[b]&&(e=a("<div>").html(c.clone()).html(),
l=(h=-1<e.indexOf(" type="))?/\s+type=["']?\w+['"]?/:/\/?>/,b=' type="'+f+'" data-'+a.mobile.ns+'type="'+b+'"'+(h?"":">"),c.replaceWith(e.replace(l,b)))})}})(k);(function(a,g,c){a.widget("mobile.page",a.mobile.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,dialog:!1},_create:function(){this._super();this.options.dialog&&(a.extend(this,{_inner:this.element.children(),_headerCloseButton:null}),this.options.enhanced||this._setCloseBtn(this.options.closeBtn))},_enhance:function(){this._super();
this.options.dialog&&this.element.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(this.options.corners?" ui-corner-all":"")}))},_setOptions:function(d){var b,f,e=this.options;d.corners!==c&&this._inner.toggleClass("ui-corner-all",!!d.corners);d.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&(e.overlayTheme=d.overlayTheme,this._handlePageBeforeShow());d.closeBtnText!==c&&(b=e.closeBtn,f=d.closeBtnText);d.closeBtn!==c&&(b=d.closeBtn);
b&&this._setCloseBtn(b,f);this._super(d)},_handlePageBeforeShow:function(){this.options.overlayTheme&&this.options.dialog?(this.removeContainerBackground(),this.setContainerBackground(this.options.overlayTheme)):this._super()},_setCloseBtn:function(c,b){var f;f=this._headerCloseButton;c="left"===c?"left":"right"===c?"right":"none";"none"===c?f&&(f.remove(),f=null):f?(f.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+c),b&&f.text(b)):(f=this._inner.find(":jqmData(role='header')").first(),
f=a("<a></a>",{href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+c}).attr("data-"+a.mobile.ns+"rel","back").text(b||this.options.closeBtnText||"").prependTo(f));this._headerCloseButton=f}})})(k,this);(function(a,g,c){a.widget("mobile.dialog",{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0},_handlePageBeforeShow:function(){this._isCloseable=!0;this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",
this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_handleVClickSubmit:function(c){var b=a(c.target).closest("vclick"===c.type?"a":"form");b.length&&!b.jqmData("transition")&&(c={},c["data-"+a.mobile.ns+"transition"]=(a.mobile.navigate.history.getActive()||{}).transition||a.mobile.defaultDialogTransition,c["data-"+a.mobile.ns+"direction"]="reverse",b.attr(c))},_create:function(){var c=this.element,b=this.options;c.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog",
"class":"ui-dialog-contain ui-overlay-shadow"+(b.corners?" ui-corner-all":"")}));a.extend(this,{_isCloseable:!1,_inner:c.children(),_headerCloseButton:null});this._on(c,{vclick:"_handleVClickSubmit",submit:"_handleVClickSubmit",pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"});this._setCloseBtn(b.closeBtn)},_setOptions:function(d){var b,f,e=this.options;d.corners!==c&&this._inner.toggleClass("ui-corner-all",!!d.corners);d.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&
(e.overlayTheme=d.overlayTheme,this._handlePageBeforeShow());d.closeBtnText!==c&&(b=e.closeBtn,f=d.closeBtnText);d.closeBtn!==c&&(b=d.closeBtn);b&&this._setCloseBtn(b,f);this._super(d)},_setCloseBtn:function(c,b){var f;f=this._headerCloseButton;c="left"===c?"left":"right"===c?"right":"none";"none"===c?f&&(f.remove(),f=null):f?(f.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+c),b&&f.text(b)):(f=this._inner.find(":jqmData(role='header')").first(),f=a("<a></a>",{role:"button",href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+
c}).text(b||this.options.closeBtnText||"").prependTo(f),this._on(f,{click:"close"}));this._headerCloseButton=f},close:function(){var c=a.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,a.mobile.hashListeningEnabled&&0<c.activeIndex?a.mobile.back():a.mobile.pageContainer.pagecontainer("back"))}})})(k,this);(function(a,g){var c=/([A-Z])/g,d=function(a){return"ui-btn-icon-"+(null===a?"left":a)};a.widget("mobile.collapsible",{options:{enhanced:!1,expandCueText:null,collapseCueText:null,
collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:null,expandedIcon:null,iconpos:null,theme:null,contentTheme:null,inset:null,corners:null,mini:null},_create:function(){var b=this.element,c={accordion:b.closest(":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')"+(a.mobile.collapsibleset?", :mobile-collapsibleset":"")).addClass("ui-collapsible-set")};this._ui=c;this._renderedOptions=this._getOptions(this.options);this.options.enhanced?(c.heading=this.element.children(".ui-collapsible-heading"),
c.content=c.heading.next(),c.anchor=c.heading.children(),c.status=c.anchor.children(".ui-collapsible-heading-status")):this._enhance(b,c);this._on(c.heading,{tap:function(){c.heading.find("a").first().addClass(a.mobile.activeBtnClass)},click:function(a){this._handleExpandCollapse(!c.heading.hasClass("ui-collapsible-heading-collapsed"));a.preventDefault();a.stopPropagation()}})},_getOptions:function(b){var f,d=this._ui.accordion,h=this._ui.accordionWidget;b=a.extend({},b);d.length&&!h&&(this._ui.accordionWidget=
h=d.data("mobile-collapsibleset"));for(f in b)b[f]=null!=b[f]?b[f]:h?h.options[f]:d.length?a.mobile.getAttribute(d[0],f.replace(c,"-$1").toLowerCase()):null,null==b[f]&&(b[f]=a.mobile.collapsible.defaults[f]);return b},_themeClassFromOption:function(a,c){return c?"none"===c?"":a+c:""},_enhance:function(b,c){var e,h=this._renderedOptions;e=this._themeClassFromOption("ui-body-",h.contentTheme);b.addClass("ui-collapsible "+(h.inset?"ui-collapsible-inset ":"")+(h.inset&&h.corners?"ui-corner-all ":"")+
(e?"ui-collapsible-themed-content ":""));c.originalHeading=b.children(this.options.heading).first();c.content=b.wrapInner("<div class='ui-collapsible-content "+e+"'></div>").children(".ui-collapsible-content");c.heading=c.originalHeading;c.heading.is("legend")&&(c.heading=a("<div role='heading'>"+c.heading.html()+"</div>"),c.placeholder=a("<div>\x3c!-- placeholder for legend --\x3e</div>").insertBefore(c.originalHeading),c.originalHeading.remove());e=h.collapsed?h.collapsedIcon?"ui-icon-"+h.collapsedIcon:
"":h.expandedIcon?"ui-icon-"+h.expandedIcon:"";c.status=a("<span class='ui-collapsible-heading-status'></span>");c.anchor=c.heading.detach().addClass("ui-collapsible-heading").append(c.status).wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().addClass("ui-btn "+(e?e+" ":"")+(e?d(h.iconpos)+" ":"")+this._themeClassFromOption("ui-btn-",h.theme)+" "+(h.mini?"ui-mini ":""));c.heading.insertBefore(c.content);this._handleExpandCollapse(this.options.collapsed);return c},
refresh:function(){this._applyOptions(this.options);this._renderedOptions=this._getOptions(this.options)},_applyOptions:function(a){var c,e,h=this.element,l=this._renderedOptions,m=this._ui,p=m.anchor;c=m.status;var k=this._getOptions(a);a.collapsed!==g&&this._handleExpandCollapse(a.collapsed);(a=h.hasClass("ui-collapsible-collapsed"))?k.expandCueText!==g&&c.text(k.expandCueText):k.collapseCueText!==g&&c.text(k.collapseCueText);c=k.collapsedIcon!==g?!1!==k.collapsedIcon:!1!==l.collapsedIcon;if(k.iconpos!==
g||k.collapsedIcon!==g||k.expandedIcon!==g)p.removeClass([d(l.iconpos)].concat(l.expandedIcon?["ui-icon-"+l.expandedIcon]:[]).concat(l.collapsedIcon?["ui-icon-"+l.collapsedIcon]:[]).join(" ")),c&&p.addClass([d(k.iconpos!==g?k.iconpos:l.iconpos)].concat(a?["ui-icon-"+(k.collapsedIcon!==g?k.collapsedIcon:l.collapsedIcon)]:["ui-icon-"+(k.expandedIcon!==g?k.expandedIcon:l.expandedIcon)]).join(" "));k.theme!==g&&(c=this._themeClassFromOption("ui-btn-",l.theme),a=this._themeClassFromOption("ui-btn-",k.theme),
p.removeClass(c).addClass(a));k.contentTheme!==g&&(c=this._themeClassFromOption("ui-body-",l.contentTheme),a=this._themeClassFromOption("ui-body-",k.contentTheme),m.content.removeClass(c).addClass(a));k.inset!==g&&(h.toggleClass("ui-collapsible-inset",k.inset),e=!(!k.inset||!k.corners&&!l.corners));k.corners!==g&&(e=!(!k.corners||!k.inset&&!l.inset));e!==g&&h.toggleClass("ui-corner-all",e);k.mini!==g&&p.toggleClass("ui-mini",k.mini)},_setOptions:function(a){this._applyOptions(a);this._super(a);this._renderedOptions=
this._getOptions(this.options)},_handleExpandCollapse:function(b){var c=this._renderedOptions,d=this._ui;d.status.text(b?c.expandCueText:c.collapseCueText);d.heading.toggleClass("ui-collapsible-heading-collapsed",b).find("a").first().toggleClass("ui-icon-"+c.expandedIcon,!b).toggleClass("ui-icon-"+c.collapsedIcon,b||c.expandedIcon===c.collapsedIcon).removeClass(a.mobile.activeBtnClass);this.element.toggleClass("ui-collapsible-collapsed",b);d.content.toggleClass("ui-collapsible-content-collapsed",
b).attr("aria-hidden",b).trigger("updatelayout");this.options.collapsed=b;this._trigger(b?"collapse":"expand")},expand:function(){this._handleExpandCollapse(!1)},collapse:function(){this._handleExpandCollapse(!0)},_destroy:function(){var a=this._ui;this.options.enhanced||(a.placeholder?(a.originalHeading.insertBefore(a.placeholder),a.placeholder.remove(),a.heading.remove()):(a.status.remove(),a.heading.removeClass("ui-collapsible-heading ui-collapsible-heading-collapsed").children().contents().unwrap()),
a.anchor.contents().unwrap(),a.content.contents().unwrap(),this.element.removeClass("ui-collapsible ui-collapsible-collapsed ui-collapsible-themed-content ui-collapsible-inset ui-corner-all"))}});a.mobile.collapsible.defaults={expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsedIcon:"plus",contentTheme:"inherit",expandedIcon:"minus",iconpos:"left",inset:!0,corners:!0,theme:"inherit",mini:!1}})(k);(function(a,g){function c(b){var c,e=b.length,h=[];for(c=
0;c<e;c++)b[c].className.match(d)||h.push(b[c]);return a(h)}var d=/\bui-screen-hidden\b/;a.mobile.behaviors.addFirstLastClasses={_getVisibles:function(a,f){var d;f?d=c(a):(d=a.filter(":visible"),0===d.length&&(d=c(a)));return d},_addFirstLastClasses:function(a,c,d){a.removeClass("ui-first-child ui-last-child");c.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child");d||this.element.trigger("updatelayout")},_removeFirstLastClasses:function(a){a.removeClass("ui-first-child ui-last-child")}}})(k);
(function(a,g){var c=":mobile-collapsible, "+a.mobile.collapsible.initSelector;a.widget("mobile.collapsibleset",a.extend({initSelector:":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')",options:a.extend({enhanced:!1},a.mobile.collapsible.defaults),_handleCollapsibleExpand:function(c){c=a(c.target).closest(".ui-collapsible");c.parent().is(":mobile-collapsibleset, :jqmData(role='collapsible-set')")&&c.siblings(".ui-collapsible:not(.ui-collapsible-collapsed)").collapsible("collapse")},
_create:function(){var c=this.element,b=this.options;a.extend(this,{_classes:""});b.enhanced||(c.addClass("ui-collapsible-set "+this._themeClassFromOption("ui-group-theme-",b.theme)+" "+(b.corners&&b.inset?"ui-corner-all ":"")),this.element.find(a.mobile.collapsible.initSelector).collapsible());this._on(c,{collapsibleexpand:"_handleCollapsibleExpand"})},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:""},_init:function(){this._refresh(!0);this.element.children(c).filter(":jqmData(collapsed='false')").collapsible("expand")},
_setOptions:function(a){var b,c=this.element,e=this._themeClassFromOption("ui-group-theme-",a.theme);e&&c.removeClass(this._themeClassFromOption("ui-group-theme-",this.options.theme)).addClass(e);a.inset!==g&&(b=!(!a.inset||!a.corners&&!this.options.corners));a.corners!==g&&(b=!(!a.corners||!a.inset&&!this.options.inset));b!==g&&c.toggleClass("ui-corner-all",b);a=this._super(a);this.element.children(":mobile-collapsible").collapsible("refresh");return a},_destroy:function(){var a=this.element;this._removeFirstLastClasses(a.children(c));
a.removeClass("ui-collapsible-set ui-corner-all "+this._themeClassFromOption("ui-group-theme-",this.options.theme)).children(":mobile-collapsible").collapsible("destroy")},_refresh:function(d){var b=this.element.children(c);this.element.find(a.mobile.collapsible.initSelector).not(".ui-collapsible").collapsible();this._addFirstLastClasses(b,this._getVisibles(b,d),d)},refresh:function(){this._refresh(!1)}},a.mobile.behaviors.addFirstLastClasses))})(k);(function(a,g){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain")}})(k);
(function(a,g){a.fn.grid=function(c){return this.each(function(){var d=a(this),b=a.extend({grid:null},c),f=d.children(),e={solo:1,a:2,b:3,c:4,d:5},b=b.grid,h;if(!b)if(5>=f.length)for(h in e)e[h]===f.length&&(b=h);else b="a",d.addClass("ui-grid-duo");e=e[b];d.addClass("ui-grid-"+b);f.filter(":nth-child("+e+"n+1)").addClass("ui-block-a");1<e&&f.filter(":nth-child("+e+"n+2)").addClass("ui-block-b");2<e&&f.filter(":nth-child("+e+"n+3)").addClass("ui-block-c");3<e&&f.filter(":nth-child("+e+"n+4)").addClass("ui-block-d");
4<e&&f.filter(":nth-child("+e+"n+5)").addClass("ui-block-e")})}})(k);(function(a,g){a.widget("mobile.navbar",{options:{iconpos:"top",grid:null},_create:function(){var c=this.element,d=c.find("a, button"),b=d.filter(":jqmData(icon)").length?this.options.iconpos:g;c.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});d.each(function(){var c=a.mobile.getAttribute(this,"icon"),d=a.mobile.getAttribute(this,"theme"),h="ui-btn";d&&(h+=" ui-btn-"+d);
c&&(h+=" ui-icon-"+c+" ui-btn-icon-"+b);a(this).addClass(h)});c.delegate("a","vclick",function(){var b=a(this);b.hasClass("ui-state-disabled")||b.hasClass("ui-disabled")||b.hasClass(a.mobile.activeBtnClass)||(d.removeClass(a.mobile.activeBtnClass),b.addClass(a.mobile.activeBtnClass),a(t).one("pagehide",function(){b.removeClass(a.mobile.activeBtnClass)}))});c.closest(".ui-page").bind("pagebeforeshow",function(){d.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}})})(k);(function(a,g){var c=
a.mobile.getAttribute;a.widget("mobile.listview",a.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:!0,shadow:!0,inset:!1},_create:function(){var a;a=""+(this.options.inset?" ui-listview-inset":"");this.options.inset&&(a+=this.options.corners?" ui-corner-all":"",a+=this.options.shadow?" ui-shadow":"");this.element.addClass(" ui-listview"+a);this.refresh(!0)},_findFirstElementByTagName:function(a,b,c,e){var h={};for(h[c]=h[e]=
!0;a;){if(h[a.nodeName])return a;a=a[b]}return null},_addThumbClasses:function(c){var b,f,e=c.length;for(b=0;b<e;b++)f=a(this._findFirstElementByTagName(c[b].firstChild,"nextSibling","img","IMG")),f.length&&a(this._findFirstElementByTagName(f[0].parentNode,"parentNode","li","LI")).addClass(f.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")},_getChildrenByTagName:function(c,b,f){var e=[],h={};h[b]=h[f]=!0;for(c=c.firstChild;c;)h[c.nodeName]&&e.push(c),c=c.nextSibling;return a(e)},_beforeListviewRefresh:a.noop,
_afterListviewRefresh:a.noop,refresh:function(d){var b,f,e,h,l,g,k,q,n,t,w,y=this.options;f=this.element;var z=!!a.nodeName(f[0],"ol");e=f.attr("start");var C={},v=f.find(".ui-li-count"),D=c(f[0],"counttheme")||this.options.countTheme,D=D?"ui-body-"+D:"ui-body-inherit";y.theme&&f.addClass("ui-group-theme-"+y.theme);z&&(e||0===e)&&(e=parseInt(e,10)-1,f.css("counter-reset","listnumbering "+e));this._beforeListviewRefresh();w=this._getChildrenByTagName(f[0],"li","LI");f=0;for(e=w.length;f<e;f++){h=w.eq(f);
l="";if(d||0>h[0].className.search(/\bui-li-static\b|\bui-li-divider\b/))q=this._getChildrenByTagName(h[0],"a","A"),b="list-divider"===c(h[0],"role"),n=h.attr("value"),g=c(h[0],"theme"),q.length&&0>q[0].className.search(/\bui-btn\b/)&&!b?(b=c(h[0],"icon"),k=!1===b?!1:b||y.icon,q.removeClass("ui-link"),b="ui-btn",g&&(b+=" ui-btn-"+g),1<q.length?(l="ui-li-has-alt",g=q.last(),k=(k=c(g[0],"theme")||y.splitTheme||c(h[0],"theme",!0))?" ui-btn-"+k:"",t=c(g[0],"icon")||c(h[0],"icon")||y.splitIcon,k="ui-btn ui-btn-icon-notext ui-icon-"+
t+k,g.attr("title",a.trim(g.getEncodedText())).addClass(k).empty(),q=q.first()):k&&(b+=" ui-btn-icon-right ui-icon-"+k),q.addClass(b)):b?(l=c(h[0],"theme")||y.dividerTheme||y.theme,l="ui-li-divider ui-bar-"+(l?l:"inherit"),h.attr("role","heading")):0>=q.length&&(l="ui-li-static ui-body-"+(g?g:"inherit")),z&&n&&(n=parseInt(n,10)-1,h.css("counter-reset","listnumbering "+n));C[l]||(C[l]=[]);C[l].push(h[0])}for(l in C)a(C[l]).addClass(l);v.each(function(){a(this).closest("li").addClass("ui-li-has-count")});
D&&v.not("[class*='ui-body-']").addClass(D);this._addThumbClasses(w);this._addThumbClasses(w.find(".ui-btn"));this._afterListviewRefresh();this._addFirstLastClasses(w,this._getVisibles(w,d),d)}},a.mobile.behaviors.addFirstLastClasses))})(k);(function(a,g){a.widget("mobile.listview",a.mobile.listview,{options:{autodividers:!1,autodividersSelector:function(c){c=a.trim(c.text())||null;return c?c=c.slice(0,1).toUpperCase():null}},_beforeListviewRefresh:function(){this.options.autodividers&&(this._replaceDividers(),
this._superApply(arguments))},_replaceDividers:function(){var c,d,b,f,e=null;c=this.element;c.children("li:jqmData(role='list-divider')").remove();d=c.children("li");for(c=0;c<d.length;c++)b=d[c],(f=this.options.autodividersSelector(a(b)))&&e!==f&&(e=t.createElement("li"),e.appendChild(t.createTextNode(f)),e.setAttribute("data-"+a.mobile.ns+"role","list-divider"),b.parentNode.insertBefore(e,b)),e=f}})})(k);(function(a,g){var c=/(^|\s)ui-li-divider($|\s)/,d=/(^|\s)ui-screen-hidden($|\s)/;a.widget("mobile.listview",
a.mobile.listview,{options:{hideDividers:!1},_afterListviewRefresh:function(){var a,f,e,h=!0;this._superApply(arguments);if(this.options.hideDividers)for(a=this._getChildrenByTagName(this.element[0],"li","LI"),f=a.length-1;-1<f;f--)e=a[f],e.className.match(c)?(h&&(e.className+=" ui-screen-hidden"),h=!0):e.className.match(d)||(h=!1)}})})(k);(function(a,g){a.mobile.nojs=function(c){a(":jqmData(role='nojs')",c).addClass("ui-nojs")}})(k);(function(a,g){a.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),
{reset:function(){this._delay("_reset")}})}}})(k);(function(a,g){var c=a.mobile.path.hashToSelector;a.widget("mobile.checkboxradio",a.extend({initSelector:"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))",options:{theme:"inherit",mini:!1,wrapperClass:null,enhanced:!1,iconpos:"left"},_create:function(){var c=this.element,b=this.options,f=function(a,b){return a.jqmData(b)||a.closest("form, fieldset").jqmData(b)},e=this.options.enhanced?
{element:this.element.siblings("label"),isParent:!1}:this._findLabel(),h=c[0].type,l="ui-"+h+"-on",g="ui-"+h+"-off";if("checkbox"===h||"radio"===h)this.element[0].disabled&&(this.options.disabled=!0),b.iconpos=f(c,"iconpos")||e.element.attr("data-"+a.mobile.ns+"iconpos")||b.iconpos,b.mini=f(c,"mini")||b.mini,a.extend(this,{input:c,label:e.element,labelIsParent:e.isParent,inputtype:h,checkedClass:l,uncheckedClass:g}),this.options.enhanced||this._enhance(),this._on(e.element,{vmouseover:"_handleLabelVMouseOver",
vclick:"_handleLabelVClick"}),this._on(c,{vmousedown:"_cacheVals",vclick:"_handleInputVClick",focus:"_handleInputFocus",blur:"_handleInputBlur"}),this._handleFormReset(),this.refresh()},_findLabel:function(){var d,b,f=this.element;(b=f[0].labels)&&0<b.length?(d=a(b[0]),b=a.contains(d[0],f[0])):(d=f.closest("label"),d=(b=0<d.length)?d:a(this.document[0].getElementsByTagName("label")).filter("[for='"+c(f[0].id)+"']").first());return{element:d,isParent:b}},_enhance:function(){this.label.addClass("ui-btn ui-corner-all");
this.labelIsParent?this.input.add(this.label).wrapAll(this._wrapper()):(this.element.wrap(this._wrapper()),this.element.parent().prepend(this.label));this._setOptions({theme:this.options.theme,iconpos:this.options.iconpos,mini:this.options.mini})},_wrapper:function(){return a("<div class='"+(this.options.wrapperClass?this.options.wrapperClass:"")+" ui-"+this.inputtype+(this.options.disabled?" ui-state-disabled":"")+"' ></div>")},_handleInputFocus:function(){this.label.addClass(a.mobile.focusClass)},
_handleInputBlur:function(){this.label.removeClass(a.mobile.focusClass)},_handleInputVClick:function(){this.element.prop("checked",this.element.is(":checked"));this._getInputSet().not(this.element).prop("checked",!1);this._updateAll(!0)},_handleLabelVMouseOver:function(a){this.label.parent().hasClass("ui-state-disabled")&&a.stopPropagation()},_handleLabelVClick:function(a){var b=this.element;if(b.is(":disabled"))a.preventDefault();else return this._cacheVals(),b.prop("checked","radio"===this.inputtype&&
!0||!b.prop("checked")),b.triggerHandler("click"),this._getInputSet().not(b).prop("checked",!1),this._updateAll(),!1},_cacheVals:function(){this._getInputSet().each(function(){a(this).attr("data-"+a.mobile.ns+"cacheVal",this.checked)})},_getInputSet:function(){var d,b,f=this.element[0];d=f.name;var e=f.form,f=this.element.parents().last().get(0),h=this.element;d&&"radio"===this.inputtype&&f&&(d="input[type='radio'][name='"+c(d)+"']",e?((b=e.getAttribute("id"))&&(h=a(d+"[form='"+c(b)+"']",f)),h=a(e).find(d).filter(function(){return this.form===
e}).add(h)):h=a(d,f).filter(function(){return!this.form}));return h},_updateAll:function(c){var b=this;this._getInputSet().each(function(){var f=a(this);!this.checked&&"checkbox"!==b.inputtype||c||f.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},_hasIcon:function(){var c,b;if(c=a.mobile.controlgroup)if(c=this.element.closest(":mobile-controlgroup,"+c.prototype.initSelector),0<c.length)return b=a.data(c[0],"mobile-controlgroup"),"horizontal"!==(b?b.options.type:c.attr("data-"+
a.mobile.ns+"type"));return!0},refresh:function(){var c=this.element[0].checked,b=a.mobile.activeBtnClass,f="ui-btn-icon-"+this.options.iconpos,e=[],h=[];this._hasIcon()?(h.push(b),e.push(f)):(h.push(f),(c?e:h).push(b));c?(e.push(this.checkedClass),h.push(this.uncheckedClass)):(e.push(this.uncheckedClass),h.push(this.checkedClass));this.widget().toggleClass("ui-state-disabled",this.element.prop("disabled"));this.label.addClass(e.join(" ")).removeClass(h.join(" "))},widget:function(){return this.label.parent()},
_setOptions:function(a){var b=this.label,c=this.options,e=this.widget(),h=this._hasIcon();a.disabled!==g&&(this.input.prop("disabled",!!a.disabled),e.toggleClass("ui-state-disabled",!!a.disabled));a.mini!==g&&e.toggleClass("ui-mini",!!a.mini);a.theme!==g&&b.removeClass("ui-btn-"+c.theme).addClass("ui-btn-"+a.theme);a.wrapperClass!==g&&e.removeClass(c.wrapperClass).addClass(a.wrapperClass);a.iconpos!==g&&h?b.removeClass("ui-btn-icon-"+c.iconpos).addClass("ui-btn-icon-"+a.iconpos):h||b.removeClass("ui-btn-icon-"+
c.iconpos);this._super(a)}},a.mobile.behaviors.formReset))})(k);(function(a,g){a.widget("mobile.button",{initSelector:"input[type='button'], input[type='submit'], input[type='reset']",options:{theme:null,icon:null,iconpos:"left",iconshadow:!1,corners:!0,shadow:!0,inline:null,mini:null,wrapperClass:null,enhanced:!1},_create:function(){this.element.is(":disabled")&&(this.options.disabled=!0);this.options.enhanced||this._enhance();a.extend(this,{wrapper:this.element.parent()});this._on({focus:function(){this.widget().addClass(a.mobile.focusClass)},
blur:function(){this.widget().removeClass(a.mobile.focusClass)}});this.refresh(!0)},_enhance:function(){this.element.wrap(this._button())},_button:function(){var c=this.options,d=this._getIconClasses(this.options);return a("<div class='ui-btn ui-input-btn"+(c.wrapperClass?" "+c.wrapperClass:"")+(c.theme?" ui-btn-"+c.theme:"")+(c.corners?" ui-corner-all":"")+(c.shadow?" ui-shadow":"")+(c.inline?" ui-btn-inline":"")+(c.mini?" ui-mini":"")+(c.disabled?" ui-state-disabled":"")+(d?" "+d:"")+"' >"+this.element.val()+
"</div>")},widget:function(){return this.wrapper},_destroy:function(){this.element.insertBefore(this.wrapper);this.wrapper.remove()},_getIconClasses:function(a){return a.icon?"ui-icon-"+a.icon+(a.iconshadow?" ui-shadow-icon":"")+" ui-btn-icon-"+a.iconpos:""},_setOptions:function(c){var d=this.widget();c.theme!==g&&d.removeClass(this.options.theme).addClass("ui-btn-"+c.theme);c.corners!==g&&d.toggleClass("ui-corner-all",c.corners);c.shadow!==g&&d.toggleClass("ui-shadow",c.shadow);c.inline!==g&&d.toggleClass("ui-btn-inline",
c.inline);c.mini!==g&&d.toggleClass("ui-mini",c.mini);c.disabled!==g&&(this.element.prop("disabled",c.disabled),d.toggleClass("ui-state-disabled",c.disabled));c.icon===g&&c.iconshadow===g&&c.iconpos===g||d.removeClass(this._getIconClasses(this.options)).addClass(this._getIconClasses(a.extend({},this.options,c)));this._super(c)},refresh:function(c){var d=this.element.prop("disabled");this.options.icon&&"notext"===this.options.iconpos&&this.element.attr("title")&&this.element.attr("title",this.element.val());
c||(c=this.element.detach(),a(this.wrapper).text(this.element.val()).append(c));this.options.disabled!==d&&this._setOptions({disabled:d})}})})(k);(function(a){var g=a("meta[name=viewport]"),c=g.attr("content"),d=c+",maximum-scale=1, user-scalable=no",b=c+",maximum-scale=10, user-scalable=yes",f=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(c);a.mobile.zoom=a.extend({},{enabled:!f,locked:!1,disable:function(b){f||a.mobile.zoom.locked||(g.attr("content",d),a.mobile.zoom.enabled=
!1,a.mobile.zoom.locked=b||!1)},enable:function(c){f||a.mobile.zoom.locked&&!0!==c||(g.attr("content",b),a.mobile.zoom.enabled=!0,a.mobile.zoom.locked=!1)},restore:function(){f||(g.attr("content",c),a.mobile.zoom.enabled=!0)}})})(k);(function(a,g){a.widget("mobile.textinput",{initSelector:"input[type='text'],input[type='search'],:jqmData(type='search'),input[type='number'],:jqmData(type='number'),input[type='password'],input[type='email'],input[type='url'],input[type='tel'],textarea,input[type='time'],input[type='date'],input[type='month'],input[type='week'],input[type='datetime'],input[type='datetime-local'],input[type='color'],input:not([type]),input[type='file']",
options:{theme:null,corners:!0,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&-1<navigator.userAgent.indexOf("AppleWebKit"),wrapperClass:"",enhanced:!1},_create:function(){var c=this.options,d=this.element.is("[type='search'], :jqmData(type='search')"),b="TEXTAREA"===this.element[0].tagName,f=this.element.is("[data-"+(a.mobile.ns||"")+"type='range']"),e=(this.element.is("input")||this.element.is("[data-"+(a.mobile.ns||"")+"type='search']"))&&!f;this.element.prop("disabled")&&
(c.disabled=!0);a.extend(this,{classes:this._classesFromOptions(),isSearch:d,isTextarea:b,isRange:f,inputNeedsWrap:e});this._autoCorrect();c.enhanced||this._enhance();this._on({focus:"_handleFocus",blur:"_handleBlur"})},refresh:function(){this.setOptions({disabled:this.element.is(":disabled")})},_enhance:function(){var a=[];this.isTextarea&&a.push("ui-input-text");(this.isTextarea||this.isRange)&&a.push("ui-shadow-inset");this.inputNeedsWrap?this.element.wrap(this._wrap()):a=a.concat(this.classes);
this.element.addClass(a.join(" "))},widget:function(){return this.inputNeedsWrap?this.element.parent():this.element},_classesFromOptions:function(){var a=this.options,d=[];d.push("ui-body-"+(null===a.theme?"inherit":a.theme));a.corners&&d.push("ui-corner-all");a.mini&&d.push("ui-mini");a.disabled&&d.push("ui-state-disabled");a.wrapperClass&&d.push(a.wrapperClass);return d},_wrap:function(){return a("<div class='"+(this.isSearch?"ui-input-search ":"ui-input-text ")+this.classes.join(" ")+" ui-shadow-inset'></div>")},
_autoCorrect:function(){"undefined"===typeof this.element[0].autocorrect||a.support.touchOverflow||(this.element[0].setAttribute("autocorrect","off"),this.element[0].setAttribute("autocomplete","off"))},_handleBlur:function(){this.widget().removeClass(a.mobile.focusClass);this.options.preventFocusZoom&&a.mobile.zoom.enable(!0)},_handleFocus:function(){this.options.preventFocusZoom&&a.mobile.zoom.disable(!0);this.widget().addClass(a.mobile.focusClass)},_setOptions:function(a){var d=this.widget();this._super(a);
if(a.disabled!==g||a.mini!==g||a.corners!==g||a.theme!==g||a.wrapperClass!==g)d.removeClass(this.classes.join(" ")),this.classes=this._classesFromOptions(),d.addClass(this.classes.join(" "));a.disabled!==g&&this.element.prop("disabled",!!a.disabled)},_destroy:function(){this.options.enhanced||(this.inputNeedsWrap&&this.element.unwrap(),this.element.removeClass("ui-input-text "+this.classes.join(" ")))}})})(k);(function(a,g){a.widget("mobile.slider",a.extend({initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",
widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!1},_create:function(){var c=this.element,d=this.options.trackTheme||a.mobile.getAttribute(c[0],"theme"),b=d?" ui-bar-"+d:" ui-bar-inherit",f=this.options.corners||c.jqmData("corners")?" ui-corner-all":"",e=this.options.mini||c.jqmData("mini")?" ui-mini":"",h=c[0].nodeName.toLowerCase(),d="select"===h,l=c.parent().is(":jqmData(role='rangeslider')"),m=d?"ui-slider-switch":"",k=c.attr("id"),q=a("[for='"+k+"']"),
fa=q.attr("id")||k+"-label",E=d?0:parseFloat(c.attr("min")),w=d?c.find("option").length-1:parseFloat(c.attr("max")),y=n.parseFloat(c.attr("step")||1),z=t.createElement("a"),C=a(z),k=t.createElement("div"),v=a(k),D=this.options.highlight&&!d?function(){var b=t.createElement("div");b.className="ui-slider-bg "+a.mobile.activeBtnClass;return a(b).prependTo(v)}():!1;q.attr("id",fa);this.isToggleSwitch=d;z.setAttribute("href","#");k.setAttribute("role","application");k.className=[this.isToggleSwitch?"ui-slider ui-slider-track ui-shadow-inset ":
"ui-slider-track ui-shadow-inset ",m,b,f,e].join("");z.className="ui-slider-handle";k.appendChild(z);C.attr({role:"slider","aria-valuemin":E,"aria-valuemax":w,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":fa});a.extend(this,{slider:v,handle:C,control:c,type:h,step:y,max:w,min:E,valuebg:D,isRangeslider:l,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1});if(d){(b=c.attr("tabindex"))&&C.attr("tabindex",b);c.attr("tabindex","-1").focus(function(){a(this).blur();
C.focus()});b=t.createElement("div");b.className="ui-slider-inneroffset";f=0;for(e=k.childNodes.length;f<e;f++)b.appendChild(k.childNodes[f]);k.appendChild(b);C.addClass("ui-slider-handle-snapping");k=c.find("option");b=0;for(f=k.length;b<f;b++)e=b?"a":"b",h=b?" "+a.mobile.activeBtnClass:"",m=t.createElement("span"),m.className=["ui-slider-label ui-slider-label-",e,h].join(""),m.setAttribute("role","img"),m.appendChild(t.createTextNode(k[b].innerHTML)),a(m).prependTo(v);this._labels=a(".ui-slider-label",
v)}c.addClass(d?"ui-slider-switch":"ui-slider-input");this._on(c,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"});v.bind("vmousedown",a.proxy(this._sliderVMouseDown,this)).bind("vclick",!1);this._on(t,{vmousemove:"_preventDocumentDrag"});this._on(v.add(t),{vmouseup:"_sliderVMouseUp"});v.insertAfter(c);d||l||(b=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",c.add(v).wrapAll(b));this._on(this.handle,{vmousedown:"_handleVMouseDown",
keydown:"_handleKeydown",keyup:"_handleKeyup"});this.handle.bind("vclick",!1);this._handleFormReset();this.refresh(g,g,!0)},_setOptions:function(a){a.theme!==g&&this._setTheme(a.theme);a.trackTheme!==g&&this._setTrackTheme(a.trackTheme);a.corners!==g&&this._setCorners(a.corners);a.mini!==g&&this._setMini(a.mini);a.highlight!==g&&this._setHighlight(a.highlight);a.disabled!==g&&this._setDisabled(a.disabled);this._super(a)},_controlChange:function(a){if(!1===this._trigger("controlchange",a))return!1;
this.mouseMoved||this.refresh(this._value(),!0)},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(c){var d=this._value();if(!this.options.disabled){switch(c.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:c.preventDefault(),
this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(c.keyCode){case a.mobile.keyCode.HOME:this.refresh(this.min);break;case a.mobile.keyCode.END:this.refresh(this.max);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:this.refresh(d+this.step);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:this.refresh(d-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,
this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(a){if(this.options.disabled||1!==a.which&&0!==a.which&&a.which!==g||!1===this._trigger("beforestart",a))return!1;this.dragging=!0;this.mouseMoved=this.userModified=!1;this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex);this.refresh(a);this._trigger("start");return!1},_sliderVMouseUp:function(){if(this.dragging)return this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.mouseMoved?
this.userModified?this.refresh(0===this.beforeStart?1:0):this.refresh(this.beforeStart):this.refresh(0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1},_preventDocumentDrag:function(a){if(this.dragging&&!this.options.disabled)return this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(a),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},
_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(g,!1,!0)},refresh:function(c,d,b){var f=this,e=a.mobile.getAttribute(this.element[0],"theme"),h=this.options.theme||e,h=h?" ui-btn-"+h:"",e=this.options.trackTheme||e,l,g,k,q,n,E,w,y,z,C,v;f.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset":"ui-slider-track ui-shadow-inset",e?" ui-bar-"+e:" ui-bar-inherit",this.options.corners?
" ui-corner-all":"",this.options.mini?" ui-mini":""].join("");(this.options.disabled||this.element.prop("disabled"))&&this.disable();this.value=this._value();this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var b=t.createElement("div");b.className="ui-slider-bg "+a.mobile.activeBtnClass;return a(b).prependTo(f.slider)}());this.handle.addClass("ui-btn"+h+" ui-shadow");e=this.element;n=(h=!this.isToggleSwitch)?[]:e.find("option");E=
h?parseFloat(e.attr("min")):0;w=h?parseFloat(e.attr("max")):n.length-1;y=h&&0<parseFloat(e.attr("step"))?parseFloat(e.attr("step")):1;if("object"===typeof c){k=c;l=this.slider.offset().left;g=this.slider.width();q=g/((w-E)/y);if(!this.dragging||k.pageX<l-8||k.pageX>l+g+8)return;l=1<q?(k.pageX-l)/g*100:Math.round((k.pageX-l)/g*100)}else null==c&&(c=h?parseFloat(e.val()||0):e[0].selectedIndex),l=(parseFloat(c)-E)/(w-E)*100;if(!isNaN(l)&&(k=l/100*(w-E)+E,z=(k-E)%y,k-=z,2*Math.abs(z)>=y&&(k+=0<z?y:-y),
z=100/((w-E)/y),k=parseFloat(k.toFixed(5)),"undefined"===typeof q&&(q=g/((w-E)/y)),1<q&&h&&(l=1/y*z*(k-E)),0>l&&(l=0),100<l&&(l=100),k<E&&(k=E),k>w&&(k=w),this.handle.css("left",l+"%"),this.handle[0].setAttribute("aria-valuenow",h?k:n.eq(k).attr("value")),this.handle[0].setAttribute("aria-valuetext",h?k:n.eq(k).getEncodedText()),this.handle[0].setAttribute("title",h?k:n.eq(k).getEncodedText()),this.valuebg&&this.valuebg.css("width",l+"%"),this._labels&&(g=this.handle.width()/this.slider.width()*100,
C=l&&g+(100-g)*l/100,v=100===l?0:Math.min(g+100-C,100),this._labels.each(function(){var b=a(this).hasClass("ui-slider-label-a");a(this).width((b?C:v)+"%")})),!b)){b=!1;h?(b=parseFloat(e.val())!==k,e.val(k)):(b=e[0].selectedIndex!==k,e[0].selectedIndex=k);if(!1===this._trigger("beforechange",c))return!1;!d&&b&&e.trigger("change")}},_setHighlight:function(a){(a=!!a)?(this.options.highlight=!!a,this.refresh()):this.valuebg&&(this.valuebg.remove(),this.valuebg=!1)},_setTheme:function(a){this.handle.removeClass("ui-btn-"+
this.options.theme).addClass("ui-btn-"+a);a=a?a:"inherit";this.control.removeClass("ui-body-"+(this.options.theme?this.options.theme:"inherit")).addClass("ui-body-"+a)},_setTrackTheme:function(a){a=a?a:"inherit";this.slider.removeClass("ui-body-"+(this.options.trackTheme?this.options.trackTheme:"inherit")).addClass("ui-body-"+a)},_setMini:function(a){a=!!a;this.isToggleSwitch||this.isRangeslider||(this.slider.parent().toggleClass("ui-mini",a),this.element.toggleClass("ui-mini",a));this.slider.toggleClass("ui-mini",
a)},_setCorners:function(a){this.slider.toggleClass("ui-corner-all",a);this.isToggleSwitch||this.control.toggleClass("ui-corner-all",a)},_setDisabled:function(a){a=!!a;this.element.prop("disabled",a);this.slider.toggleClass("ui-state-disabled",a).attr("aria-disabled",a);this.element.toggleClass("ui-state-disabled",a)}},a.mobile.behaviors.formReset))})(k);(function(a,g){var c;a.widget("mobile.slider",a.mobile.slider,{options:{popupEnabled:!1,showValue:!1},_create:function(){this._super();a.extend(this,
{_currentValue:null,_popup:null,_popupVisible:!1});this._setOption("popupEnabled",this.options.popupEnabled);this._on(this.handle,{vmousedown:"_showPopup"});this._on(this.slider.add(this.document),{vmouseup:"_hidePopup"});this._refresh()},_positionPopup:function(){var a=this.handle.offset();this._popup.offset({left:a.left+(this.handle.width()-this._popup.width())/2,top:a.top-this._popup.outerHeight()-5})},_setOption:function(d,b){this._super(d,b);"showValue"===d?this.handle.html(b&&!this.options.mini?
this._value():""):"popupEnabled"===d&&b&&!this._popup&&(c||(c=a("<div></div>",{"class":"ui-slider-popup ui-shadow ui-corner-all"})),this._popup=c.clone().addClass("ui-body-"+(this.options.theme||"a")).hide().insertBefore(this.element))},refresh:function(){this._super.apply(this,arguments);this._refresh()},_refresh:function(){var a=this.options,b;a.popupEnabled&&this.handle.removeAttr("title");b=this._value();b!==this._currentValue&&(this._currentValue=b,a.popupEnabled&&this._popup&&(this._positionPopup(),
this._popup.html(b)),a.showValue&&!this.options.mini&&this.handle.html(b))},_showPopup:function(){this.options.popupEnabled&&!this._popupVisible&&(this.handle.html(""),this._popup.show(),this._positionPopup(),this._popupVisible=!0)},_hidePopup:function(){var a=this.options;a.popupEnabled&&this._popupVisible&&(a.showValue&&!a.mini&&this.handle.html(this._value()),this._popup.hide(),this._popupVisible=!1)}})})(k);(function(a,g){a.widget("mobile.flipswitch",a.extend({options:{onText:"On",offText:"Off",
theme:null,enhanced:!1,wrapperClass:null,corners:!0,mini:!1},_create:function(){this.options.enhanced?a.extend(this,{flipswitch:this.element.parent(),on:this.element.find(".ui-flipswitch-on").eq(0),off:this.element.find(".ui-flipswitch-off").eq(0),type:this.element.get(0).tagName}):this._enhance();this._handleFormReset();this._originalTabIndex=this.element.attr("tabindex");null!=this._originalTabIndex&&this.on.attr("tabindex",this._originalTabIndex);this.element.attr("tabindex","-1");this._on({focus:"_handleInputFocus"});
this.element.is(":disabled")&&this._setOptions({disabled:!0});this._on(this.flipswitch,{click:"_toggle",swipeleft:"_left",swiperight:"_right"});this._on(this.on,{keydown:"_keydown"});this._on({change:"refresh"})},_handleInputFocus:function(){this.on.focus()},widget:function(){return this.flipswitch},_left:function(){this.flipswitch.removeClass("ui-flipswitch-active");"SELECT"===this.type?this.element.get(0).selectedIndex=0:this.element.prop("checked",!1);this.element.trigger("change")},_right:function(){this.flipswitch.addClass("ui-flipswitch-active");
"SELECT"===this.type?this.element.get(0).selectedIndex=1:this.element.prop("checked",!0);this.element.trigger("change")},_enhance:function(){var c=a("<div>"),d=this.options,b=this.element,f=d.theme?d.theme:"inherit",e=a("<a></a>",{href:"#"}),h=a("<span></span>"),l=b.get(0).tagName,g="INPUT"===l?d.onText:b.find("option").eq(1).text(),k="INPUT"===l?d.offText:b.find("option").eq(0).text();e.addClass("ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit").text(g);h.addClass("ui-flipswitch-off").text(k);c.addClass("ui-flipswitch ui-shadow-inset ui-bar-"+
f+" "+(d.wrapperClass?d.wrapperClass:"")+" "+(b.is(":checked")||b.find("option").eq(1).is(":selected")?"ui-flipswitch-active":"")+(b.is(":disabled")?" ui-state-disabled":"")+(d.corners?" ui-corner-all":"")+(d.mini?" ui-mini":"")).append(e,h);b.addClass("ui-flipswitch-input").after(c).appendTo(c);a.extend(this,{flipswitch:c,on:e,off:h,type:l})},_reset:function(){this.refresh()},refresh:function(){var a,d=this.flipswitch.hasClass("ui-flipswitch-active")?"_right":"_left";a="SELECT"===this.type?0<this.element.get(0).selectedIndex?
"_right":"_left":this.element.prop("checked")?"_right":"_left";if(a!==d)this[a]()},_toggle:function(){this[this.flipswitch.hasClass("ui-flipswitch-active")?"_left":"_right"]()},_keydown:function(c){c.which===a.mobile.keyCode.LEFT?this._left():c.which===a.mobile.keyCode.RIGHT?this._right():c.which===a.mobile.keyCode.SPACE&&(this._toggle(),c.preventDefault())},_setOptions:function(a){if(a.theme!==g){var d=a.theme?a.theme:"inherit",b=a.theme?a.theme:"inherit";this.widget().removeClass("ui-bar-"+d).addClass("ui-bar-"+
b)}a.onText!==g&&this.on.text(a.onText);a.offText!==g&&this.off.text(a.offText);a.disabled!==g&&this.widget().toggleClass("ui-state-disabled",a.disabled);a.mini!==g&&this.widget().toggleClass("ui-mini",a.mini);a.corners!==g&&this.widget().toggleClass("ui-corner-all",a.corners);this._super(a)},_destroy:function(){this.options.enhanced||(null!=this._originalTabIndex?this.element.attr("tabindex",this._originalTabIndex):this.element.removeAttr("tabindex"),this.on.remove(),this.off.remove(),this.element.unwrap(),
this.flipswitch.remove(),this.removeClass("ui-flipswitch-input"))}},a.mobile.behaviors.formReset))})(k);(function(a,g){a.widget("mobile.rangeslider",a.extend({options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!0},_create:function(){var c=this.element,d=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",b=c.find("input").first(),f=c.find("input").last(),e=c.find("label").first(),h=a.data(b.get(0),"mobile-slider")||a.data(b.slider().get(0),"mobile-slider"),l=a.data(f.get(0),
"mobile-slider")||a.data(f.slider().get(0),"mobile-slider"),g=h.slider,l=l.slider,h=h.handle,k=a("<div class='ui-rangeslider-sliders' />").appendTo(c);b.addClass("ui-rangeslider-first");f.addClass("ui-rangeslider-last");c.addClass(d);g.appendTo(k);l.appendTo(k);e.insertBefore(c);h.prependTo(l);a.extend(this,{_inputFirst:b,_inputLast:f,_sliderFirst:g,_sliderLast:l,_label:e,_targetVal:null,_sliderTarget:!1,_sliders:k,_proxy:!1});this.refresh();this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",
slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"});this._on({mousedown:"_change"});this._on(this.element.closest("form"),{reset:"_handleReset"});this._on(h,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var a=this;setTimeout(function(){a._updateHighlight()},0)},_dragFirstHandle:function(c){a.data(this._inputFirst.get(0),"mobile-slider").dragging=!0;a.data(this._inputFirst.get(0),"mobile-slider").refresh(c);a.data(this._inputFirst.get(0),
"mobile-slider")._trigger("start");return!1},_slidedrag:function(c){var d=a(c.target).is(this._inputFirst),b=d?this._inputLast:this._inputFirst;this._sliderTarget=!1;if("first"===this._proxy&&d||"last"===this._proxy&&!d)return a.data(b.get(0),"mobile-slider").dragging=!0,a.data(b.get(0),"mobile-slider").refresh(c),!1},_slidestop:function(c){c=a(c.target).is(this._inputFirst);this._proxy=!1;this.element.find("input").trigger("vmouseup");this._sliderFirst.css("z-index",c?1:"")},_slidebeforestart:function(c){this._sliderTarget=
!1;a(c.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=a(c.target).val())},_setOptions:function(a){a.theme!==g&&this._setTheme(a.theme);a.trackTheme!==g&&this._setTrackTheme(a.trackTheme);a.mini!==g&&this._setMini(a.mini);a.highlight!==g&&this._setHighlight(a.highlight);a.disabled!==g&&this._setDisabled(a.disabled);this._super(a);this.refresh()},refresh:function(){var a=this.element,d=this.options;if(this._inputFirst.is(":disabled")||this._inputLast.is(":disabled"))this.options.disabled=
!0;a.find("input").slider({theme:d.theme,trackTheme:d.trackTheme,disabled:d.disabled,corners:d.corners,mini:d.mini,highlight:d.highlight}).slider("refresh");this._updateHighlight()},_change:function(c){if("keyup"===c.type)return this._updateHighlight(),!1;var d=this,b=parseFloat(this._inputFirst.val(),10),f=parseFloat(this._inputLast.val(),10),e=a(c.target).hasClass("ui-rangeslider-first"),h=e?this._inputFirst:this._inputLast,l=e?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&
"mousedown"===c.type&&!a(c.target).hasClass("ui-slider-handle"))h.blur();else if("mousedown"===c.type)return;b>f&&!this._sliderTarget?(h.val(e?f:b).slider("refresh"),this._trigger("normalize")):b>f&&(h.val(this._targetVal).slider("refresh"),setTimeout(function(){l.val(e?b:f).slider("refresh");a.data(l.get(0),"mobile-slider").handle.focus();d._sliderFirst.css("z-index",e?"":1);d._trigger("normalize")},0),this._proxy=e?"first":"last");b===f?(a.data(h.get(0),"mobile-slider").handle.css("z-index",1),
a.data(l.get(0),"mobile-slider").handle.css("z-index",0)):(a.data(l.get(0),"mobile-slider").handle.css("z-index",""),a.data(h.get(0),"mobile-slider").handle.css("z-index",""));this._updateHighlight();if(b>=f)return!1},_updateHighlight:function(){var c=parseInt(a.data(this._inputFirst.get(0),"mobile-slider").handle.get(0).style.left,10),d=parseInt(a.data(this._inputLast.get(0),"mobile-slider").handle.get(0).style.left,10)-c;this.element.find(".ui-slider-bg").css({"margin-left":c+"%",width:d+"%"})},
_setTheme:function(a){this._inputFirst.slider("option","theme",a);this._inputLast.slider("option","theme",a)},_setTrackTheme:function(a){this._inputFirst.slider("option","trackTheme",a);this._inputLast.slider("option","trackTheme",a)},_setMini:function(a){this._inputFirst.slider("option","mini",a);this._inputLast.slider("option","mini",a);this.element.toggleClass("ui-mini",!!a)},_setHighlight:function(a){this._inputFirst.slider("option","highlight",a);this._inputLast.slider("option","highlight",a)},
_setDisabled:function(a){this._inputFirst.prop("disabled",a);this._inputLast.prop("disabled",a)},_destroy:function(){this._label.prependTo(this.element);this.element.removeClass("ui-rangeslider ui-mini");this._inputFirst.after(this._sliderFirst);this._inputLast.after(this._sliderLast);this._sliders.remove();this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}},a.mobile.behaviors.formReset))})(k);(function(a,g){a.widget("mobile.textinput",a.mobile.textinput,
{options:{clearBtn:!1,clearBtnText:"Clear text"},_create:function(){this._super();this.isSearch&&(this.options.clearBtn=!0);this.options.clearBtn&&this.inputNeedsWrap&&this._addClearBtn()},clearButton:function(){return a("<a href='#' tabindex='-1' aria-hidden='true' class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all'></a>").attr("title",this.options.clearBtnText).text(this.options.clearBtnText)},_clearBtnClick:function(a){this.element.val("").focus().trigger("change");this._clearBtn.addClass("ui-input-clear-hidden");
a.preventDefault()},_addClearBtn:function(){this.options.enhanced||this._enhanceClear();a.extend(this,{_clearBtn:this.widget().find("a.ui-input-clear")});this._bindClearEvents();this._toggleClear()},_enhanceClear:function(){this.clearButton().appendTo(this.widget());this.widget().addClass("ui-input-has-clear")},_bindClearEvents:function(){this._on(this._clearBtn,{click:"_clearBtnClick"});this._on({keyup:"_toggleClear",change:"_toggleClear",input:"_toggleClear",focus:"_toggleClear",blur:"_toggleClear",
cut:"_toggleClear",paste:"_toggleClear"})},_unbindClear:function(){this._off(this._clearBtn,"click");this._off(this.element,"keyup change input focus blur cut paste")},_setOptions:function(a){this._super(a);a.clearBtn===g||this.element.is("textarea, :jqmData(type='range')")||(a.clearBtn?this._addClearBtn():this._destroyClear());a.clearBtnText!==g&&this._clearBtn!==g&&this._clearBtn.text(a.clearBtnText).attr("title",a.clearBtnText)},_toggleClear:function(){this._delay("_toggleClearClass",0)},_toggleClearClass:function(){this._clearBtn.toggleClass("ui-input-clear-hidden",
!this.element.val())},_destroyClear:function(){this.widget().removeClass("ui-input-has-clear");this._unbindClear();this._clearBtn.remove()},_destroy:function(){this._super();this.options.clearBtn&&this._destroyClear()}})})(k);(function(a,g){a.widget("mobile.textinput",a.mobile.textinput,{options:{autogrow:!0,keyupTimeoutBuffer:100},_create:function(){this._super();this.options.autogrow&&this.isTextarea&&this._autogrow()},_autogrow:function(){this.element.addClass("ui-textinput-autogrow");this._on({keyup:"_timeout",
change:"_timeout",input:"_timeout",paste:"_timeout"});this._on(!0,this.document,{pageshow:"_handleShow",popupbeforeposition:"_handleShow",updatelayout:"_handleShow",panelopen:"_handleShow"})},_handleShow:function(c){a.contains(c.target,this.element[0])&&this.element.is(":visible")&&("popupbeforeposition"!==c.type&&this.element.addClass("ui-textinput-autogrow-resize").animationComplete(a.proxy(function(){this.element.removeClass("ui-textinput-autogrow-resize")},this),"transition"),this._prepareHeightUpdate())},
_unbindAutogrow:function(){this.element.removeClass("ui-textinput-autogrow");this._off(this.element,"keyup change input paste");this._off(this.document,"pageshow popupbeforeposition updatelayout panelopen")},keyupTimeout:null,_prepareHeightUpdate:function(a){this.keyupTimeout&&clearTimeout(this.keyupTimeout);a===g?this._updateHeight():this.keyupTimeout=this._delay("_updateHeight",a)},_timeout:function(){this._prepareHeightUpdate(this.options.keyupTimeoutBuffer)},_updateHeight:function(){var a,d,b,
f,e=this.window.scrollTop();this.keyupTimeout=0;"onpage"in this.element[0]||this.element.css({height:0,"min-height":0,"max-height":0});b=this.element[0].scrollHeight;a=this.element[0].clientHeight;d=parseFloat(this.element.css("border-top-width"));f=parseFloat(this.element.css("border-bottom-width"));b=b+(d+f)+15;0===a&&(a=parseFloat(this.element.css("padding-top")),d=parseFloat(this.element.css("padding-bottom")),b+=a+d);this.element.css({height:b,"min-height":"","max-height":""});this.window.scrollTop(e)},
refresh:function(){this.options.autogrow&&this.isTextarea&&this._updateHeight()},_setOptions:function(a){this._super(a);a.autogrow!==g&&this.isTextarea&&(a.autogrow?this._autogrow():this._unbindAutogrow())}})})(k);(function(a,g){a.widget("mobile.selectmenu",a.extend({initSelector:"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )",options:{theme:null,icon:"carat-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!1,overlayTheme:null,dividerTheme:null,hidePlaceholderMenuItems:!0,
closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&-1<navigator.userAgent.indexOf("AppleWebKit"),mini:!1},_button:function(){return a("<div/>")},_setDisabled:function(a){this.element.attr("disabled",a);this.button.attr("aria-disabled",a);return this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var c=this.options.inline||
this.element.jqmData("inline"),d=this.options.mini||this.element.jqmData("mini"),b="";~this.element[0].className.indexOf("ui-btn-left")&&(b=" ui-btn-left");~this.element[0].className.indexOf("ui-btn-right")&&(b=" ui-btn-right");c&&(b+=" ui-btn-inline");d&&(b+=" ui-mini");this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+b+"'>");this.selectId=this.select.attr("id")||"select-"+this.uuid;this.buttonId=this.selectId+"-button";this.label=a("label[for='"+this.selectId+
"']");this.isMultiple=this.select[0].multiple},_destroy:function(){var a=this.element.parents(".ui-select");0<a.length&&(a.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(a.hasClass("ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(a),a.remove())},_create:function(){this._preExtension();this.button=this._button();var c=this,d=this.options,b=d.icon?d.iconpos||this.select.jqmData("iconpos"):!1,b=this.button.insertBefore(this.select).attr("id",this.buttonId).addClass("ui-btn"+
(d.icon?" ui-icon-"+d.icon+" ui-btn-icon-"+b+(d.iconshadow?" ui-shadow-icon":""):"")+(d.theme?" ui-btn-"+d.theme:"")+(d.corners?" ui-corner-all":"")+(d.shadow?" ui-shadow":""));this.setButtonText();d.nativeMenu&&n.opera&&n.opera.version&&b.addClass("ui-select-nativeonly");this.isMultiple&&(this.buttonCount=a("<span>").addClass("ui-li-count ui-body-inherit").hide().appendTo(b.addClass("ui-li-has-count")));(d.disabled||this.element.attr("disabled"))&&this.disable();this.select.change(function(){c.refresh();
d.nativeMenu&&c._delay(function(){c.select.blur()})});this._handleFormReset();this._on(this.button,{keydown:"_handleKeydown"});this.build()},build:function(){var c=this;this.select.appendTo(c.button).bind("vmousedown",function(){c.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){c.button.addClass(a.mobile.focusClass)}).bind("blur",function(){c.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",function(){c.button.trigger("vmouseover")}).bind("vmousemove",function(){c.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",
function(){c.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)});c.button.bind("vmousedown",function(){c.options.preventFocusZoom&&a.mobile.zoom.disable(!0)});c.label.bind("click focus",function(){c.options.preventFocusZoom&&a.mobile.zoom.disable(!0)});c.select.bind("focus",function(){c.options.preventFocusZoom&&a.mobile.zoom.disable(!0)});c.button.bind("mouseup",function(){c.options.preventFocusZoom&&setTimeout(function(){a.mobile.zoom.enable(!0)},0)});c.select.bind("blur",function(){c.options.preventFocusZoom&&
a.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var c=this,d=this.selected(),b=this.placeholder,f=a(t.createElement("span"));this.button.children("span").not(".ui-li-count").remove().end().end().prepend(function(){(b=d.length?d.map(function(){return a(this).text()}).get().join(", "):c.placeholder)?f.text(b):
f.html("&#160;");return f.addClass(c.select.attr("class")).addClass(d.attr("class")).removeClass("ui-screen-hidden")}())},setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[1<a.length?"show":"hide"]().text(a.length)},_handleKeydown:function(){this._delay("_refreshButton")},_reset:function(){this.refresh()},_refreshButton:function(){this.setButtonText();this.setButtonCount()},refresh:function(){this._refreshButton()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(!0);
this.button.addClass("ui-state-disabled")},enable:function(){this._setDisabled(!1);this.button.removeClass("ui-state-disabled")}},a.mobile.behaviors.formReset))})(k);(function(a,g){a.mobile.links=function(c){a(c).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var a=this.getAttribute("href").substring(1);a&&(this.setAttribute("aria-haspopup",!0),this.setAttribute("aria-owns",a),this.setAttribute("aria-expanded",!1))}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}})(k);
(function(a,g){function c(a,c,e,d){var l=d;return l=a<c?e+(a-c)/2:Math.min(Math.max(e,d-c/2),e+a-c)}function d(a){return{x:a.scrollLeft(),y:a.scrollTop(),cx:a[0].innerWidth||a.width(),cy:a[0].innerHeight||a.height()}}a.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",
dismissible:!0,enhanced:!1,history:!a.mobile.browser.oldIE},_handleDocumentVmousedown:function(b){this._isOpen&&a.contains(this._ui.container[0],b.target)&&this._ignoreResizeEvents()},_create:function(){var b=this.element,c=b.attr("id"),e=this.options;e.history=e.history&&a.mobile.ajaxEnabled&&a.mobile.hashListeningEnabled;this._on(this.document,{vmousedown:"_handleDocumentVmousedown"});a.extend(this,{_scrollTop:0,_page:b.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,
_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1});0===this._page.length&&(this._page=a("body"));e.enhanced?this._ui={container:b.parent(),screen:b.parent().prev(),placeholder:a(this.document[0].getElementById(c+"-placeholder"))}:(this._ui=this._enhance(b,c),this._applyTransition(e.transition));this._setTolerance(e.tolerance)._ui.focusElement=this._ui.container;this._on(this._ui.screen,{vclick:"_eatEventAndClose"});this._on(this.window,{orientationchange:a.proxy(this,
"_handleWindowOrientationchange"),resize:a.proxy(this,"_handleWindowResize"),keyup:a.proxy(this,"_handleWindowKeyUp")});this._on(this.document,{focusin:"_handleDocumentFocusIn"})},_enhance:function(b,c){var e=this.options,d=e.wrapperClass,d={screen:a("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",e.overlayTheme)+"'></div>"),placeholder:a("<div style='display: none;'>\x3c!-- placeholder --\x3e</div>"),container:a("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+
(d?" "+d:"")+"'></div>")},l=this.document[0].createDocumentFragment();l.appendChild(d.screen[0]);l.appendChild(d.container[0]);c&&(d.screen.attr("id",c+"-screen"),d.container.attr("id",c+"-popup"),d.placeholder.attr("id",c+"-placeholder").html("\x3c!-- placeholder for "+c+" --\x3e"));this._page[0].appendChild(l);d.placeholder.insertAfter(b);b.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",e.theme)+" "+(e.shadow?"ui-overlay-shadow ":"")+(e.corners?"ui-corner-all ":"")).appendTo(d.container);
return d},_eatEventAndClose:function(a){a.preventDefault();a.stopImmediatePropagation();this.options.dismissible&&this.close();return!1},_resizeScreen:function(){var a=this._ui.screen,c=this._ui.container.outerHeight(!0),e=a.removeAttr("style").height(),d=this.document.height()-1;e<d?a.height(d):c>e&&a.height(c)},_handleWindowKeyUp:function(b){if(this._isOpen&&b.keyCode===a.mobile.keyCode.ESCAPE)return this._eatEventAndClose(b)},_expectResizeEvent:function(){var a=d(this.window);if(this._resizeData){if(a.x===
this._resizeData.windowCoordinates.x&&a.y===this._resizeData.windowCoordinates.y&&a.cx===this._resizeData.windowCoordinates.cx&&a.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:a};return!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),
this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo);this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1E3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||
this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(b){var c,e=b.target,d=this._ui;if(this._isOpen){if(e!==d.container[0]){c=a(e);if(!a.contains(d.container[0],e))return a(this.document[0].activeElement).one("focus",
a.proxy(function(){this._safelyBlur(e)},this)),d.focusElement.focus(),b.preventDefault(),b.stopImmediatePropagation(),!1;d.focusElement[0]===d.container[0]&&(d.focusElement=c)}this._ignoreResizeEvents()}},_themeClassFromOption:function(a,c){return c?"none"===c?"":a+c:a+"inherit"},_applyTransition:function(b){b&&(this._ui.container.removeClass(this._fallbackTransition),"none"!==b&&(this._fallbackTransition=a.mobile._maybeDegradeTransition(b),"none"===this._fallbackTransition&&(this._fallbackTransition=
""),this._ui.container.addClass(this._fallbackTransition)));return this},_setOptions:function(a){var c=this.options,e=this.element,d=this._ui.screen;a.wrapperClass!==g&&this._ui.container.removeClass(c.wrapperClass).addClass(a.wrapperClass);a.theme!==g&&e.removeClass(this._themeClassFromOption("ui-body-",c.theme)).addClass(this._themeClassFromOption("ui-body-",a.theme));a.overlayTheme!==g&&(d.removeClass(this._themeClassFromOption("ui-overlay-",c.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",
a.overlayTheme)),this._isOpen&&d.addClass("in"));a.shadow!==g&&e.toggleClass("ui-overlay-shadow",a.shadow);a.corners!==g&&e.toggleClass("ui-corner-all",a.corners);a.transition!==g&&(this._currentTransition||this._applyTransition(a.transition));a.tolerance!==g&&this._setTolerance(a.tolerance);a.disabled!==g&&a.disabled&&this.close();return this._super(a)},_setTolerance:function(b){var c={t:30,r:15,b:30,l:15},e;if(b!==g)switch(e=String(b).split(","),a.each(e,function(a,b){e[a]=parseInt(b,10)}),e.length){case 1:isNaN(e[0])||
(c.t=c.r=c.b=c.l=e[0]);break;case 2:isNaN(e[0])||(c.t=c.b=e[0]);isNaN(e[1])||(c.l=c.r=e[1]);break;case 4:isNaN(e[0])||(c.t=e[0]),isNaN(e[1])||(c.r=e[1]),isNaN(e[2])||(c.b=e[2]),isNaN(e[3])||(c.l=e[3])}this._tolerance=c;return this},_clampPopupWidth:function(a){var c=d(this.window),c={x:this._tolerance.l,y:c.y+this._tolerance.t,cx:c.cx-this._tolerance.l-this._tolerance.r,cy:c.cy-this._tolerance.t-this._tolerance.b};a||this._ui.container.css("max-width",c.cx);a={cx:this._ui.container.outerWidth(!0),
cy:this._ui.container.outerHeight(!0)};return{rc:c,menuSize:a}},_calculateFinalLocation:function(a,f){var e;e=f.rc;var d=f.menuSize;e={left:c(e.cx,d.cx,e.x,a.x),top:c(e.cy,d.cy,e.y,a.y)};e.top=Math.max(0,e.top);e.top-=Math.min(e.top,Math.max(0,e.top+d.cy-this.document.height()));return e},_placementCoords:function(a){return this._calculateFinalLocation(a,this._clampPopupWidth())},_createPrerequisites:function(b,c,e){var d,l=this;d={screen:a.Deferred(),container:a.Deferred()};d.screen.then(function(){d===
l._prerequisites&&b()});d.container.then(function(){d===l._prerequisites&&c()});a.when(d.screen,d.container).done(function(){d===l._prerequisites&&(l._prerequisites=null,e())});l._prerequisites=d},_animate:function(b){this._ui.screen.removeClass(b.classToRemove).addClass(b.screenClassToAdd);b.prerequisites.screen.resolve();if(b.transition&&"none"!==b.transition&&(b.applyTransition&&this._applyTransition(b.transition),this._fallbackTransition)){this._ui.container.addClass(b.containerClassToAdd).removeClass(b.classToRemove).animationComplete(a.proxy(b.prerequisites.container,
"resolve"));return}this._ui.container.removeClass(b.classToRemove);b.prerequisites.container.resolve()},_desiredCoords:function(b){var c,e=null,h=d(this.window),l=b.x;c=b.y;if((b=b.positionTo)&&"origin"!==b)if("window"===b)l=h.cx/2+h.x,c=h.cy/2+h.y;else{try{e=a(b)}catch(g){e=null}e&&(e.filter(":visible"),0===e.length&&(e=null))}e&&(c=e.offset(),l=c.left+e.outerWidth()/2,c=c.top+e.outerHeight()/2);if("number"!==a.type(l)||isNaN(l))l=h.cx/2+h.x;if("number"!==a.type(c)||isNaN(c))c=h.cy/2+h.y;return{x:l,
y:c}},_reposition:function(a){a={x:a.x,y:a.y,positionTo:a.positionTo};this._trigger("beforeposition",g,a);this._ui.container.offset(this._placementCoords(this._desiredCoords(a)))},reposition:function(a){this._isOpen&&this._reposition(a)},_safelyBlur:function(b){b!==this.window[0]&&"body"!==b.nodeName.toLowerCase()&&a(b).blur()},_openPrerequisitesComplete:function(){var b=this.element.attr("id"),c=this._ui.container.find(":focusable").first();this._ui.container.addClass("ui-popup-active");this._isOpen=
!0;this._resizeScreen();a.contains(this._ui.container[0],this.document[0].activeElement)||this._safelyBlur(this.document[0].activeElement);0<c.length&&(this._ui.focusElement=c);this._ignoreResizeEvents();b&&this.document.find("[aria-haspopup='true'][aria-owns='"+b+"']").attr("aria-expanded",!0);this._trigger("afteropen")},_open:function(b){b=a.extend({},this.options,b);var c;c=navigator.userAgent;var d=c.match(/AppleWebKit\/([0-9\.]+)/),d=!!d&&d[1],h=c.match(/Android (\d+(?:\.\d+))/),l=!!h&&h[1];
c=-1<c.indexOf("Chrome");c=null!==h&&"4.0"===l&&d&&534.13<d&&!c?!0:!1;this._createPrerequisites(a.noop,a.noop,a.proxy(this,"_openPrerequisitesComplete"));this._currentTransition=b.transition;this._applyTransition(b.transition);this._ui.screen.removeClass("ui-screen-hidden");this._ui.container.removeClass("ui-popup-truncate");this._reposition(b);this._ui.container.removeClass("ui-popup-hidden");this.options.overlayTheme&&c&&this.element.closest(".ui-page").addClass("ui-popup-open");this._animate({additionalCondition:!0,
transition:b.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var b=this._ui.container,c=this.element.attr("id");a.mobile.popup.active=
g;a(":focus",b[0]).add(b[0]).blur();c&&this.document.find("[aria-haspopup='true'][aria-owns='"+c+"']").attr("aria-expanded",!1);this._trigger("afterclose")},_close:function(b){this._ui.container.removeClass("ui-popup-active");this._page.removeClass("ui-popup-open");this._isOpen=!1;this._createPrerequisites(a.proxy(this,"_closePrerequisiteScreen"),a.proxy(this,"_closePrerequisiteContainer"),a.proxy(this,"_closePrerequisitesDone"));this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:b?
"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this._setOptions({theme:a.mobile.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){a.mobile.popup.active===
this?(this.element.one("popupafterclose",a.proxy(this,"_unenhance")),this.close()):this._unenhance();return this},_closePopup:function(b,c){var d,h=this.options,l=!1;b&&b.isDefaultPrevented()||a.mobile.popup.active!==this||(n.scrollTo(0,this._scrollTop),b&&"pagebeforechange"===b.type&&c&&(d="string"===typeof c.toPage?c.toPage:c.toPage.jqmData("url"),d=a.mobile.path.parseUrl(d),d=d.pathname+d.search+d.hash,this._myUrl!==a.mobile.path.makeUrlAbsolute(d)?l=!0:b.preventDefault()),this.window.off(h.closeEvents),
this.element.undelegate(h.closeLinkSelector,h.closeLinkEvents),this._close(l))},_bindContainerClose:function(){this.window.on(this.options.closeEvents,a.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(b){var c,d,h,l,g=this;d=this.options;if(a.mobile.popup.active||d.disabled)return this;a.mobile.popup.active=this;this._scrollTop=this.window.scrollTop();if(!d.history)return g._open(b),g._bindContainerClose(),g.element.delegate(d.closeLinkSelector,d.closeLinkEvents,
function(a){g.close();a.preventDefault()}),this;l=a.mobile.navigate.history;d=a.mobile.dialogHashKey;h=(c=a.mobile.activePage)?c.hasClass("ui-dialog"):!1;this._myUrl=c=l.getActive().url;if(-1<c.indexOf(d)&&!h&&0<l.activeIndex)return g._open(b),g._bindContainerClose(),this;c=-1!==c.indexOf(d)||h?a.mobile.path.parseLocation().hash+d:c+(-1<c.indexOf("#")?d:"#"+d);this.window.one("beforenavigate",function(a){a.preventDefault();g._open(b);g._bindContainerClose()});this.urlAltered=!0;a.mobile.navigate(c,
{role:"dialog"});return this},close:function(){if(a.mobile.popup.active!==this)return this;this._scrollTop=this.window.scrollTop();this.options.history&&this.urlAltered?(a.mobile.back(),this.urlAltered=!1):this._closePopup();return this}});a.mobile.popup.handleLink=function(b){var c;c=a.mobile.path;var d=a(c.hashToSelector(c.parseUrl(b.attr("href")).hash)).first();0<d.length&&d.data("mobile-popup")&&(c=b.offset(),d.popup("open",{x:c.left+b.outerWidth()/2,y:c.top+b.outerHeight()/2,transition:b.jqmData("transition"),
positionTo:b.jqmData("position-to")}));setTimeout(function(){b.removeClass(a.mobile.activeBtnClass)},300)};a.mobile.document.on("pagebeforechange",function(b,c){"popup"===c.options.role&&(a.mobile.popup.handleLink(c.options.link),b.preventDefault())})})(k);(function(a,g){var c=function(a,b,c){a=a[c+"All"]().not(".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')").first();a.length&&(b.blur().attr("tabindex","-1"),a.find("a").first().focus())};a.widget("mobile.selectmenu",
a.mobile.selectmenu,{_create:function(){var a=this.options;a.nativeMenu=a.nativeMenu||0<this.element.parents(":jqmData(role='popup'),:mobile-popup").length;return this._super()},_handleSelectFocus:function(){this.element.blur();this.button.focus()},_handleKeydown:function(a){this._super(a);this._handleButtonVclickKeydown(a)},_handleButtonVclickKeydown:function(c){this.options.disabled||this.isOpen||this.options.nativeMenu||"vclick"!==c.type&&(!c.keyCode||c.keyCode!==a.mobile.keyCode.ENTER&&c.keyCode!==
a.mobile.keyCode.SPACE)||(this._decideFormat(),"overlay"===this.menuType?this.button.attr("href","#"+this.popupId).attr("data-"+(a.mobile.ns||"")+"rel","popup"):this.button.attr("href","#"+this.dialogId).attr("data-"+(a.mobile.ns||"")+"rel","dialog"),this.isOpen=!0)},_handleListFocus:function(c){var b="focusin"===c.type?{tabindex:"0",event:"vmouseover"}:{tabindex:"-1",event:"vmouseout"};a(c.target).attr("tabindex",b.tabindex).trigger(b.event)},_handleListKeydown:function(d){var b=a(d.target),f=b.closest("li");
switch(d.keyCode){case 38:return c(f,b,"prev"),!1;case 40:return c(f,b,"next"),!1;case 13:case 32:return b.trigger("click"),!1}},_handleMenuPageHide:function(){this._delayedTrigger();this.thisPage.page("bindRemove")},_handleHeaderCloseClick:function(){if("overlay"===this.menuType)return this.close(),!1},_handleListItemClick:function(c){var b=a(c.target).closest("li"),f=this.select[0].selectedIndex,e=a.mobile.getAttribute(b,"option-index"),h=this._selectOptions().eq(e)[0];h.selected=this.isMultiple?
!h.selected:!0;this.isMultiple&&b.find("a").toggleClass("ui-checkbox-on",h.selected).toggleClass("ui-checkbox-off",!h.selected);this.isMultiple||f===e||(this._triggerChange=!0);this.isMultiple?(this.select.trigger("change"),this.list.find("li:not(.ui-li-divider)").eq(e).find("a").first().focus()):this.close();c.preventDefault()},build:function(){var c,b,f,e,h,l,k,p,q,n,t,w,y,z=this.options;if(z.nativeMenu)return this._super();c=this.selectId;b=c+"-listbox";f=c+"-dialog";e=this.label;h=this.element.closest(".ui-page");
l=this.element[0].multiple;k=c+"-menu";p=z.theme?" data-"+a.mobile.ns+"theme='"+z.theme+"'":"";n=(q=z.overlayTheme||z.theme||null)?" data-"+a.mobile.ns+"overlay-theme='"+q+"'":"";t=z.dividerTheme&&l?" data-"+a.mobile.ns+"divider-theme='"+z.dividerTheme+"'":"";q=a("<div data-"+a.mobile.ns+"role='dialog' class='ui-selectmenu' id='"+f+"'"+p+n+"><div data-"+a.mobile.ns+"role='header'><div class='ui-title'></div></div><div data-"+a.mobile.ns+"role='content'></div></div>");n=a("<div"+p+n+" id='"+b+"' class='ui-selectmenu'></div>").insertAfter(this.select).popup();
p=a("<ul class='ui-selectmenu-list' id='"+k+"' role='listbox' aria-labelledby='"+this.buttonId+"'"+p+t+"></ul>").appendTo(n);t=a("<div class='ui-header ui-bar-"+(z.theme?z.theme:"inherit")+"'></div>").prependTo(n);w=a("<h1 class='ui-title'></h1>").appendTo(t);this.isMultiple&&(y=a("<a>",{role:"button",text:z.closeText,href:"#","class":"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete"}).appendTo(t));a.extend(this,{selectId:c,menuId:k,popupId:b,dialogId:f,thisPage:h,menuPage:q,label:e,
isMultiple:l,theme:z.theme,listbox:n,list:p,header:t,headerTitle:w,headerClose:y,menuPageContent:void 0,menuPageClose:void 0,placeholder:""});this.refresh();this._origTabIndex===g&&(this._origTabIndex=null===this.select[0].getAttribute("tabindex")?!1:this.select.attr("tabindex"));this.select.attr("tabindex","-1");this._on(this.select,{focus:"_handleSelectFocus"});this._on(this.button,{vclick:"_handleButtonVclickKeydown"});this.list.attr("role","listbox");this._on(this.list,{focusin:"_handleListFocus",
focusout:"_handleListFocus",keydown:"_handleListKeydown","click li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)":"_handleListItemClick"});this._on(this.menuPage,{pagehide:"_handleMenuPageHide"});this._on(this.listbox,{popupafterclose:"_popupClosed"});this.isMultiple&&this._on(this.headerClose,{click:"_handleHeaderCloseClick"});return this},_popupClosed:function(){this.close();this._delayedTrigger()},_delayedTrigger:function(){this._triggerChange&&this.element.trigger("change");this._triggerChange=
!1},_isRebuildRequired:function(){var a=this.list.find("li");return this._selectOptions().not(".ui-screen-hidden").text()!==a.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(c){var b,f;if(this.options.nativeMenu)return this._super(c);b=this;(c||this._isRebuildRequired())&&b._buildList();f=this.selectedIndices();b.setButtonText();b.setButtonCount();b.list.find("li:not(.ui-li-divider)").find("a").removeClass(a.mobile.activeBtnClass).end().attr("aria-selected",
!1).each(function(c){var d=a(this);-1<a.inArray(c,f)?(d.attr("aria-selected",!0),b.isMultiple?d.find("a").removeClass("ui-checkbox-off").addClass("ui-checkbox-on"):d.hasClass("ui-screen-hidden")?d.next().find("a").addClass(a.mobile.activeBtnClass):d.find("a").addClass(a.mobile.activeBtnClass)):b.isMultiple&&d.find("a").removeClass("ui-checkbox-on").addClass("ui-checkbox-off")})},close:function(){!this.options.disabled&&this.isOpen&&("page"===this.menuType?(this.menuPage.dialog("close"),this.list.appendTo(this.listbox)):
this.listbox.popup("close"),this._focusButton(),this.isOpen=!1)},open:function(){this.button.click()},_focusMenuItem:function(){var c=this.list.find("a."+a.mobile.activeBtnClass);0===c.length&&(c=this.list.find("li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')) a.ui-btn"));c.first().focus()},_decideFormat:function(){var c=this.window,b=this.list.parent().outerHeight(),f=c.scrollTop(),e=this.button.offset().top,c=c.height();if(b>c-80||!a.support.scrollTop){this.menuPage.appendTo(a.mobile.pageContainer).page();
this.menuPageContent=this.menuPage.find(".ui-content");this.menuPageClose=this.menuPage.find(".ui-header a");this.thisPage.unbind("pagehide.remove");if(0===f&&e>c)this.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",e)});this.menuPage.one({pageshow:a.proxy(this,"_focusMenuItem"),pagehide:a.proxy(this,"close")});this.menuType="page";this.menuPageContent.append(this.list);this.menuPage.find("div .ui-title").text(this.label.getEncodedText()||this.placeholder)}else this.menuType="overlay",
this.listbox.one({popupafteropen:a.proxy(this,"_focusMenuItem")})},_buildList:function(){var c=this.options,b=this.placeholder,f=!0,e,h,g;e="data-"+a.mobile.ns;var k=e+"option-index",p=e+"icon",q=e+"role",n=e+"placeholder",E=t.createDocumentFragment(),w=!1,y,z,C,v,D,P,Q,L;this.list.empty().filter(".ui-listview").listview("destroy");e=this._selectOptions();h=e.length;g=this.select[0];for(z=0;z<h;z++,w=!1)C=e[z],v=a(C),v.hasClass("ui-screen-hidden")||(D=C.parentNode,L=[],P=v.text(),Q=t.createElement("a"),
Q.setAttribute("href","#"),Q.appendChild(t.createTextNode(P)),D!==g&&"optgroup"===D.nodeName.toLowerCase()&&(D=D.getAttribute("label"),D!==y&&(y=t.createElement("li"),y.setAttribute(q,"list-divider"),y.setAttribute("role","option"),y.setAttribute("tabindex","-1"),y.appendChild(t.createTextNode(D)),E.appendChild(y),y=D)),!f||C.getAttribute("value")&&0!==P.length&&!v.jqmData("placeholder")||(f=!1,w=!0,null===C.getAttribute(n)&&(this._removePlaceholderAttr=!0),C.setAttribute(n,!0),c.hidePlaceholderMenuItems&&
L.push("ui-screen-hidden"),b!==P&&(b=this.placeholder=P)),v=t.createElement("li"),C.disabled&&(L.push("ui-state-disabled"),v.setAttribute("aria-disabled",!0)),v.setAttribute(k,z),v.setAttribute(p,"false"),w&&v.setAttribute(n,!0),v.className=L.join(" "),v.setAttribute("role","option"),Q.setAttribute("tabindex","-1"),this.isMultiple&&a(Q).addClass("ui-btn ui-checkbox-off ui-btn-icon-right"),v.appendChild(Q),E.appendChild(v));this.list[0].appendChild(E);this.isMultiple||b.length?this.headerTitle.text(this.placeholder):
this.header.addClass("ui-screen-hidden");this.list.listview()},_button:function(){return this.options.nativeMenu?this._super():a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.options.nativeMenu||(this.close(),this._origTabIndex!==g&&(!1!==this._origTabIndex?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+a.mobile.ns+"placeholder"),
this.listbox.remove(),this.menuPage.remove());this._super()}})})(k);(function(a,g){function c(a){return"-"+a.toLowerCase()}var d={"ui-shadow":"shadow","ui-corner-all":"corners","ui-btn-inline":"inline","ui-shadow-icon":"iconshadow","ui-mini":"mini"},b=function(){var b=a.mobile.getAttribute.apply(this,arguments);return null==b?g:b},f=/[A-Z]/g;a.fn.buttonMarkup=function(e,h){var l,k,p,q,n,t=a.fn.buttonMarkup.defaults;for(l=0;l<this.length;l++){p=this[l];var w;if(h)w={alreadyEnhanced:!1,unknownClasses:[]};
else{w=p.className;var y=k=q=void 0,z=!1,C=!0,v={icon:"",inline:!1,shadow:!1,corners:!1,iconshadow:!1,mini:!1},D=[];w=w.split(" ");for(q=0;q<w.length;q++)y=!0,k=d[w[q]],k!==g?(y=!1,v[k]=!0):0===w[q].indexOf("ui-btn-icon-")?(C=y=!1,v.iconpos=w[q].substring(12)):0===w[q].indexOf("ui-icon-")?(y=!1,v.icon=w[q].substring(8)):0===w[q].indexOf("ui-btn-")&&8===w[q].length?(y=!1,v.theme=w[q].substring(7)):"ui-btn"===w[q]&&(y=!1,z=!0),y&&D.push(w[q]);C&&(v.icon="");w={options:v,unknownClasses:D,alreadyEnhanced:z}}k=
w;q=a.extend({},k.alreadyEnhanced?k.options:{},e);if(!k.alreadyEnhanced)for(n in t)q[n]===g&&(q[n]=b(p,n.replace(f,c)));w=p;q=a.extend({},t,q);k=(k=k.unknownClasses)?k:[];k.push("ui-btn");q.theme&&k.push("ui-btn-"+q.theme);q.icon&&(k=k.concat(["ui-icon-"+q.icon,"ui-btn-icon-"+q.iconpos]),q.iconshadow&&k.push("ui-shadow-icon"));q.inline&&k.push("ui-btn-inline");q.shadow&&k.push("ui-shadow");q.corners&&k.push("ui-corner-all");q.mini&&k.push("ui-mini");w.className=k.join(" ");"button"!==p.tagName.toLowerCase()&&
p.setAttribute("role","button")}return this};a.fn.buttonMarkup.defaults={icon:"",iconpos:"left",theme:null,inline:!1,shadow:!0,corners:!0,iconshadow:!1,mini:!1};a.extend(a.fn.buttonMarkup,{initSelector:"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button:not(:jqmData(role='navbar') button)"})})(k);(function(a,g){a.widget("mobile.controlgroup",a.extend({options:{enhanced:!1,theme:null,shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1},_create:function(){var c=
this.element,d=this.options,b=a.mobile.page.prototype.keepNativeSelector();a.fn.buttonMarkup&&this.element.find(a.fn.buttonMarkup.initSelector).not(b).buttonMarkup();a.each(this._childWidgets,a.proxy(function(c,d){if(a.mobile[d])this.element.find(a.mobile[d].initSelector).not(b)[d]()},this));a.extend(this,{_ui:null,_initialRefresh:!0});this._ui=d.enhanced?{groupLegend:c.children(".ui-controlgroup-label").children(),childWrapper:c.children(".ui-controlgroup-controls")}:this._enhance()},_childWidgets:["checkboxradio",
"selectmenu","button"],_themeClassFromOption:function(a){return a?"none"===a?"":"ui-group-theme-"+a:""},_enhance:function(){var c=this.element,d=this.options,d={groupLegend:c.children("legend"),childWrapper:c.addClass("ui-controlgroup ui-controlgroup-"+("horizontal"===d.type?"horizontal":"vertical")+" "+this._themeClassFromOption(d.theme)+" "+(d.corners?"ui-corner-all ":"")+(d.mini?"ui-mini ":"")).wrapInner("<div class='ui-controlgroup-controls "+(!0===d.shadow?"ui-shadow":"")+"'></div>").children()};
0<d.groupLegend.length&&a("<div role='heading' class='ui-controlgroup-label'></div>").append(d.groupLegend).prependTo(c);return d},_init:function(){this.refresh()},_setOptions:function(a){var d,b=this.element;a.type!==g&&(b.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+("horizontal"===a.type?"horizontal":"vertical")),d=!0);a.theme!==g&&b.removeClass(this._themeClassFromOption(this.options.theme)).addClass(this._themeClassFromOption(a.theme));a.corners!==
g&&b.toggleClass("ui-corner-all",a.corners);a.mini!==g&&b.toggleClass("ui-mini",a.mini);a.shadow!==g&&this._ui.childWrapper.toggleClass("ui-shadow",a.shadow);a.excludeInvisible!==g&&(this.options.excludeInvisible=a.excludeInvisible,d=!0);a=this._super(a);d&&this.refresh();return a},container:function(){return this._ui.childWrapper},refresh:function(){var c=this.container(),d=c.find(".ui-btn").not(".ui-slider-handle"),b=this._initialRefresh;a.mobile.checkboxradio&&c.find(":mobile-checkboxradio").checkboxradio("refresh");
this._addFirstLastClasses(d,this.options.excludeInvisible?this._getVisibles(d,b):d,b);this._initialRefresh=!1},_destroy:function(){var a,d;d=this.options;if(d.enhanced)return this;a=this._ui;d=this.element.removeClass("ui-controlgroup ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini "+this._themeClassFromOption(d.theme)).find(".ui-btn").not(".ui-slider-handle");this._removeFirstLastClasses(d);a.groupLegend.unwrap();a.childWrapper.children().unwrap()}},a.mobile.behaviors.addFirstLastClasses))})(k);
(function(a,g){a.widget("mobile.toolbar",{initSelector:":jqmData(role='footer'), :jqmData(role='header')",options:{theme:null,addBackBtn:!1,backBtnTheme:null,backBtnText:"Back"},_create:function(){var c=this.element.is(":jqmData(role='header')")?"header":"footer",d=this.element.closest(".ui-page");0===d.length&&(d=!1,this._on(this.document,{pageshow:"refresh"}));a.extend(this,{role:c,page:d,leftbtn:void 0,rightbtn:void 0});this.element.attr("role","header"===c?"banner":"contentinfo").addClass("ui-"+
c);this.refresh();this._setOptions(this.options)},_setOptions:function(a){a.addBackBtn!==g&&this._updateBackButton();null!=a.backBtnTheme&&this.element.find(".ui-toolbar-back-btn").addClass("ui-btn ui-btn-"+a.backBtnTheme);a.backBtnText!==g&&this.element.find(".ui-toolbar-back-btn .ui-btn-text").text(a.backBtnText);if(a.theme!==g){var d=a.theme?a.theme:"inherit";this.element.removeClass("ui-bar-"+(this.options.theme?this.options.theme:"inherit")).addClass("ui-bar-"+d)}this._super(a)},refresh:function(){"header"===
this.role&&this._addHeaderButtonClasses();this.page||(this._setRelative(),"footer"===this.role?this.element.appendTo("body"):"header"===this.role&&this._updateBackButton());this._addHeadingClasses();this._btnMarkup()},_setRelative:function(){a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_btnMarkup:function(){this.element.children("a").filter(":not([data-"+a.mobile.ns+"role='none'])").attr("data-"+a.mobile.ns+"role","button");this.element.trigger("create")},_addHeaderButtonClasses:function(){var a=
this.element.children("a, button");this.leftbtn=a.hasClass("ui-btn-left")&&!a.hasClass("ui-toolbar-back-btn");this.rightbtn=a.hasClass("ui-btn-right");this.leftbtn=this.leftbtn||a.eq(0).not(".ui-btn-right,.ui-toolbar-back-btn").addClass("ui-btn-left").length;this.rightbtn=this.rightbtn||a.eq(1).addClass("ui-btn-right").length},_updateBackButton:function(){var c,d=this.options,b=d.backBtnTheme||d.theme;c=this._backButton=this._backButton||{};this.options.addBackBtn&&"header"===this.role&&1<a(".ui-page").length&&
(this.page?this.page[0].getAttribute("data-"+a.mobile.ns+"url")!==a.mobile.path.stripHash(location.hash):a.mobile.navigate&&a.mobile.navigate.history&&0<a.mobile.navigate.history.activeIndex)&&!this.leftbtn?c.attached||(this.backButton=c.element=(c.element||a("<a role='button' href='javascript:void(0);' class='ui-btn ui-corner-all ui-shadow ui-btn-left "+(b?"ui-btn-"+b+" ":"")+"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' data-"+a.mobile.ns+"rel='back'>"+d.backBtnText+"</a>")).prependTo(this.element),
c.attached=!0):c.element&&(c.element.detach(),c.attached=!1)},_addHeadingClasses:function(){this.element.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})},_destroy:function(){this.element.children("h1, h2, h3, h4, h5, h6").removeClass("ui-title").removeAttr("role").removeAttr("aria-level");"header"===this.role&&(this.element.children("a, button").removeClass("ui-btn-left ui-btn-right ui-btn ui-shadow ui-corner-all"),this.backButton&&this.backButton.remove());
this.element.removeClass("ui-bar-"+(this.options.theme?this.options.theme:"inherit"));this.element.removeClass("ui-"+this.role).removeAttr("role")}})})(k);(function(a,g){a.widget("mobile.toolbar",a.mobile.toolbar,{options:{position:null,visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",
updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!a.support.fixedPosition}},_create:function(){this._super();this.pagecontainer=a(":mobile-pagecontainer");"fixed"!==this.options.position||this.options.supportBlacklist()||this._makeFixed()},_makeFixed:function(){this.element.addClass("ui-"+this.role+"-fixed");this.updatePagePadding();this._addTransitionClass();this._bindPageEvents();this._bindToggleHandlers()},_setOptions:function(c){"fixed"===c.position&&"fixed"!==
this.options.position&&this._makeFixed();if("fixed"===this.options.position&&!this.options.supportBlacklist()){var d=this.page?this.page:0<a(".ui-page-active").length?a(".ui-page-active"):a(".ui-page").eq(0);c.fullscreen!==g&&(c.fullscreen?(this.element.addClass("ui-"+this.role+"-fullscreen"),d.addClass("ui-page-"+this.role+"-fullscreen")):(this.element.removeClass("ui-"+this.role+"-fullscreen"),d.removeClass("ui-page-"+this.role+"-fullscreen").addClass("ui-page-"+this.role+"-fixed")))}this._super(c)},
_addTransitionClass:function(){var a=this.options.transition;a&&"none"!==a&&("slide"===a&&(a=this.element.hasClass("ui-header")?"slidedown":"slideup"),this.element.addClass(a))},_bindPageEvents:function(){var a=this.page?this.element.closest(".ui-page"):this.document;this._on(a,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},
_handlePageBeforeShow:function(){var c=this.options;c.disablePageZoom&&a.mobile.zoom.disable(!0);c.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this.page?this.page:".ui-page-active")},_handlePageShow:function(){this.updatePagePadding(this.page?this.page:".ui-page-active");this.options.updatePagePadding&&this._on(this.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(c,d){var b=this.options,f,e,
h;b.disablePageZoom&&a.mobile.zoom.enable(!0);b.updatePagePadding&&this._off(this.window,"throttledresize");b.trackPersistentToolbars&&(b=a(".ui-footer-fixed:jqmData(id)",this.page),f=a(".ui-header-fixed:jqmData(id)",this.page),e=b.length&&d.nextPage&&a(".ui-footer-fixed:jqmData(id='"+b.jqmData("id")+"')",d.nextPage)||a(),h=f.length&&d.nextPage&&a(".ui-header-fixed:jqmData(id='"+f.jqmData("id")+"')",d.nextPage)||a(),e.length||h.length)&&(e.add(h).appendTo(a.mobile.pageContainer),d.nextPage.one("pageshow",
function(){h.prependTo(this);e.appendTo(this)}))},_visible:!0,updatePagePadding:function(c){var d=this.element,b="header"===this.role,f=parseFloat(d.css(b?"top":"bottom"));this.options.fullscreen||(c&&c.type===g&&c||this.page||d.closest(".ui-page"),c=this.page?this.page:".ui-page-active",a(c).css("padding-"+(b?"top":"bottom"),d.outerHeight()+f))},_useTransition:function(c){var d=this.element,b=this.window.scrollTop(),f=d.height(),d=this.page?d.closest(".ui-page").height():a(".ui-page-active").height(),
e=a.mobile.getScreenHeight();return!c&&(this.options.transition&&"none"!==this.options.transition&&("header"===this.role&&!this.options.fullscreen&&b>f||"footer"===this.role&&!this.options.fullscreen&&b+e<d-f)||this.options.fullscreen)},show:function(a){var d=this.element;this._useTransition(a)?d.removeClass("out ui-fixed-hidden").addClass("in").animationComplete(function(){d.removeClass("in")}):d.removeClass("ui-fixed-hidden");this._visible=!0},hide:function(a){var d=this.element,b="out"+("slide"===
this.options.transition?" reverse":"");this._useTransition(a)?d.addClass(b).removeClass("in").animationComplete(function(){d.addClass("ui-fixed-hidden").removeClass(b)}):d.addClass("ui-fixed-hidden").removeClass(b);this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var c=this,d=c.options,b,f,e=!0;(this.page?this.page:a(".ui-page")).bind("vclick",function(b){d.tapToggle&&!a(b.target).closest(d.tapToggleBlacklist).length&&c.toggle()}).bind("focusin focusout",
function(h){1025>screen.width&&a(h.target).is(d.hideDuringFocus)&&!a(h.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==h.type||e?"focusin"===h.type&&e&&(clearTimeout(b),e=!1,f=setTimeout(function(){c.hide()},0)):(e=!0,clearTimeout(f),b=setTimeout(function(){c.show()},0)))})},_setRelative:function(){"fixed"!==this.options.position&&a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_destroy:function(){var c,d,b,f=this.pagecontainer.pagecontainer("getActivePage");
this._super();"fixed"===this.options.position&&(d=0<a("body>.ui-"+this.role+"-fixed").add(f.find(".ui-"+this.options.role+"-fixed")).not(this.element).length,b=0<a("body>.ui-"+this.role+"-fixed").add(f.find(".ui-"+this.options.role+"-fullscreen")).not(this.element).length,this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen in out ui-footer-fullscreen fade slidedown slideup ui-fixed-hidden"),b||(c="ui-page-"+this.role+"-fullscreen"),d||(d="header"===this.role,c+=" ui-page-"+
this.role+"-fixed",f.css("padding-"+(d?"top":"bottom"),"")),f.removeClass(c))}})})(k);(function(a,g){a.widget("mobile.toolbar",a.mobile.toolbar,{_makeFixed:function(){this._super();this._workarounds()},_workarounds:function(){var a=navigator.userAgent,d=navigator.platform,b=a.match(/AppleWebKit\/([0-9]+)/),b=!!b&&b[1],f=null;if(-1<d.indexOf("iPhone")||-1<d.indexOf("iPad")||-1<d.indexOf("iPod"))f="ios";else if(-1<a.indexOf("Android"))f="android";else return;"ios"===f?this._bindScrollWorkaround():"android"===
f&&b&&534>b&&(this._bindScrollWorkaround(),this._bindListThumbWorkaround())},_viewportOffset:function(){var a=this.element,d=a.hasClass("ui-header"),b=Math.abs(a.offset().top-this.window.scrollTop());d||(b=Math.round(b-this.window.height()+a.outerHeight())-60);return b},_bindScrollWorkaround:function(){var a=this;this._on(this.window,{scrollstop:function(){2<a._viewportOffset()&&a._visible&&a._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},
_triggerRedraw:function(){var c=parseFloat(a(".ui-page-active").css("padding-bottom"));a(".ui-page-active").css("padding-bottom",c+1+"px");setTimeout(function(){a(".ui-page-active").css("padding-bottom",c+"px")},0)},destroy:function(){this._super();this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})})(k);(function(a,g){var c=a.mobile.browser.oldIE&&8>=a.mobile.browser.oldIE,d=a("<div class='ui-popup-arrow-guide'></div><div class='ui-popup-arrow-container"+(c?" ie":"")+"'><div class='ui-popup-arrow'></div></div>");
a.widget("mobile.popup",a.mobile.popup,{options:{arrow:""},_create:function(){var a=this._super();this.options.arrow&&(this._ui.arrow=this._addArrow());return a},_addArrow:function(){var a,c=this.options,e;e=d.clone();a=e.eq(0);e=e.eq(1);var h=e.children();e={arEls:e.add(a),gd:a,ct:e,ar:h};a=this._themeClassFromOption("ui-body-",c.theme);e.ar.addClass(a+(c.shadow?" ui-overlay-shadow":""));e.arEls.hide().appendTo(this.element);return e},_unenhance:function(){var a=this._ui.arrow;a&&a.arEls.remove();
return this._super()},_tryAnArrow:function(a,c,d,h,g){var k;k={};var p={};if(h.arFull[a.dimKey]>h.guideDims[a.dimKey])return g;k[a.fst]=d[a.fst]+(h.arHalf[a.oDimKey]+h.menuHalf[a.oDimKey])*a.offsetFactor-h.contentBox[a.fst]+(h.clampInfo.menuSize[a.oDimKey]-h.contentBox[a.oDimKey])*a.arrowOffsetFactor;k[a.snd]=d[a.snd];k=h.result||this._calculateFinalLocation(k,h.clampInfo);p[a.fst]={x:k.left,y:k.top}[a.fst]+h.contentBox[a.fst]+a.tipOffset;p[a.snd]=Math.max(k[a.prop]+h.guideOffset[a.prop]+h.arHalf[a.dimKey],
Math.min(k[a.prop]+h.guideOffset[a.prop]+h.guideDims[a.dimKey]-h.arHalf[a.dimKey],d[a.snd]));d=Math.abs(d.x-p.x)+Math.abs(d.y-p.y);if(!g||d<g.diff)p[a.snd]-=h.arHalf[a.dimKey]+k[a.prop]+h.contentBox[a.snd],g={dir:c,diff:d,result:k,posProp:a.prop,posVal:p[a.snd]};return g},_getPlacementState:function(a){var c,d=this._ui.arrow,h={clampInfo:this._clampPopupWidth(!a),arFull:{cx:d.ct.width(),cy:d.ct.height()},guideDims:{cx:d.gd.width(),cy:d.gd.height()},guideOffset:d.gd.offset()};a=this.element.offset();
d.gd.css({left:0,top:0,right:0,bottom:0});c=d.gd.offset();h.contentBox={x:c.left-a.left,y:c.top-a.top,cx:d.gd.width(),cy:d.gd.height()};d.gd.removeAttr("style");h.guideOffset={left:h.guideOffset.left-a.left,top:h.guideOffset.top-a.top};h.arHalf={cx:h.arFull.cx/2,cy:h.arFull.cy/2};h.menuHalf={cx:h.clampInfo.menuSize.cx/2,cy:h.clampInfo.menuSize.cy/2};return h},_placementCoords:function(b){var d,e,h,g=this.options.arrow,k=this._ui.arrow;if(!k)return this._super(b);k.arEls.show();d=this._getPlacementState(!0);
h={l:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-d.arHalf.cx,arrowOffsetFactor:0},r:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:d.arHalf.cx+d.contentBox.cx,arrowOffsetFactor:1},b:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:d.arHalf.cy+d.contentBox.cy,arrowOffsetFactor:1},t:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-d.arHalf.cy,arrowOffsetFactor:0}};a.each((!0===
g?"l,t,r,b":g).split(","),a.proxy(function(a,c){e=this._tryAnArrow(h[c],c,b,d,e)},this));if(!e)return k.arEls.hide(),this._super(b);k.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+e.dir).removeAttr("style").css(e.posProp,e.posVal).show();c||(this.element.offset(),k.ct.offset());return e.result},_setOptions:function(a){var c,d=this.options.theme,h=this._ui.arrow,k=this._super(a);if(a.arrow!==g){if(!h&&a.arrow){this._ui.arrow=this._addArrow();
return}h&&!a.arrow&&(h.arEls.remove(),this._ui.arrow=null)}if(h=this._ui.arrow)a.theme!==g&&(d=this._themeClassFromOption("ui-body-",d),c=this._themeClassFromOption("ui-body-",a.theme),h.ar.removeClass(d).addClass(c)),a.shadow!==g&&h.ar.toggleClass("ui-overlay-shadow",a.shadow);return k},_destroy:function(){var a=this._ui.arrow;a&&a.arEls.remove();return this._super()}})})(k);(function(a,g){a.widget("mobile.panel",{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",
panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pageContainer:"ui-panel-page-container",pageWrapper:"ui-panel-wrapper",pageFixedToolbar:"ui-panel-fixed-toolbar",pageContentPrefix:"ui-panel-page-content",animate:"ui-panel-animate"},animate:!0,theme:null,position:"left",dismissible:!0,display:"reveal",swipeClose:!0,positionFixed:!1},_closeLink:null,_parentPage:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbars:null,
_create:function(){var c=this.element,d=c.closest(".ui-page, :jqmData(role='page')");a.extend(this,{_closeLink:c.find(":jqmData(rel='close')"),_parentPage:0<d.length?d:!1,_openedPage:null,_page:this._getPage,_panelInner:this._getPanelInner(),_fixedToolbars:this._getFixedToolbars});"overlay"!==this.options.display&&this._getWrapper();this._addPanelClasses();a.support.cssTransform3d&&this.options.animate&&this.element.addClass(this.options.classes.animate);this._bindUpdateLayout();this._bindCloseEvents();
this._bindLinkListeners();this._bindPageEvents();this.options.dismissible&&this._createModal();this._bindSwipeEvents()},_getPanelInner:function(){var a=this.element.find("."+this.options.classes.panelInner);0===a.length&&(a=this.element.children().wrapAll("<div class='"+this.options.classes.panelInner+"' />").parent());return a},_createModal:function(){var c=this,d=c._parentPage?c._parentPage.parent():c.element.parent();c._modal=a("<div class='"+c.options.classes.modal+"'></div>").on("mousedown",
function(){c.close()}).appendTo(d)},_getPage:function(){return this._openedPage||this._parentPage||a("."+a.mobile.activePageClass)},_getWrapper:function(){var a=this._page().find("."+this.options.classes.pageWrapper);0===a.length&&(a=this._page().children(".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)").wrapAll("<div class='"+this.options.classes.pageWrapper+"'></div>").parent());this._wrapper=a},_getFixedToolbars:function(){var c=a("body").children(".ui-header-fixed, .ui-footer-fixed"),
d=this._page().find(".ui-header-fixed, .ui-footer-fixed");return c.add(d).addClass(this.options.classes.pageFixedToolbar)},_getPosDisplayClasses:function(a){return a+"-position-"+this.options.position+" "+a+"-display-"+this.options.display},_getPanelClasses:function(){var a=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed+" ui-body-"+(this.options.theme?this.options.theme:"inherit");this.options.positionFixed&&(a+=" "+this.options.classes.panelFixed);
return a},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_handleCloseClick:function(a){a.isDefaultPrevented()||this.close()},_bindCloseEvents:function(){this._on(this._closeLink,{click:"_handleCloseClick"});this._on({"click a:jqmData(ajax='false')":"_handleCloseClick"})},_positionPanel:function(c){var d=this._panelInner.outerHeight(),b=d>a.mobile.getScreenHeight();b||!this.options.positionFixed?(b&&(this._unfixPanel(),a.mobile.resetActivePageHeight(d)),c&&this.window[0].scrollTo(0,
a.mobile.defaultHomeScroll)):this._fixPanel()},_bindFixListener:function(){this._on(a(n),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(a(n),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var a=this;a.element.on("updatelayout",
function(){a._open&&a._positionPanel()})},_bindLinkListeners:function(){this._on("body",{"click a":"_handleClick"})},_handleClick:function(c){var d,b=this.element.attr("id");c.currentTarget.href.split("#")[1]===b&&b!==g&&(c.preventDefault(),d=a(c.target),d.hasClass("ui-btn")&&(d.addClass(a.mobile.activeBtnClass),this.element.one("panelopen panelclose",function(){d.removeClass(a.mobile.activeBtnClass)})),this.toggle())},_bindSwipeEvents:function(){var a=this,d=a._modal?a.element.add(a._modal):a.element;
if(a.options.swipeClose)if("left"===a.options.position)d.on("swipeleft.panel",function(){a.close()});else d.on("swiperight.panel",function(){a.close()})},_bindPageEvents:function(){var a=this;this.document.on("panelbeforeopen",function(d){a._open&&d.target!==a.element[0]&&a.close()}).on("keyup.panel",function(d){27===d.keyCode&&a._open&&a.close()});this._parentPage||"overlay"===this.options.display||this._on(this.document,{pageshow:function(){this._openedPage=null;this._getWrapper()}});if(a._parentPage)this.document.on("pagehide",
":jqmData(role='page')",function(){a._open&&a.close(!0)});else this.document.on("pagebeforehide",function(){a._open&&a.close(!0)})},_open:!1,_pageContentOpenClasses:null,_modalOpenClasses:null,open:function(c){if(!this._open){var d=this,b=d.options,f=function(){d._off(d.document,"panelclose");d._page().jqmData("panel","open");a.support.cssTransform3d&&b.animate&&"overlay"!==b.display&&(d._wrapper.addClass(b.classes.animate),d._fixedToolbars().addClass(b.classes.animate));!c&&a.support.cssTransform3d&&
b.animate?(d._wrapper||d.element).animationComplete(e,"transition"):setTimeout(e,0);b.theme&&"overlay"!==b.display&&d._page().parent().addClass(b.classes.pageContainer+"-themed "+b.classes.pageContainer+"-"+b.theme);d.element.removeClass(b.classes.panelClosed).addClass(b.classes.panelOpen);d._positionPanel(!0);d._pageContentOpenClasses=d._getPosDisplayClasses(b.classes.pageContentPrefix);"overlay"!==b.display&&(d._page().parent().addClass(b.classes.pageContainer),d._wrapper.addClass(d._pageContentOpenClasses),
d._fixedToolbars().addClass(d._pageContentOpenClasses));d._modalOpenClasses=d._getPosDisplayClasses(b.classes.modal)+" "+b.classes.modalOpen;d._modal&&d._modal.addClass(d._modalOpenClasses).height(Math.max(d._modal.height(),d.document.height()))},e=function(){d._open&&("overlay"!==b.display&&(d._wrapper.addClass(b.classes.pageContentPrefix+"-open"),d._fixedToolbars().addClass(b.classes.pageContentPrefix+"-open")),d._bindFixListener(),d._trigger("open"),d._openedPage=d._page())};d._trigger("beforeopen");
"open"===d._page().jqmData("panel")?d._on(d.document,{panelclose:f}):f();d._open=!0}},close:function(c){if(this._open){var d=this,b=this.options,f=function(){b.theme&&"overlay"!==b.display&&d._page().parent().removeClass(b.classes.pageContainer+"-themed "+b.classes.pageContainer+"-"+b.theme);d.element.addClass(b.classes.panelClosed);"overlay"!==b.display&&(d._page().parent().removeClass(b.classes.pageContainer),d._wrapper.removeClass(b.classes.pageContentPrefix+"-open"),d._fixedToolbars().removeClass(b.classes.pageContentPrefix+
"-open"));a.support.cssTransform3d&&b.animate&&"overlay"!==b.display&&(d._wrapper.removeClass(b.classes.animate),d._fixedToolbars().removeClass(b.classes.animate));d._fixPanel();d._unbindFixListener();a.mobile.resetActivePageHeight();d._page().jqmRemoveData("panel");d._trigger("close");d._openedPage=null};d._trigger("beforeclose");d.element.removeClass(b.classes.panelOpen);"overlay"!==b.display&&(d._wrapper.removeClass(d._pageContentOpenClasses),d._fixedToolbars().removeClass(d._pageContentOpenClasses));
!c&&a.support.cssTransform3d&&b.animate?(d._wrapper||d.element).animationComplete(f,"transition"):setTimeout(f,0);d._modal&&d._modal.removeClass(d._modalOpenClasses).height("");d._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_destroy:function(){var c,d=this.options,b=1<a("body > :mobile-panel").length+a.mobile.activePage.find(":mobile-panel").length;"overlay"!==d.display&&(c=a("body > :mobile-panel").add(a.mobile.activePage.find(":mobile-panel")),0===c.not(".ui-panel-display-overlay").not(this.element).length&&
this._wrapper.children().unwrap(),this._open&&(this._fixedToolbars().removeClass(d.classes.pageContentPrefix+"-open"),a.support.cssTransform3d&&d.animate&&this._fixedToolbars().removeClass(d.classes.animate),this._page().parent().removeClass(d.classes.pageContainer),d.theme&&this._page().parent().removeClass(d.classes.pageContainer+"-themed "+d.classes.pageContainer+"-"+d.theme)));b||this.document.off("panelopen panelclose");this._open&&this._page().jqmRemoveData("panel");this._panelInner.children().unwrap();
this.element.removeClass([this._getPanelClasses(),d.classes.panelOpen,d.classes.animate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout");this._modal&&this._modal.remove()}})})(k);(function(a,g){a.widget("mobile.table",{options:{classes:{table:"ui-table"},enhanced:!1},_create:function(){this.options.enhanced||this.element.addClass(this.options.classes.table);a.extend(this,{headers:g,allHeaders:g});this._refresh(!0)},
_setHeaders:function(){var a=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children();this.allHeaders=this.headers.add(a.children())},refresh:function(){this._refresh()},rebuild:a.noop,_refresh:function(){var c=this.element,d=c.find("thead tr");this._setHeaders();d.each(function(){var b=0;a(this).children().each(function(){var f=parseInt(this.getAttribute("colspan"),10),e=":nth-child("+(b+1)+")",h;this.setAttribute("data-"+a.mobile.ns+"colstart",b+1);if(f)for(h=0;h<f-1;h++)b++,
e+=", :nth-child("+(b+1)+")";a(this).jqmData("cells",c.find("tr").not(d.eq(0)).not(this).children(e));b++})})}})})(k);(function(a,g){a.widget("mobile.table",a.mobile.table,{options:{mode:"columntoggle",columnBtnTheme:null,columnPopupTheme:null,columnBtnText:"Columns...",classes:a.extend(a.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"})},_create:function(){this._super();
"columntoggle"===this.options.mode&&(a.extend(this,{_menu:null}),this.options.enhanced?(this._menu=a(this.document[0].getElementById(this._id()+"-popup")).children().first(),this._addToggles(this._menu,!0)):(this._menu=this._enhanceColToggle(),this.element.addClass(this.options.classes.columnToggleTable)),this._setupEvents(),this._setToggleState())},_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_setupEvents:function(){this._on(this.window,{throttledresize:"_setToggleState"});
this._on(this._menu,{"change input":"_menuInputChange"})},_addToggles:function(c,d){var b,f=0,e=this.options,h=c.controlgroup("container");d?b=c.find("input"):h.empty();this.headers.not("td").each(function(){var c,g=a(this),k=a.mobile.getAttribute(this,"priority");k&&(c=g.add(g.jqmData("cells")),c.addClass(e.classes.priorityPrefix+k),c=(d?b.eq(f++):a("<label><input type='checkbox' checked />"+(g.children("abbr").first().attr("title")||g.text())+"</label>").appendTo(h).children(0).checkboxradio({theme:e.columnPopupTheme})).jqmData("header",
g).jqmData("cells",c),g.jqmData("input",c))});d||c.controlgroup("refresh")},_menuInputChange:function(c){c=a(c.target);var d=c[0].checked;c.jqmData("cells").toggleClass("ui-table-cell-hidden",!d).toggleClass("ui-table-cell-visible",d)},_unlockCells:function(a){a.removeClass("ui-table-cell-hidden ui-table-cell-visible")},_enhanceColToggle:function(){var c,d,b,f=this.element;b=this.options;d=a.mobile.ns;var e=this.document[0].createDocumentFragment();c=this._id()+"-popup";d=a("<a href='#"+c+"' class='"+
b.classes.columnBtn+" ui-btn ui-btn-"+(b.columnBtnTheme||"a")+" ui-corner-all ui-shadow ui-mini' data-"+d+"rel='popup'>"+b.columnBtnText+"</a>");c=a("<div class='"+b.classes.popup+"' id='"+c+"'></div>");b=a("<fieldset></fieldset>").controlgroup();this._addToggles(b,!1);b.appendTo(c);e.appendChild(c[0]);e.appendChild(d[0]);f.before(e);c.popup();return b},rebuild:function(){this._super();"columntoggle"===this.options.mode&&this._refresh(!1)},_refresh:function(c){var d,b;this._super(c);if(!c&&"columntoggle"===
this.options.mode)for(d=this.headers,b=[],this._menu.find("input").each(function(){var c=a(this),e=c.jqmData("header"),e=d.index(e[0]);-1<e&&!c.prop("checked")&&b.push(e)}),this._unlockCells(this.element.find(".ui-table-cell-hidden, .ui-table-cell-visible")),this._addToggles(this._menu,c),c=b.length-1;-1<c;c--)d.eq(b[c]).jqmData("input").prop("checked",!1).checkboxradio("refresh").trigger("change")},_setToggleState:function(){this._menu.find("input").each(function(){var c=a(this);this.checked="table-cell"===
c.jqmData("cells").eq(0).css("display");c.checkboxradio("refresh")})},_destroy:function(){this._super()}})})(k);(function(a,g){a.widget("mobile.table",a.mobile.table,{options:{mode:"reflow",classes:a.extend(a.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"})},_create:function(){this._super();"reflow"!==this.options.mode||this.options.enhanced||(this.element.addClass(this.options.classes.reflowTable),this._updateReflow())},rebuild:function(){this._super();
"reflow"===this.options.mode&&this._refresh(!1)},_refresh:function(a){this._super(a);a||"reflow"!==this.options.mode||this._updateReflow()},_updateReflow:function(){var c=this,d=this.options;a(c.allHeaders.get().reverse()).each(function(){var b=a(this).jqmData("cells"),f=a.mobile.getAttribute(this,"colstart"),e=b.not(this).filter("thead th").length&&" ui-table-cell-label-top",h=a(this).clone().contents(),g,k;0<h.length&&(e?(g=parseInt(this.getAttribute("colspan"),10),k="",g&&(k="td:nth-child("+g+
"n + "+f+")"),c._addLabels(b.filter(k),d.classes.cellLabels+e,h)):c._addLabels(b,d.classes.cellLabels,h))})},_addLabels:function(c,d,b){1===b.length&&"abbr"===b[0].nodeName.toLowerCase()&&(b=b.eq(0).attr("title"));c.not(":has(b."+d+")").prepend(a("<b class='"+d+"'></b>").append(b))}})})(k);(function(a,g){var c=function(c,b){return-1===(""+(a.mobile.getAttribute(this,"filtertext")||a(this).text())).toLowerCase().indexOf(b)};a.widget("mobile.filterable",{initSelector:":jqmData(filter='true')",options:{filterReveal:!1,
filterCallback:c,enhanced:!1,input:null,children:"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio"},_create:function(){var c=this.options;a.extend(this,{_search:null,_timer:0});this._setInput(c.input);c.enhanced||this._filterItems((this._search&&this._search.val()||"").toLowerCase())},_onKeyUp:function(){var c,b,f=this._search;f&&(c=f.val().toLowerCase(),b=a.mobile.getAttribute(f[0],
"lastval")+"",b&&b===c||(this._timer&&(n.clearTimeout(this._timer),this._timer=0),this._timer=this._delay(function(){if(!1===this._trigger("beforefilter",null,{input:f}))return!1;f[0].setAttribute("data-"+a.mobile.ns+"lastval",c);this._filterItems(c);this._timer=0},250)))},_getFilterableItems:function(){var c=this.element,b=this.options.children,b=b?a.isFunction(b)?b():b.nodeName?a(b):b.jquery?b:this.element.find(b):{length:0};0===b.length&&(b=c.children());return b},_filterItems:function(d){var b,
f,e,h,g=[],k=[],p=this.options,q=this._getFilterableItems();if(null!=d)for(f=p.filterCallback||c,e=q.length,b=0;b<e;b++)h=f.call(q[b],b,d)?k:g,h.push(q[b]);if(0===k.length)q[p.filterReveal&&0===d.length?"addClass":"removeClass"]("ui-screen-hidden");else a(k).addClass("ui-screen-hidden"),a(g).removeClass("ui-screen-hidden");this._refreshChildWidget();this._trigger("filter",null,{items:q})},_refreshChildWidget:function(){var c,b,f=["collapsibleset","selectmenu","controlgroup","listview"];for(b=f.length-
1;-1<b;b--)c=f[b],a.mobile[c]&&(c=this.element.data("mobile-"+c))&&a.isFunction(c.refresh)&&c.refresh()},_setInput:function(c){var b=this._search;this._timer&&(n.clearTimeout(this._timer),this._timer=0);b&&(this._off(b,"keyup change input"),b=null);c&&(b=c.jquery?c:c.nodeName?a(c):this.document.find(c),this._on(b,{keydown:"_onKeyDown",keypress:"_onKeyPress",keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"}));this._search=b},_onKeyDown:function(c){c.keyCode===a.ui.keyCode.ENTER&&(c.preventDefault(),
this._preventKeyPress=!0)},_onKeyPress:function(a){this._preventKeyPress&&(a.preventDefault(),this._preventKeyPress=!1)},_setOptions:function(a){var b=!(a.filterReveal===g&&a.filterCallback===g&&a.children===g);this._super(a);a.input!==g&&(this._setInput(a.input),b=!0);b&&this.refresh()},_destroy:function(){var a=this.options,b=this._getFilterableItems();a.enhanced?b.toggleClass("ui-screen-hidden",a.filterReveal):b.removeClass("ui-screen-hidden")},refresh:function(){this._timer&&(n.clearTimeout(this._timer),
this._timer=0);this._filterItems((this._search&&this._search.val()||"").toLowerCase())}})})(k);(function(a,g){var c=function(a,b){return function(c){b.call(this,c);a._syncTextInputOptions(c)}},d=/(^|\s)ui-li-divider(\s|$)/,b=a.mobile.filterable.prototype.options.filterCallback;a.mobile.filterable.prototype.options.filterCallback=function(a,c){return!this.className.match(d)&&b.call(this,a,c)};a.widget("mobile.filterable",a.mobile.filterable,{options:{filterPlaceholder:"Filter items...",filterTheme:null},
_create:function(){var b,c,d=this.element,g=["collapsibleset","selectmenu","controlgroup","listview"],k={};this._super();a.extend(this,{_widget:null});for(b=g.length-1;-1<b;b--)if(c=g[b],a.mobile[c])if(this._setWidget(d.data("mobile-"+c)))break;else k[c+"create"]="_handleCreate";this._widget||this._on(d,k)},_handleCreate:function(a){this._setWidget(this.element.data("mobile-"+a.type.substring(0,a.type.length-6)))},_trigger:function(a,b,c){this._widget&&"mobile-listview"===this._widget.widgetFullName&&
"beforefilter"===a&&this._widget._trigger("beforefilter",b,c);return this._super(a,b,c)},_setWidget:function(a){!this._widget&&a&&(this._widget=a,this._widget._setOptions=c(this,this._widget._setOptions));this._widget&&(this._syncTextInputOptions(this._widget.options),"listview"===this._widget.widgetName&&(this._widget.options.hideDividers=!0,this._widget.element.listview("refresh")));return!!this._widget},_isSearchInternal:function(){return this._search&&this._search.jqmData("ui-filterable-"+this.uuid+
"-internal")},_setInput:function(b){var c=this.options,d=!0,g={};if(!b){if(this._isSearchInternal())return;d=!1;b=a("<input data-"+a.mobile.ns+"type='search' placeholder='"+c.filterPlaceholder+"'></input>").jqmData("ui-filterable-"+this.uuid+"-internal",!0);a("<form class='ui-filterable'></form>").append(b).submit(function(a){a.preventDefault();b.blur()}).insertBefore(this.element);a.mobile.textinput&&(null!=this.options.filterTheme&&(g.theme=c.filterTheme),b.textinput(g))}this._super(b);this._isSearchInternal()&&
d&&this._search.attr("placeholder",this.options.filterPlaceholder)},_setOptions:function(b){var c=this._super(b);b.filterPlaceholder!==g&&this._isSearchInternal()&&this._search.attr("placeholder",b.filterPlaceholder);b.filterTheme!==g&&this._search&&a.mobile.textinput&&this._search.textinput("option","theme",b.filterTheme);return c},_refreshChildWidget:function(){this._refreshingChildWidget=!0;this._superApply(arguments);this._refreshingChildWidget=!1},refresh:function(){this._refreshingChildWidget||
this._superApply(arguments)},_destroy:function(){this._isSearchInternal()&&this._search.remove();this._super()},_syncTextInputOptions:function(b){var c,d={};if(this._isSearchInternal()&&a.mobile.textinput){for(c in a.mobile.textinput.prototype.options)b[c]!==g&&(d[c]="theme"===c&&null!=this.options.filterTheme?this.options.filterTheme:b[c]);this._search.textinput("option",d)}}});a.widget("mobile.listview",a.mobile.listview,{options:{filter:!1},_create:function(){!0!==this.options.filter||this.element.data("mobile-filterable")||
this.element.filterable();return this._super()},refresh:function(){var a;this._superApply(arguments);!0===this.options.filter&&(a=this.element.data("mobile-filterable"))&&a.refresh()}})})(k);(function(a,g){function c(a){return 1<a.hash.length&&decodeURIComponent(a.href.replace(b,""))===decodeURIComponent(location.href.replace(b,""))}var d=0,b=/#.*$/;a.widget("ui.tabs",{version:"fadf2b312a05040436451c64bbfaf4814bc62c56",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",
hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&
this.blur()});this._processTabs();c.active=this._initialActive();a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort());this.active=!1!==this.options.active&&this.anchors.length?this._findActive(c.active):a();this._refresh();this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);null===b&&(d&&this.tabs.each(function(c,
e){if(a(e).attr("aria-controls")===d)return b=c,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===b||-1===b)&&(b=this.tabs.length?0:!1);!1!==b&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=c?!1:0));!c&&!1===b&&this.anchors.length&&(b=0);return b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),g=!0;
if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:g=!1;d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:b.preventDefault();clearTimeout(this.activating);this._activate(d);return;case a.ui.keyCode.ENTER:b.preventDefault();clearTimeout(this.activating);this._activate(d===this.options.active?!1:d);return;default:return}b.preventDefault();
clearTimeout(this.activating);d=this._focusNextTab(d,g);b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){!this._handlePageNav(b)&&b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;
if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(b,c){function d(){b>g&&(b=0);0>b&&(b=g);return b}for(var g=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){a=this._findNextTab(a,b);this.tabs.eq(a).focus();return a},_setOption:function(a,b){"active"===a?this._activate(b):"disabled"===a?this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&
(this.element.toggleClass("ui-tabs-collapsible",b),b||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+ ++d},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)});
this._processTabs();!1!==b.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",
tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role",
"tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=a();this.anchors.each(function(d,h){var g,k,p,q=a(h).uniqueId().attr("id"),n=a(h).closest("li"),t=n.attr("aria-controls");c(h)?(g=h.hash,k=b.element.find(b._sanitizeSelector(g))):(p=b._tabId(n),g="#"+p,k=b.element.find(g),k.length||
(k=b._createPanel(p),k.insertAfter(b.panels[d-1]||b.tablist)),k.attr("aria-live","polite"));k.length&&(b.panels=b.panels.add(k));t&&n.data("ui-tabs-aria-controls",t);n.attr({"aria-controls":g.substring(1),"aria-labelledby":q});k.attr("aria-labelledby",q)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",
!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c=0,d;d=this.tabs[c];c++)!0===b||-1!==a.inArray(c,b)?a(d).addClass("ui-state-disabled").attr("aria-disabled","true"):a(d).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));
this._on(this.anchors,c);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=
a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,g=a(b.currentTarget).closest("li"),k=g[0]===d[0],p=k&&c.collapsible,q=p?a():this._getPanelForTab(g),n=d.length?this._getPanelForTab(d):a(),d={oldTab:d,oldPanel:n,newTab:p?a():g,newPanel:q};b.preventDefault();
g.hasClass("ui-state-disabled")||g.hasClass("ui-tabs-loading")||this.running||k&&!c.collapsible||!1===this._trigger("beforeActivate",b,d)||(c.active=p?!1:this.tabs.index(g),this.active=k?a():g,this.xhr&&this.xhr.abort(),n.length||q.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),q.length&&this.load(this.tabs.index(g),b),this._toggle(b,d))},_toggle:function(b,c){function d(){k.running=!1;k._trigger("activate",b,c)}function g(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active");
p.length&&k.options.show?k._show(p,k.options.show,d):(p.show(),d())}var k=this,p=c.newPanel,q=c.oldPanel;this.running=!0;q.length&&this.options.hide?this._hide(q,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");g()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),q.hide(),g());q.attr({"aria-expanded":"false","aria-hidden":"true"});c.oldTab.attr("aria-selected","false");p.length&&q.length?c.oldTab.attr("tabIndex",-1):p.length&&
this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);p.attr({"aria-expanded":"true","aria-hidden":"false"});c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){b=this._findActive(b);b[0]!==this.active[0]&&(b.length||(b=this.active),b=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return!1===b?a():this.tabs.eq(b)},_getIndex:function(a){"string"===typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+
a+"']")));return a},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});
this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var c=this.options.disabled;!1!==c&&(b===g?c=!1:(b=this._getIndex(b),c=a.isArray(c)?a.map(c,function(a){return a!==b?a:null}):a.map(this.tabs,function(a,c){return c!==b?c:null})),this._setupDisabled(c))},disable:function(b){var c=
this.options.disabled;if(!0!==c){if(b===g)c=!0;else{b=this._getIndex(b);if(-1!==a.inArray(b,c))return;c=a.isArray(c)?a.merge([b],c).sort():[b]}this._setupDisabled(c)}},load:function(b,d){b=this._getIndex(b);var g=this,k=this.tabs.eq(b),m=k.find(".ui-tabs-anchor"),p=this._getPanelForTab(k),q={tab:k,panel:p};c(m[0])||(this.xhr=a.ajax(this._ajaxSettings(m,d,q)))&&"canceled"!==this.xhr.statusText&&(k.addClass("ui-tabs-loading"),p.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){p.html(a);
g._trigger("load",d,q)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&g.panels.stop(!1,!0);k.removeClass("ui-tabs-loading");p.removeAttr("aria-busy");a===g.xhr&&delete g.xhr},1)}))},_ajaxSettings:function(b,c,d){var g=this;return{url:b.attr("href"),beforeSend:function(b,f){return g._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){b=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}})})(k);(function(a,g){function c(a){f=
a.originalEvent;m=f.accelerationIncludingGravity;e=Math.abs(m.x);k=Math.abs(m.y);l=Math.abs(m.z);!g.orientation&&(7<e||(6<l&&8>k||8>l&&6<k)&&5<e)?b.enabled&&b.disable():b.enabled||b.enable()}a.mobile.iosorientationfixEnabled=!0;var d=navigator.userAgent,b,f,e,k,l,m;/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(d)&&-1<d.indexOf("AppleWebKit")?(b=a.mobile.zoom,a.mobile.document.on("mobileinit",function(){a.mobile.iosorientationfixEnabled&&a.mobile.window.bind("orientationchange.iosorientationfix",
b.enable).bind("devicemotion.iosorientationfix",c)})):a.mobile.iosorientationfixEnabled=!1})(k,this);(function(a,g,c){function d(){b.removeClass("ui-mobile-rendering")}var b=a("html"),f=a.mobile.window;a(g.document).trigger("mobileinit");a.mobile.gradeA()&&(a.mobile.ajaxBlacklist&&(a.mobile.ajaxEnabled=!1),b.addClass("ui-mobile ui-mobile-rendering"),setTimeout(d,5E3),a.extend(a.mobile,{initializePage:function(){var b=a.mobile.path,g=a(":jqmData(role='page'), :jqmData(role='dialog')"),k=b.stripHash(b.stripQueryParams(b.parseLocation().hash)),
m=a.mobile.path.parseLocation(),p=k?t.getElementById(k):c;g.length||(g=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0));g.each(function(){var c=a(this);c[0].getAttribute("data-"+a.mobile.ns+"url")||c.attr("data-"+a.mobile.ns+"url",c.attr("id")||b.convertUrlToDataUrl(m.pathname+m.search))});a.mobile.firstPage=g.first();a.mobile.pageContainer=a.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer();a.mobile.navreadyDeferred.resolve();f.trigger("pagecontainercreate");
a.mobile.loading("show");d();a.mobile.hashListeningEnabled&&a.mobile.path.isHashValid(location.hash)&&(a(p).is(":jqmData(role='page')")||a.mobile.path.isPath(k)||k===a.mobile.dialogHashKey)?a.event.special.navigate.isPushStateEnabled()?(a.mobile.navigate.history.stack=[],a.mobile.navigate(a.mobile.path.isPath(location.hash)?location.hash:location.href)):f.trigger("hashchange",[!0]):(a.event.special.navigate.isPushStateEnabled()&&a.mobile.navigate.navigator.squash(b.parseLocation().href),a.mobile.changePage(a.mobile.firstPage,
{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),a(function(){a.support.inlineSVG();a.mobile.hideUrlBar&&g.scrollTo(0,1);a.mobile.defaultHomeScroll=a.support.scrollTop&&1!==a.mobile.window.scrollTop()?1:0;a.mobile.autoInitializePage&&a.mobile.initializePage();a.mobile.hideUrlBar&&f.load(a.mobile.silentScroll);a.support.cssPointerEvents||a.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(a){a.preventDefault();a.stopImmediatePropagation()})}))})(k,this)});(function(k){var n=function(){var n=65,W={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},a=function(a,b){var c=T(a);c.r=Math.round(1E3*Math.pow(c.r/255,2.2))/1E3;c.g=Math.round(1E3*Math.pow(c.g/255,2.2))/1E3;c.b=Math.round(1E3*Math.pow(c.b/255,2.2))/1E3;k(b).data("colorpicker").fields.eq(1).val(c.r).end().eq(2).val(c.g).end().eq(3).val(c.b).end()},g=function(a,b){k(b).data("colorpicker").fields.eq(4).val(a.h).end().eq(5).val(a.s).end().eq(6).val(a.b).end()},
c=function(a,b){k(b).data("colorpicker").fields.eq(0).val(ga(a)).end()},d=function(a,b){k(b).data("colorpicker").selector.css("backgroundColor","#"+ga({h:a.h,s:100,b:100}));k(b).data("colorpicker").selectorIndic.css({left:parseInt(150*a.s/100,10),top:parseInt(150*(100-a.b)/100,10)})},b=function(a,b){k(b).data("colorpicker").hue.css("top",parseInt(150-150*a.h/360,10))},f=function(a,b){k(b).data("colorpicker").currentColor.css("backgroundColor","#"+ga(a))},e=function(a,b){k(b).data("colorpicker").newColor.css("backgroundColor",
"#"+ga(a))},h=function(a){a=a.charCode||a.keyCode||-1;if(a>n&&90>=a||32==a)return!1;!0===k(this).parent().parent().data("colorpicker").livePreview&&l.apply(this)},l=function(f){var h=k(this).parent().parent(),l;if(0<this.parentNode.className.indexOf("_hex")){l=h.data("colorpicker");var m=this.value,n=6-m.length;if(0<n){for(var p=[],q=0;q<n;q++)p.push("0");p.push(m);m=p.join("")}m=N(ma(m));l.color=l=m}else 0<this.parentNode.className.indexOf("_hsb")?h.data("colorpicker").color=l=Z({h:parseInt(h.data("colorpicker").fields.eq(4).val(),
10),s:parseInt(h.data("colorpicker").fields.eq(5).val(),10),b:parseInt(h.data("colorpicker").fields.eq(6).val(),10)}):(l=h.data("colorpicker"),m=parseInt(h.data("colorpicker").fields.eq(1).val(),10),n=parseInt(h.data("colorpicker").fields.eq(2).val(),10),p=parseInt(h.data("colorpicker").fields.eq(3).val(),10),m={r:Math.min(255,Math.max(0,m)),g:Math.min(255,Math.max(0,n)),b:Math.min(255,Math.max(0,p))},l.color=l=N(m));f&&(a(l,h.get(0)),c(l,h.get(0)),g(l,h.get(0)));d(l,h.get(0));b(l,h.get(0));e(l,h.get(0));
h.data("colorpicker").onChange.apply(h,[l,ga(l),T(l)])},m=function(a){k(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus")},p=function(){n=0<this.parentNode.className.indexOf("_hex")?70:65;k(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus");k(this).parent().addClass("colorpicker_focus")},q=function(a){var b=k(this).parent().find("input").focus();a={el:k(this).parent().addClass("colorpicker_slider"),max:0<this.parentNode.className.indexOf("_hsb_h")?
360:0<this.parentNode.className.indexOf("_hsb")?100:255,y:a.pageY,field:b,val:parseInt(b.val(),10),preview:k(this).parent().parent().data("colorpicker").livePreview};k(document).bind("mouseup",a,E);k(document).bind("mousemove",a,fa)},fa=function(a){a.data.field.val(Math.max(0,Math.min(a.data.max,parseInt(a.data.val+a.pageY-a.data.y,10))));a.data.preview&&l.apply(a.data.field.get(0),[!0]);return!1},E=function(a){l.apply(a.data.field.get(0),[!0]);a.data.el.removeClass("colorpicker_slider").find("input").focus();
k(document).unbind("mouseup",E);k(document).unbind("mousemove",fa);return!1},w=function(a){a.preventDefault();a={cal:k(this).parent(),y:k(this).offset().top};a.preview=a.cal.data("colorpicker").livePreview;k(document).bind("mouseup touchend",a,z);k(document).bind("mousemove touchmove",a,y)},y=function(a){var b=a;"undefined"!==typeof event&&event.touches&&(b=event.touches[0]);l.apply(a.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,b.pageY-a.data.y)))/150,10)).get(0),
[a.data.preview]);return!1},z=function(b){a(b.data.cal.data("colorpicker").color,b.data.cal.get(0));c(b.data.cal.data("colorpicker").color,b.data.cal.get(0));k(document).unbind("mouseup touchend",z);k(document).unbind("mousemove touchmove",y);return!1},C=function(a){a.preventDefault();a={cal:k(this).parent(),pos:k(this).offset()};a.preview=a.cal.data("colorpicker").livePreview;k(document).bind("mouseup touchend",a,D);k(document).bind("mousemove touchmove",a,v)},v=function(a){var b=a;"undefined"!==
typeof event&&event.touches&&(b=event.touches[0]);l.apply(a.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,b.pageY-a.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,b.pageX-a.data.pos.left))/150,10)).get(0),[a.data.preview]);return!1},D=function(b){a(b.data.cal.data("colorpicker").color,b.data.cal.get(0));c(b.data.cal.data("colorpicker").color,b.data.cal.get(0));k(document).unbind("mouseup touchend",D);k(document).unbind("mousemove touchmove",
v);return!1},P=function(a){k(this).addClass("colorpicker_focus")},Q=function(a){k(this).removeClass("colorpicker_focus")},L=function(a){a=k(this).parent();var b=a.data("colorpicker").color;a.data("colorpicker").origColor=b;f(b,a.get(0));a.data("colorpicker").onSubmit(b,ga(b),T(b),a.data("colorpicker").el)},ha=function(a){var b=k("body"),c=b.data("colorpickerId"),d=k(this).data("colorpickerId");c&&c===d?(k(document).trigger("mousedown"),b.data("colorpickerId",null)):(ia.call(this,a),b.data("colorpickerId",
d))},ia=function(a){var b,c,d=k("#"+k(this).data("colorpickerId"));d.data("colorpicker").onBeforeShow.apply(this,[d.get(0)]);var e=k(this).offset(),f="CSS1Compat"==document.compatMode;a=window.pageXOffset||(f?document.documentElement.scrollLeft:document.body.scrollLeft);b=window.pageYOffset||(f?document.documentElement.scrollTop:document.body.scrollTop);c=window.innerWidth||(f?document.documentElement.clientWidth:document.body.clientWidth);var g=e.top+this.offsetHeight,e=e.left;g+176>b+(window.innerHeight||
(f?document.documentElement.clientHeight:document.body.clientHeight))&&(g-=this.offsetHeight+176);e+356>a+c&&(e=Math.max(0,e-356));d.css({left:e+"px",top:g+"px"});0!=d.data("colorpicker").onShow.apply(this,[d.get(0)])&&d.show();k(document).bind("mousedown",{cal:d},X);return!1},X=function(a){Ga(a.data.cal.get(0),a.target,a.data.cal.get(0))||(0!=a.data.cal.data("colorpicker").onHide.apply(this,[a.data.cal.get(0)])&&a.data.cal.hide(),k(document).unbind("mousedown",X))},Ga=function(a,b,c){if(a==b)return!0;
if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(b)&16);for(b=b.parentNode;b&&b!=c;){if(b==a)return!0;b=b.parentNode}return!1},Z=function(a){return{h:Math.round(Math.min(360,Math.max(0,a.h))),s:Math.round(Math.min(100,Math.max(0,a.s))),b:Math.round(Math.min(100,Math.max(0,a.b)))}},ma=function(a){a=parseInt(-1<a.indexOf("#")?a.substring(1):a,16);return{r:a>>16,g:(a&65280)>>8,b:a&255}},N=function(a){var b={h:0,s:0,b:0},c=Math.min(a.r,a.g,a.b),d=Math.max(a.r,
a.g,a.b),c=d-c;b.b=d;b.s=0!=d?255*c/d:0;b.h=0!=b.s?a.r==d?(a.g-a.b)/c:a.g==d?2+(a.b-a.r)/c:4+(a.r-a.g)/c:-1;b.h*=60;0>b.h&&(b.h+=360);b.s*=100/255;b.b*=100/255;b.h=Math.round(b.h);b.s=Math.round(b.s);b.b=Math.round(b.b);return b},T=function(a){var b,c,d;b=Math.round(a.h);var e=Math.round(255*a.s/100);a=Math.round(255*a.b/100);if(0==e)b=c=d=a;else{var e=(255-e)*a/255,f=b%60*(a-e)/60;360==b&&(b=0);60>b?(b=a,d=e,c=e+f):120>b?(c=a,d=e,b=a-f):180>b?(c=a,b=e,d=e+f):240>b?(d=a,b=e,c=a-f):300>b?(d=a,c=e,
b=e+f):360>b?(b=a,c=e,d=a-f):d=c=b=0}return{r:Math.round(b),g:Math.round(c),b:Math.round(d)}},ca=function(a){var b=[a.r.toString(16),a.g.toString(16),a.b.toString(16)];k.each(b,function(a,c){1==c.length&&(b[a]="0"+c)});return b.join("")},ga=function(a){return ca(T(a))},Fa=function(){var f=k(this).parent(),h=f.data("colorpicker").origColor;f.data("colorpicker").color=h;a(h,f.get(0));c(h,f.get(0));g(h,f.get(0));d(h,f.get(0));b(h,f.get(0));e(h,f.get(0))};return{init:function(n){n=k.extend({},W,n||{});
if("string"==typeof n.color)n.color=N(ma(n.color));else if(void 0!=n.color.r&&void 0!=n.color.g&&void 0!=n.color.b)n.color=N(n.color);else if(void 0!=n.color.h&&void 0!=n.color.s&&void 0!=n.color.b)n.color=Z(n.color);else return this;return this.each(function(){if(!k(this).data("colorpickerId")){var t=k.extend({},n);t.origColor=n.color;var v="collorpicker_"+parseInt(1E3*Math.random());k(this).data("colorpickerId",v);v=k('<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>').attr("id",
v);t.flat?v.appendTo(this).show():v.appendTo(document.body);t.fields=v.find("input").bind("keyup",h).bind("change",l).bind("blur",m).bind("focus",p);v.find("span").bind("mousedown touchstart",q).end().find(">div.colorpicker_current_color").bind("click",Fa);t.selector=v.find("div.colorpicker_color").bind("touchstart mousedown",C);t.selectorIndic=t.selector.find("div div");t.el=this;t.hue=v.find("div.colorpicker_hue div");v.find("div.colorpicker_hue").bind("mousedown touchstart",w);t.newColor=v.find("div.colorpicker_new_color");
t.currentColor=v.find("div.colorpicker_current_color");v.data("colorpicker",t);v.find("div.colorpicker_submit").bind("mouseenter touchstart",P).bind("mouseleave touchend",Q).bind("click",L);a(t.color,v.get(0));g(t.color,v.get(0));c(t.color,v.get(0));b(t.color,v.get(0));d(t.color,v.get(0));f(t.color,v.get(0));e(t.color,v.get(0));t.flat?v.css({position:"relative",display:"block"}):k(this).bind(t.eventName,ha)}})},showPicker:function(){return this.each(function(){k(this).data("colorpickerId")&&ia.apply(this)})},
hidePicker:function(){return this.each(function(){k(this).data("colorpickerId")&&k("#"+k(this).data("colorpickerId")).hide()})},setColor:function(h){if("string"==typeof h)h=N(ma(h));else if(void 0!=h.r&&void 0!=h.g&&void 0!=h.b)h=N(h);else if(void 0!=h.h&&void 0!=h.s&&void 0!=h.b)h=Z(h);else return this;return this.each(function(){if(k(this).data("colorpickerId")){var l=k("#"+k(this).data("colorpickerId"));l.data("colorpicker").color=h;l.data("colorpicker").origColor=h;a(h,l.get(0));g(h,l.get(0));
c(h,l.get(0));b(h,l.get(0));d(h,l.get(0));f(h,l.get(0));e(h,l.get(0))}})}}}();k.fn.extend({ColorPicker:n.init,ColorPickerHide:n.hidePicker,ColorPickerShow:n.showPicker,ColorPickerSetColor:n.setColor})})(jQuery);b4w.register("viewer_main",function(k,n){function t(a,b){if(!b)return console.log("b4w init failure"),null;window.oncontextmenu=function(a){a.preventDefault();a.stopPropagation();return!1};window.ondragstart=function(a){a.preventDefault();a.stopPropagation();return!1};window.addEventListener("resize",T,!1);var c=document.createEvent("CustomEvent");c.initEvent("resize",!1,!1);window.dispatchEvent(c);ua.detect_mobile()||Ta(["gyro_use_tmp"],"disable");Ia.check()||Ta(["hmd_conf_tmp"],"disable");var g=
H.get_url_params();Ua.enqueue([["manifest",Ua.AT_JSON,"assets.json"]],function(a,b,c,Ha){Y=a;Ba=document.getElementById("info_left_down");O=document.getElementById("lights_cont");document.getElementById("build_date").innerHTML=Va.date_str();r(y,"quality","string");switch(M.get("quality")){case M.P_ULTRA:var k=0;break;case M.P_HIGH:k=1;break;case M.P_LOW:k=2;break;case M.P_CUSTOM:k=3}document.getElementById("quality").options[k].selected=!0;$("#quality").selectmenu("refresh");H.set_onclick("reset",
z);H.set_onclick("auto_rotate_cam",pb);H.set_onclick("pause",v);H.set_onclick("resume",D);H.set_onclick("auto_view",N);H.set_onclick("home",C);a=document.getElementById("manifest");if(Y){c="";b=(b=H.get_url_params())&&b.load?b.load.split("/"):["misc","logo.json"];b="Home - "+b[b.length-1];c=c+"<div class='min_font' id='default_scene'>"+("<h6 class='ui-collapsible-heading'><a class='ui-mini ui-btn ui-btn-icon-right ui-icon-home'>"+b+"</a></h6>");c+="</div>";for(b=0;b<Y.length;b++){k=Y[b];Ha=k.name;
for(var k=k.items,R="",R=R+"<div data-role='collapsible' data-mini='true' >",R=R+("<h6>"+Ha+"</h6>"),R=R+"<ul data-role='listview' data-mini='true' data-inset='true' style='margin: -10px 0;'>",l=0;l<k.length;l++)var m=k[l].name,R=R+("<li data-mini='true'><a href='#' class='min_font' id=\""+("MANIFEST_ITEM_"+m+"__SEPARATOR__"+Ha)+'">'+m+"</a></li>");R+="</ul>";R+="</div>";c+=R}$("#"+a.id).append(c);$("#"+a.id).trigger("create");a.addEventListener("mouseup",e,!1)}else a.innerHTML="<p style='color: red;'>Failed loading scenes list.</p><p>Maybe a syntax error?</p>";
f();r(na,"anim_active_object","string");r(na,"animation","string");r(na,"anim_mix_factor","number");r(na,"anim_slot","number");r(na,"anim_cyclic","bool");r(na,"anim_frame_current","number");H.set_onclick("anim_play",ca);H.set_onclick("anim_stop",ga);H.set_onclick("anim_play_all",Fa);H.set_onclick("anim_stop_all",lb);r(ob,"nla_frame_current","number");H.set_onclick("nla_play",mb);H.set_onclick("nla_stop",nb);r(Aa,"shape_key_obj","string");r(Aa,"shape_key_name","string");r(Aa,"shape_key_value","number");
r(oa,"material_name","string");da(oa,"material_diffuse_color");r(oa,"material_reflectivity","number");r(oa,"material_fresnel","number");r(oa,"material_fresnel_factor","number");r(oa,"material_parallax_scale","number");r(oa,"material_parallax_steps","number");r(I,"material_name","string");r(I,"shore_smoothing","bool");r(I,"absorb_factor","number");r(I,"sss_strength","number");r(I,"sss_width","number");da(I,"water_fog_color");r(I,"water_fog_density","number");da(I,"shallow_water_col");r(I,"shallow_water_col_fac",
"number");da(I,"shore_water_col");r(I,"shore_water_col_fac","number");r(I,"foam_factor","number");r(I,"norm_uv_velocity","number");r(I,"water_dynamic","bool");r(I,"waves_height","number");r(I,"waves_length","number");r(I,"dst_noise_scale0","number");r(I,"dst_noise_scale1","number");r(I,"dst_noise_freq0","number");r(I,"dst_noise_freq1","number");r(I,"dir_min_shore_fac","number");r(I,"dir_freq","number");r(I,"dir_noise_scale","number");r(I,"dir_noise_freq","number");r(I,"dir_min_noise_fac","number");
r(I,"dst_min_fac","number");r(I,"waves_hor_fac","number");r(Ja,"environment_energy","string");da(Ja,"horizon_color");da(Ja,"zenith_color");r(pa,"light_name","string");da(pa,"light_color");r(pa,"pre_light_energy","number");r(pa,"rude_light_energy","number");r(pa,"light_spot_size","number");r(pa,"light_spot_blend","number");r(pa,"light_distance","number");da(aa,"sky_color");r(aa,"rayleigh_brightness","number");r(aa,"mie_brightness","number");r(aa,"spot_brightness","number");r(aa,"scatter_strength",
"number");r(aa,"rayleigh_strength","number");r(aa,"mie_strength","number");r(aa,"rayleigh_collection_power","number");r(aa,"mie_collection_power","number");r(aa,"mie_distribution","number");r(Ka,"date","string");r(Ka,"day_time","number");r(Wa,"sun_horizontal_position","number");r(Wa,"sun_vertical_position","number");r(qb,"max_sun_angle","number");H.set_onclick("run_sun",rb);H.set_onclick("stop_sun",sb);r(ra,"csm_first_cascade_border","number");r(ra,"csm_last_cascade_border","number");r(ra,"self_shadow_polygon_offset",
"number");r(ra,"self_shadow_normal_offset","number");r(ra,"first_cascade_blur_radius","number");r(ra,"last_cascade_blur_radius","number");r(ea,"ssao_quality","string");r(ea,"ssao_hemisphere","bool");r(ea,"ssao_blur_depth","bool");r(ea,"ssao_blur_discard_value","number");r(ea,"ssao_radius_increase","number");r(ea,"ssao_influence","number");r(ea,"ssao_dist_factor","number");r(ea,"ssao_only","bool");r(ea,"ssao_white","bool");r(va,"dof_distance","number");r(va,"dof_front","number");r(va,"dof_rear","number");
r(va,"dof_power","number");r(va,"dof_on","bool");r(La,"god_rays_intensity","number");r(La,"god_rays_max_ray_length","number");r(La,"god_rays_steps","number");r(Ca,"brightness","number");r(Ca,"contrast","number");r(Ca,"exposure","number");r(Ca,"saturation","number");r(ha,"sfx_mix_mode","bool");a=Number("true"===F.get("sfx_mix_mode"));document.getElementById("sfx_mix_mode").options[a].selected=!0;$("#sfx_mix_mode").slider("refresh");r(ia,"stereo","string");a=F.get("stereo")||"NONE";Xa.can_use_device(Xa.DEVICE_HMD)||
(document.getElementById("stereo").options[2].setAttribute("disabled","disabled"),$("#stereo").selectmenu("refresh"),"HMD"==a&&(F.set("stereo","NONE"),a="NONE"));$("#stereo").val(a).selectmenu("refresh");$("#stereo").selectmenu("refresh",!0);H.set_onclick("hmd_settings",X);r(Ga,"gyro_use","bool");a=Number("true"===F.get("gyro_use"));document.getElementById("gyro_use").options[a].selected=!0;$("#gyro_use").slider("refresh");r(Z,"gmpd_settings","bool");r(Ya,"wind_dir","number");r(Ya,"wind_strength",
"number");r(Za,"mb_factor","number");r(Za,"mb_decay_threshold","number");r(Ma,"bloom_key","number");r(Ma,"bloom_blur","number");r(Ma,"bloom_edge_lum","number");r(Da,"small_glow_mask_coeff","number");r(Da,"large_glow_mask_coeff","number");r(Da,"small_glow_mask_width","number");r(Da,"large_glow_mask_width","number");r(tb,"canvas_rf","number");r($a,"debug_view_mode","string");H.set_onclick("debug_change_colors",ub);da($a,"wireframe_edge_color","object");r(Q,"show_hud_debug_info","bool");r(L,"enable_gl_debug",
"bool");r(ma,"outlining_overview_mode","bool");a=""==F.get("outlining_overview_mode")?1:Number("true"===F.get("outlining_overview_mode"));document.getElementById("outlining_overview_mode").options[a].selected=!0;$("#outlining_overview_mode").slider("refresh");H.set_onclick("make_screenshot",vb);a=Number("true"===F.get("show_hud_debug_info"));document.getElementById("show_hud_debug_info").options[a].selected=!0;$("#show_hud_debug_info").slider("refresh");a=""==F.get("enable_gl_debug")?1:Number("true"===
F.get("enable_gl_debug"));document.getElementById("enable_gl_debug").options[a].selected=!0;$("#enable_gl_debug").slider("refresh");W();a=d();h(a,!1,!1,g&&g.load)},null)}function W(){$(document).ready(function(){$(".ui-slider-handle").off("keydown");$(".ui-slider-handle").on("keydown",function(a){var b=this.parentElement.parentElement.children[0].getAttribute("id");if(b){var c=parseFloat(document.getElementById(b).value),d=parseFloat(document.getElementById(b).getAttribute("step"));188==a.keyCode&&
u(b,c-d);190==a.keyCode&&u(b,c+d)}})})}function a(a){if(Ba&&A.can_select_objects()){$("#material_warning")[0].style.display="none";a.preventDefault&&a.preventDefault();var b=a.clientX;a=a.clientY;var d=U;d&&A.outlining_is_enabled(d)&&A.clear_outline_anim(d);b=A.pick_object(b,a);b&&wb.is_empty(b)||((U=b)?ab(b):bb(),c(),ja||(b?(ja=b,c(),H.enable_object_controls(b),J.create_kb_sensor_manifold(b,"QUIT",J.CT_SHOT,J.KEY_Q,function(a,b,d,e){ja=null;c();H.disable_object_controls(a)})):g()))}}function g(){var a=
A.get_active_camera();ja=a;c();H.enable_camera_controls(!1,!1,!1,Ea.get_container(),!0);J.create_kb_sensor_manifold(a,"QUIT",J.CT_SHOT,J.KEY_Q,function(a,b,d,e){ja=null;c();H.disable_camera_controls(a);J.remove_sensor_manifold(a,"ZOOM_TO")});var b=J.create_keyboard_sensor(J.KEY_Z),d=J.create_keyboard_sensor(J.KEY_DEC_POINT);J.create_sensor_manifold(a,"ZOOM_TO",J.CT_SHOT,[b,d],function(a){return a[0]||a[1]},function(a,b,c){(b=U)&&cb.target_zoom_object(a,b)})}function c(){if(Ba){var a=ja?ka(ja):"NONE",
b=U?ka(U):"NONE",a="CONTROLLED: "+a+" | SELECTED: "+b;(b=U)&&(b=A.get_type_mesh_object(b))&&(a+=" | TYPE: "+b);b=ja;U&&b&&"CAMERA"===b.type&&(a+=" | DISTANCE: "+db);Ba.innerHTML=a}}function d(){var a=F.get("last_item_name");if(!a)return null;for(var b=0;b<Y.length;b++){var c=Y[b];if(wa.keyfind("name",a,c.items)[0])return{category:c.name,item:a}}return null}function b(a,b){var c=document.getElementById(a);c.innerHTML="";for(var d=0;d<b.length;d++){var e=document.createElement("option");e.text=e.value=
b[d];0===d&&(e.selected=!0);c.appendChild(e)}$("#"+a).selectmenu();$("#"+a).selectmenu("refresh")}function f(){var a=document.getElementById("default_scene");a&&(a.onclick=function(){xa=!1;clearTimeout(Na);h(null,!0,!1,!0)})}function e(a){a=a.target.id;if(-1!=a.indexOf("MANIFEST_ITEM_")){var b=a.split("__SEPARATOR__");a=b[1];b=b[0].split("MANIFEST_ITEM_")[1];xa=!1;clearTimeout(Na);h({category:a,item:b},!0,!1,!1)}}function h(b,c,d,e){if(O)for(var f=0;f<O.children.length;f++)O.children[f].style.visibility=
"hidden";if((f=H.get_url_params())&&f.load){var g=f.load.split("/");sa={load_file:f.load,name:g[g.length-1].split(".")[0],animated_objects:[]}}else sa={load_file:M.get_std_assets_path()+"misc/logo.json",name:"Logo",animated_objects:[]};ba=G=null;if(!e)if(b){e=wa.keyfind("name",b.category,Y)[0];e=wa.keyfind("name",b.item,e.items)[0];for(var h in e)sa[h]="load_file"==h?M.get_std_assets_path()+e[h]:e[h];F.set("last_item_name",b.item)}else F.set("last_item_name","");c&&(ua.clear_render_callback(),Oa.cleanup());
Ea.get_canvas().removeEventListener("mousedown",a);K.clear_errors_warnings();b=sa.name;c=sa.load_file;h=document.getElementById("current_file");h.innerHTML=b;h.setAttribute("title",b+" ("+c+")");Oa.load(c,l,p,d)}function l(b){Ea.get_canvas().addEventListener("mousedown",a,!1);U=null;q(sa);g();H.enable_debug_controls();P()&&xb.enable_mixer_controls();"true"===F.get("gyro_use")&&yb.enable_camera_rotation();"HMD"==M.get("stereo")&&(Ia.update(),eb.enable_hmd(eb.HMD_ALL_AXES_MOUSE_NONE));ua.set_render_callback(w);
xa&&(Na=setTimeout(m,1E3));b=J.create_elapsed_sensor();J.create_sensor_manifold(A.get_active_camera(),"TO_OBJ",J.CT_CONTINUOUS,[b],null,function(a,b,d){if(1==d&&U){if(d=U)b=zb,Ab.get_object_center(d,!0,b),a=cb.get_translation(a,Bb),db=Cb.dist(b,a).toFixed(3);c()}})}function m(){var a=d();if(a){var b=a.item,a=wa.keyfind("name",a.category,Y)[0],b=wa.keyfind("name",b,a.items)[0],b=a.items.indexOf(b);if(b=a.items[b+1])a={category:a.name,item:b.name};else{a=Y.indexOf(a);b=null;do b=Y[++a];while(b&&0==
b.items.length);if(b)a={category:b.name,item:b.items[0].name};else{xa=!1;return}}}else a=Y[0],b=a.items[0],a={category:a.name,item:b.name};h(a,!0,!0,!1)}function p(a,b){document.getElementById("loading_progress").innerHTML=a+"% ("+Math.round(10*b/1E3)/10+"s)";var c=K.get_error_quantity(),d=K.get_warning_quantity();if(Oa.is_primary_loaded()){T();var e=K.num_vertices(),f=K.num_triangles(),g=K.num_draw_calls(),h=K.num_shaders();document.getElementById("info_right_up").innerHTML=e+" verts, "+f+" tris, "+
g+" draw calls, "+h+" shaders";var e=K.geometry_stats(),f=K.num_textures(),g=K.num_render_targets(),h=Math.round(10*(e.ibo_memory+e.vbo_memory))/10,k=Math.round(10*f.memory)/10,l=Math.round(10*g.memory)/10,m=Math.round(10*(h+k+l))/10;document.getElementById("info_right_down").innerHTML="Geometry: "+h+" MiB ("+e.ibo_number+"+"+e.vbo_number+")<br>Textures: "+k+" MiB ("+f.number+")<br>RTs: "+l+" MiB ("+g.number+")<br><br>Total: "+m+" MiB";e=K.get_error_quantity();(f=K.get_warning_quantity())||e?O.setAttribute("title",
"Errors: "+e+", Warnings: "+f+"\nSee browser console for more info"):O.setAttribute("title","Loaded OK");d||c||(O.children[0].style.visibility="hidden",O.children[1].style.visibility="hidden",O.children[2].style.visibility="visible")}d&&!c&&(O.children[0].style.visibility="hidden",O.children[1].style.visibility="visible",O.children[2].style.visibility="hidden");c&&(O.children[0].style.visibility="visible",O.children[1].style.visibility="hidden",O.children[2].style.visibility="hidden")}function q(a){for(var c=
A.get_active(),d=A.get_scenes(),e=0;e<d.length;e++){var f=d[e];if(f!==c){var g=fa(f,a);E(f,g)}}g=fa(c,a);E(c,g);ab=function(a){var c=qa.get_materials_names(a);b("material_name",c);fb(a,c[0]);a=qa.get_water_material_params(a,c[0]);c="shallow_water_col shallow_water_col_fac shore_water_col shore_water_col_fac water_fog_color water_fog_density absorb_factor sss_strength sss_width foam_factor norm_uv_velocity waves_height waves_length dst_noise_scale0 dst_noise_scale1 dst_noise_freq0 dst_noise_freq1 dir_min_shore_fac dir_freq dir_noise_scale dir_noise_freq dir_min_noise_fac dst_min_fac waves_hor_fac water_dynamic shore_smoothing".split(" ");
a?(x(c,"enable"),A.get_water_mat_params(a),a.shallow_water_col&&la("shallow_water_col",a.shallow_water_col),a.shallow_water_col_fac&&u("shallow_water_col_fac",a.shallow_water_col_fac),a.shore_water_col&&la("shore_water_col",a.shore_water_col),a.shore_water_col_fac&&u("shore_water_col_fac",a.shore_water_col_fac),a.water_fog_color&&(la("water_fog_color",a.water_fog_color),u("water_fog_density",a.water_fog_density)),u("absorb_factor",a.absorb_factor),u("sss_strength",a.sss_strength),u("sss_width",a.sss_width),
u("foam_factor",a.foam_factor),u("norm_uv_velocity",a.norm_uv_velocity),u("waves_height",a.waves_height),u("waves_length",a.waves_length),u("dst_noise_scale0",a.dst_noise_scale0),u("dst_noise_scale1",a.dst_noise_scale1),u("dst_noise_freq0",a.dst_noise_freq0),u("dst_noise_freq1",a.dst_noise_freq1),u("dir_min_shore_fac",a.dir_min_shore_fac),u("dir_freq",a.dir_freq),u("dir_noise_scale",a.dir_noise_scale),u("dir_noise_freq",a.dir_noise_freq),u("dir_min_noise_fac",a.dir_min_noise_fac),u("dst_min_fac",
a.dst_min_fac),u("waves_hor_fac",a.waves_hor_fac)):x(c,"disable")};Db();a=A.get_all_objects("LAMP");c=[];for(e=0;e<a.length;e++)c.push(ka(a[e]));b("light_name",c);0<a.length&&gb(a[0]);Eb();Fb();Gb();Hb();Ib();Jb();Kb();Lb();Mb();Nb();Ob();Pb();bb();$("#debug_view_mode").val("DV_NONE");$("#debug_view_mode").selectmenu("refresh",!0);x(["debug_change_colors"],"disable");$("#wireframe_edge_color div").css("backgroundColor","#333");e=new Date(document.getElementById("date").value);Ka({date:e})}function fa(a,
b){function c(a,b){for(var d in a)b[d]=a[d];return b}var d=b.scene_settings;if(d&&d[a]){var e={};c(b,e);c(d[a],e);delete e.scene_settings;return e}return b}function E(a,c){A.set_active(a);A.get_active_camera();for(var d=[],e=A.get_all_objects(),f=0;f<e.length;f++){var g=e[f];B.is_animated(g)&&(G||(G=g),d.push(ka(g)))}f="anim_active_object anim_slot animation anim_cyclic anim_frame_range anim_mix_factor anim_frame_current anim_play anim_stop".split(" ");G?(x(f,"enable"),b("anim_active_object",d),na({anim_active_object:ka(G)})):
x(f,"disable");d=["nla_play","nla_stop","nla_status","nla_frame_current","nla_playing"];f=["nla_frame_range"];if(S.check_nla()){S.check_nla_scripts()?(x(d,"disable"),document.getElementById("nla_status").innerHTML="CONTROLLED BY NLA SCRIPT"):x(d,"enable");x(f,"enable");var d=document.getElementById("nla_frame_current"),f=document.getElementById("nla_frame_range"),g=S.get_frame_start(),h=S.get_frame_end();-1!=g&&-1!=h?(f.innerHTML=g+" - "+h,d.min=""+g,d.max=""+h):f.innerHTML="N/A"}else x(d,"disable"),
x(f,"disable");d=[];for(f=0;f<e.length;f++)g=e[f],ya.check_shape_keys(g)&&(ba||(ba=g),d.push(ka(g)));e=["shape_key_obj","shape_key_name","shape_key_value"];ba?(x(e,"enable"),b("shape_key_obj",d),Aa({shape_key_obj:ka(ba)})):x(e,"disable")}function w(a,b){A.get_active_camera();if(G){var c=document.getElementById("anim_status"),d=parseInt(document.getElementById("anim_slot").value);B.is_play(G,d)?(d=Math.round(B.get_frame(G,d)),parseInt($("#anim_frame_current").val())!==d&&u("anim_frame_current",d),
c.innerHTML="PLAYING"):c.innerHTML="STOPPED"}S.check_nla()&&(S.check_nla_scripts()||(c=document.getElementById("nla_status"),S.is_play()?c.innerHTML="PLAYING":c.innerHTML="STOPPED"),d=parseInt(S.get_frame().toFixed(0)),S.is_play()&&parseInt($("#nla_frame_current").val())!==d&&u("nla_frame_current",d))}function y(a){F.set("quality",a.quality);setTimeout(function(){window.location.reload()},100)}function z(){F.cleanup();var a=window.location.href.replace(/load=.*?(&|$)/,"").replace(/(&|\?)$/,"");window.location.href=
a}function C(){h(null,!0,!1,!0)}function v(){ua.pause()}function D(){ua.resume()}function P(){return"true"===F.get("sfx_mix_mode")?!0:!1}function Q(a){F.set("show_hud_debug_info",a.show_hud_debug_info);window.location.reload()}function L(a){F.set("enable_gl_debug",a.enable_gl_debug);window.location.reload()}function ha(a){F.set("sfx_mix_mode",a.sfx_mix_mode);window.location.reload()}function ia(a){F.set("stereo",a.stereo);window.location.reload()}function X(a){Ia.show("hmd_container")}function Ga(a){F.set("gyro_use",
a.gyro_use);window.location.reload()}function Z(a){a.gmpd_settings?hb.show():hb.hide()}function ma(a){F.set("outlining_overview_mode",a.outlining_overview_mode);window.location.reload()}function N(){xa=!0;m()}function T(a){H.resize_to_container();a=Ea.get_canvas();document.getElementById("info_left_up").innerHTML=a.width+"x"+a.height+" ("+(a.width/a.clientWidth).toFixed(2)+":1.00)"}function ca(){var a=document.getElementById("animation").value,b=parseInt(document.getElementById("anim_slot").value);
"None"!==a&&B.play(G,null,b)}function ga(){document.getElementById("animation");var a=parseInt(document.getElementById("anim_slot").value);B.stop(G,a)}function Fa(){for(var a=document.getElementById("anim_active_object").children,b=0;b<a.length;b++){var c=ta(a[b].value);B.play(c,null,B.SLOT_ALL)}}function lb(){for(var a=document.getElementById("anim_active_object").children,b=0;b<a.length;b++){var c=ta(a[b].value);B.stop(c,null,B.SLOT_ALL)}}function mb(){S.play()}function nb(){S.stop()}function Aa(a){if("shape_key_obj"in
a){ba=ta(a.shape_key_obj);var c=ya.get_shape_keys_names(ba);c.length?(b("shape_key_name",c),za=c[0],c=ya.get_shape_key_value(ba,za),u("shape_key_value",c)):b("shape_key_name",["N/K"])}"shape_key_name"in a&&(za=a.shape_key_name,c=ya.get_shape_key_value(ba,za),u("shape_key_value",c));"shape_key_value"in a&&ya.set_shape_key_value(ba,za,a.shape_key_value)}function ob(a){"nla_frame_current"in a&&!S.is_play()&&(a=parseInt(a.nla_frame_current),S.set_frame(a))}function na(a){if("anim_active_object"in a){G=
ta(a.anim_active_object);var c=B.get_anim_names(G);if(c.length){for(var d=[],e=0;e<c.length&&8>e;e++)d.push(e);c.push("None");b("animation",c);b("anim_slot",d);c=parseInt(document.getElementById("anim_slot").value);Sa(G,c);Pa(G,c)}else b("animation",["N/A"]);Qa(G)}if("anim_slot"in a){if(!G)return;c=a.anim_slot;Sa(G,c);Pa(G,c);Qa(G)}"animation"in a&&(c=parseInt(document.getElementById("anim_slot").value),B.get_current_anim_name(G,c),"None"==a.animation?B.remove_slot_animation(G,c):(B.apply(G,a.animation,
c),B.play(G,null,c)),Pa(G,c),Qa(G));"anim_cyclic"in a&&(c=document.getElementById("animation").value,c=B.get_slot_num_by_anim(G,c),B.set_behavior(G,a.anim_cyclic?B.AB_CYCLIC:B.AB_FINISH_RESET,c));"anim_frame_current"in a&&(c=parseInt(document.getElementById("anim_slot").value),B.is_play(G,c)||(d=parseInt(a.anim_frame_current),B.set_frame(G,d,c)));"anim_mix_factor"in a&&B.set_skel_mix_factor(G,a.anim_mix_factor)}function Sa(a,b){for(var c=B.get_current_anim_name(a,b),c=c||"None",d=$("#animation"),
e=d.children(),f=0;f<e.length;f++){var g=e[f];if(g.value==c){g.selected=!0;d.selectmenu();d.selectmenu("refresh");break}}}function Pa(a,b){u("anim_cyclic",Number(B.get_behavior(a,b)==B.AB_CYCLIC));var c=document.getElementById("anim_frame_range"),d=B.get_anim_start_frame(a,b),e=B.get_anim_length(a,b);-1!=d&&-1!=e?(e=d+e,c.innerHTML=d+" - "+e,c=document.getElementById("anim_frame_current"),c.min=""+d,c.max=""+e):c.innerHTML="N/A"}function Qa(a){for(var b=$("#anim_slot-listbox").find("a"),c=parseInt(document.getElementById("anim_slot").value),
d=B.get_anim_type(a,c),c=0;c<b.length;c++){d=B.get_anim_type(a,c);switch(d){case B.OBJ_ANIM_TYPE_ARMATURE:d="ARMATURE";break;case B.OBJ_ANIM_TYPE_OBJECT:d="OBJECT";break;case B.OBJ_ANIM_TYPE_PARTICLES:d="PARTICLES";break;case B.OBJ_ANIM_TYPE_VERTEX:d="VERTEX";break;case B.OBJ_ANIM_TYPE_MATERIAL:d="MATERIAL";break;case B.OBJ_ANIM_TYPE_STATIC:d="STATIC";break;default:d="NONE"}b.eq(c);d=c+" ("+d+")";$("#anim_slot").children().eq(c).text(d)}$("#anim_slot").selectmenu();$("#anim_slot").selectmenu("refresh")}
function Fb(){var a=A.get_ssao_params(),b="ssao_quality ssao_hemisphere ssao_blur_depth ssao_blur_discard_value ssao_radius_increase ssao_influence ssao_dist_factor ssao_only ssao_white".split(" ");if(a){x(b,"enable");for(var c=document.getElementById("ssao_quality"),b=a.ssao_quality,c=c.options,d=0;d<c.length;d++){var e=c[d];e.selected=e.value==b?!0:!1}$("#ssao_quality").selectmenu("refresh");b=Number(a.ssao_hemisphere);document.getElementById("ssao_hemisphere").options[b].selected=!0;$("#ssao_hemisphere").slider("refresh");
b=Number(a.ssao_blur_depth);document.getElementById("ssao_blur_depth").options[b].selected=!0;$("#ssao_blur_depth").slider("refresh");u("ssao_blur_discard_value",a.blur_discard_value);u("ssao_radius_increase",a.radius_increase);u("ssao_influence",a.influence);u("ssao_dist_factor",a.dist_factor);b=Number(a.ssao_only);document.getElementById("ssao_only").options[b].selected=!0;$("#ssao_only").slider("refresh");b=Number(a.ssao_white);document.getElementById("ssao_white").options[b].selected=!0;$("#ssao_white").slider("refresh")}else x(b,
"disable")}function ea(a){A.get_ssao_params();var b={};"ssao_quality"in a&&(b.ssao_quality=ib(document.getElementById("ssao_quality")));"ssao_hemisphere"in a&&(b.ssao_hemisphere=Number(a.ssao_hemisphere));"ssao_blur_depth"in a&&(b.ssao_blur_depth=Number(a.ssao_blur_depth));"ssao_blur_discard_value"in a&&(b.ssao_blur_discard_value=a.ssao_blur_discard_value);"ssao_radius_increase"in a&&(b.ssao_radius_increase=a.ssao_radius_increase);"ssao_influence"in a&&(b.ssao_influence=a.ssao_influence);"ssao_dist_factor"in
a&&(b.ssao_dist_factor=a.ssao_dist_factor);"ssao_only"in a&&(b.ssao_only=Number(a.ssao_only));"ssao_white"in a&&(b.ssao_white=Number(a.ssao_white));A.set_ssao_params(b)}function Ib(){var a=A.get_color_correction_params(),b=["brightness","contrast","exposure","saturation"];a?(x(b,"enable"),u("brightness",a.brightness),u("contrast",a.contrast),u("exposure",a.exposure),u("saturation",a.saturation)):x(b,"disable")}function Ca(a){var b=A.get_color_correction_params();b&&(b={},"brightness"in a&&(b.brightness=
parseFloat(a.brightness)),"contrast"in a&&(b.contrast=parseFloat(a.contrast)),"exposure"in a&&(b.exposure=parseFloat(a.exposure)),"saturation"in a&&(b.saturation=parseFloat(a.saturation)),A.set_color_correction_params(b))}function ib(a){a=a.options;for(var b=0;b<a.length;b++){var c=a[b];if(c.selected)return c.value}}function Eb(){var a=A.get_shadow_params(),b="csm_first_cascade_border csm_last_cascade_border self_shadow_polygon_offset self_shadow_normal_offset first_cascade_blur_radius last_cascade_blur_radius res_ui-block-b num_ui-block-b blur_ui-block-b".split(" ");
if(!a)return x(b,"disable"),document.getElementById("csm_resolution").innerHTML="",document.getElementById("csm_num").innerHTML="",document.getElementById("csm_borders").innerHTML="",document.getElementById("blur_radii").innerHTML="",null;x(b,"enable");jb(a);u("self_shadow_polygon_offset",a.self_shadow_polygon_offset);u("self_shadow_normal_offset",a.self_shadow_normal_offset);u("first_cascade_blur_radius",a.first_cascade_blur_radius);a.enable_csm?(u("csm_first_cascade_border",a.csm_first_cascade_border),
1<a.csm_num?(u("csm_last_cascade_border",a.csm_last_cascade_border),u("last_cascade_blur_radius",a.last_cascade_blur_radius)):x(["csm_last_cascade_border","last_cascade_blur_radius"],"disable")):x(["csm_first_cascade_border","csm_last_cascade_border","last_cascade_blur_radius"],"disable")}function ra(a){var b={};"csm_first_cascade_border"in a&&(b.csm_first_cascade_border=a.csm_first_cascade_border);"csm_last_cascade_border"in a&&(b.csm_last_cascade_border=a.csm_last_cascade_border);"self_shadow_polygon_offset"in
a&&(b.self_shadow_polygon_offset=a.self_shadow_polygon_offset);"self_shadow_normal_offset"in a&&(b.self_shadow_normal_offset=a.self_shadow_normal_offset);"first_cascade_blur_radius"in a&&(b.first_cascade_blur_radius=a.first_cascade_blur_radius);"last_cascade_blur_radius"in a&&(b.last_cascade_blur_radius=a.last_cascade_blur_radius);A.set_shadow_params(b);jb(A.get_shadow_params())}function jb(a){document.getElementById("csm_resolution").innerHTML="&nbsp;&nbsp;"+a.csm_resolution;if(a.enable_csm){document.getElementById("csm_num").innerHTML=
" "+a.csm_num;for(var b=["csm_borders","blur_radii"],c=0;c<b.length;c++){var d=b[c],e=a[d],d=document.getElementById(d);d.innerHTML="(";for(var f=0;f<e.length;f++)0<f&&(d.innerHTML+=" __ "),d.innerHTML+=Math.round(10*e[f])/10;d.innerHTML+=")"}}else document.getElementById("cascades-info-block").style.display="none",document.getElementById("csm_first_cascade_border-info-block").style.display="none",document.getElementById("csm_last_cascade_border-info-block").style.display="none",document.getElementById("blur_radii-info-block").style.display=
"none",document.getElementById("first_cascade_blur_radius-label").innerHTML="Blur radius",document.getElementById("last_cascade_blur_radius-info-block").style.display="none"}function Db(){var a=A.get_environment_colors();u("environment_energy",a[0]);la("horizon_color",a[1]);la("zenith_color",a[2])}function Ja(a){("environment_energy"in a||"horizon_color"in a||"zenith_color"in a)&&A.set_environment_colors(a.environment_energy,a.horizon_color,a.zenith_color)}function $a(a){var b={};if("string"==typeof a.debug_view_mode){var c=
ib(document.getElementById("debug_view_mode"));switch(c){case "DV_NONE":b.debug_view_mode=K.DV_NONE;break;case "DV_OPAQUE_WIREFRAME":b.debug_view_mode=K.DV_OPAQUE_WIREFRAME;break;case "DV_TRANSPARENT_WIREFRAME":b.debug_view_mode=K.DV_TRANSPARENT_WIREFRAME;break;case "DV_FRONT_BACK_VIEW":b.debug_view_mode=K.DV_FRONT_BACK_VIEW;break;case "DV_DEBUG_SPHERES":b.debug_view_mode=K.DV_DEBUG_SPHERES;break;case "DV_CLUSTERS_VIEW":b.debug_view_mode=K.DV_CLUSTERS_VIEW;break;case "DV_BATCHES_VIEW":b.debug_view_mode=
K.DV_BATCHES_VIEW}"DV_CLUSTERS_VIEW"==c||"DV_BATCHES_VIEW"==c?x(["debug_change_colors"],"enable"):x(["debug_change_colors"],"disable")}"object"==typeof a.wireframe_edge_color&&(b.wireframe_edge_color=a.wireframe_edge_color);K.set_debug_params(b)}function ub(){K.set_debug_params({debug_colors_seed:Math.random()})}function vb(){Qb.shot()}function Lb(){var a=A.get_sky_params(),b="sky_color rayleigh_brightness mie_brightness spot_brightness scatter_strength rayleigh_strength mie_strength rayleigh_collection_power mie_collection_power mie_distribution".split(" ");
if(!a)return x(b,"disable"),null;x(b,"enable");la("sky_color",a.color);u("rayleigh_brightness",a.rayleigh_brightness);u("mie_brightness",a.mie_brightness);u("spot_brightness",a.spot_brightness);u("scatter_strength",a.scatter_strength);u("rayleigh_strength",a.rayleigh_strength);u("mie_strength",a.mie_strength);u("rayleigh_collection_power",a.rayleigh_collection_power);u("mie_collection_power",a.mie_collection_power);u("mie_distribution",a.mie_distribution)}function aa(a){var b={};"sky_color"in a&&
(b.color=a.sky_color);"rayleigh_brightness"in a&&(b.rayleigh_brightness=a.rayleigh_brightness);"mie_brightness"in a&&(b.mie_brightness=a.mie_brightness);"spot_brightness"in a&&(b.spot_brightness=a.spot_brightness);"scatter_strength"in a&&(b.scatter_strength=a.scatter_strength);"rayleigh_strength"in a&&(b.rayleigh_strength=a.rayleigh_strength);"mie_strength"in a&&(b.mie_strength=a.mie_strength);"rayleigh_collection_power"in a&&(b.rayleigh_collection_power=a.rayleigh_collection_power);"mie_collection_power"in
a&&(b.mie_collection_power=a.mie_collection_power);"mie_distribution"in a&&(b.mie_distribution=a.mie_distribution);A.set_sky_params(b)}function fb(a,b){var c=qa.get_material_extended_params(a,b),d="material_diffuse_color material_name material_reflectivity material_fresnel material_fresnel_factor material_parallax_scale material_parallax_steps".split(" ");if(!c)return x(d,"disable"),$("#material_warning")[0].style.display="block",null;var e=qa.get_diffuse_color(a,b);c.diffuse_color=e.subarray(0,3);
x(d,"enable");la("material_diffuse_color",c.diffuse_color);u("material_reflectivity",c.reflect_factor);u("material_fresnel",c.fresnel);u("material_fresnel_factor",c.fresnel_factor);u("material_parallax_scale",c.parallax_scale);u("material_parallax_steps",c.parallax_steps)}function oa(a){var b=U;"material_name"in a&&fb(b,a.material_name);if("material_diffuse_color"in a){var c=a.material_diffuse_color.slice();c.push(1);qa.set_diffuse_color(b,$("#material_name").val(),c)}c={};"material_reflectivity"in
a&&(c.material_reflectivity=a.material_reflectivity);"material_fresnel"in a&&(c.material_fresnel=a.material_fresnel);"material_fresnel_factor"in a&&(c.material_fresnel_factor=a.material_fresnel_factor);"material_parallax_scale"in a&&(c.material_parallax_scale=a.material_parallax_scale);"material_parallax_steps"in a&&(c.material_parallax_steps=a.material_parallax_steps);qa.set_material_extended_params(b,$("#material_name").val(),c);A.update_scene_materials_params()}function I(a){var b=U,c="waves_height waves_length sss_strength sss_width dst_noise_scale0 dst_noise_scale1 dst_noise_freq0 dst_noise_freq1 dir_min_shore_fac dir_freq dir_noise_scale dir_noise_freq dir_min_noise_fac dst_min_fac waves_hor_fac".split(" ");
if(!b)return null;var d={},e=$("#water_dynamic").val(),f=$("#shore_smoothing").val();Boolean(Number(e))?x(c,"enable"):x(c,"disable");Boolean(Number(f))?x(["absorb_factor"],"enable"):x(["absorb_factor"],"disable");"shore_smoothing"in a&&(d.shore_smoothing=a.shore_smoothing);"absorb_factor"in a&&(d.absorb_factor=a.absorb_factor);"water_fog_color"in a&&(d.water_fog_color=a.water_fog_color);"water_fog_density"in a&&(d.water_fog_density=a.water_fog_density);"shallow_water_col"in a&&(d.shallow_water_col=
a.shallow_water_col);"shallow_water_col_fac"in a&&(d.shallow_water_col_fac=a.shallow_water_col_fac);"shore_water_col"in a&&(d.shore_water_col=a.shore_water_col);"shore_water_col_fac"in a&&(d.shore_water_col_fac=a.shore_water_col_fac);"foam_factor"in a&&(d.foam_factor=a.foam_factor);"norm_uv_velocity"in a&&(d.norm_uv_velocity=a.norm_uv_velocity);"sss_strength"in a&&(d.sss_strength=a.sss_strength);"sss_width"in a&&(d.sss_width=a.sss_width);"water_dynamic"in a&&(d.water_dynamic=a.water_dynamic);"waves_height"in
a&&(d.waves_height=a.waves_height);"waves_length"in a&&(d.waves_length=a.waves_length);"dst_noise_scale0"in a&&(d.dst_noise_scale0=a.dst_noise_scale0);"dst_noise_scale1"in a&&(d.dst_noise_scale1=a.dst_noise_scale1);"dst_noise_freq0"in a&&(d.dst_noise_freq0=a.dst_noise_freq0);"dst_noise_freq1"in a&&(d.dst_noise_freq1=a.dst_noise_freq1);"dir_min_shore_fac"in a&&(d.dir_min_shore_fac=a.dir_min_shore_fac);"dir_freq"in a&&(d.dir_freq=a.dir_freq);"dir_noise_scale"in a&&(d.dir_noise_scale=a.dir_noise_scale);
"dir_noise_freq"in a&&(d.dir_noise_freq=a.dir_noise_freq);"dir_min_noise_fac"in a&&(d.dir_min_noise_fac=a.dir_min_noise_fac);"dst_min_fac"in a&&(d.dst_min_fac=a.dst_min_fac);"waves_hor_fac"in a&&(d.waves_hor_fac=a.waves_hor_fac);if(!qa.set_water_material_params(b,$("#material_name").val(),d))return null;A.update_scene_materials_params();A.set_water_params(d)}function gb(a){if(a=V.get_light_params(a)){var b=a.light_energy-Math.floor(a.light_energy),c=Math.floor(a.light_energy);la("light_color",a.light_color);
u("rude_light_energy",c);u("pre_light_energy",b);b=c+b;$("#light_energy").text(b);b=a.light_type;$("#light_type").text(b);"SPOT"==a.light_type?(x(["light_spot_blend","light_spot_size"],"enable"),"light_spot_blend"in a&&u("light_spot_blend",a.light_spot_blend),"light_spot_size"in a&&u("light_spot_size",Math.round(a.light_spot_size*Rb))):x(["light_spot_blend","light_spot_size"],"disable");"SPOT"==a.light_type||"POINT"==a.light_type?(x(["light_distance"],"enable"),"light_distance"in a&&u("light_distance",
a.light_distance)):x(["light_distance"],"disable")}}function pa(a){"light_name"in a&&gb(ta(a.light_name));var b={};"light_color"in a&&(b.light_color=a.light_color);"pre_light_energy"in a&&(b.light_energy=parseFloat(a.pre_light_energy)+parseFloat(document.getElementById("rude_light_energy").value));"rude_light_energy"in a&&(b.light_energy=parseFloat(a.rude_light_energy)+parseFloat(document.getElementById("pre_light_energy").value));"light_spot_size"in a&&(b.light_spot_size=parseFloat(a.light_spot_size*
Sb));"light_spot_blend"in a&&(b.light_spot_blend=parseFloat(a.light_spot_blend));"light_distance"in a&&(b.light_distance=parseFloat(a.light_distance));a=ta($("#light_name").val());V.set_light_params(a,b);b=V.get_light_params(a).light_energy.toFixed(2);$("#light_energy").text(b)}function Kb(){var a=V.get_sun_params(),b=["sun_horizontal_position","sun_vertical_position"];if(!a)return x(b,"disable"),null;u("sun_horizontal_position",a.hor_position);u("sun_vertical_position",a.vert_position)}function Wa(a){var b=
{};"sun_horizontal_position"in a&&(b.hor_position=parseFloat(a.sun_horizontal_position),b.vert_position=parseFloat(document.getElementById("sun_vertical_position").value));"sun_vertical_position"in a&&(b.hor_position=parseFloat(document.getElementById("sun_horizontal_position").value),b.vert_position=parseFloat(a.sun_vertical_position));V.set_sun_params(b)}function qb(a){a=parseFloat(a.max_sun_angle);V.set_max_sun_angle(a)}function Ka(a){"day_time"in a&&V.set_day_time(a.day_time);"date"in a&&V.set_date(new Date(a.date))}
function rb(){var a=0,b=parseFloat(document.getElementById("day_time").value),c=J.create_elapsed_sensor(),d=V.get_lamps("SUN")[0];J.create_sensor_manifold(d,"ELAPSED",J.CT_CONTINUOUS,[c],function(a){return a[0]},function(c,d,e){1==e&&(a=document.getElementById("sun_time_multiplier").value,c=J.get_sensor_value(c,d,0),b+=c*a/3600,24<b&&(b-=Math.floor(b)),u("day_time",b))})}function Pb(){var a=V.get_lamps("SUN")[0],b=["sn-ui-grid-b"];V.get_lamps().length?a||x("run_sun stop_sun date sun_time_multiplier day_time max_sun_angle".split(" "),
"disable"):x(b,"disable")}function bb(){x("material_diffuse_color material_name material_reflectivity material_fresnel material_fresnel_factor material_parallax_scale material_parallax_steps".split(" "),"disable");x("shallow_water_col shallow_water_col_fac shore_water_col shore_water_col_fac water_fog_color water_fog_density absorb_factor sss_strength sss_width foam_factor norm_uv_velocity waves_height waves_length dst_noise_scale0 dst_noise_scale1 dst_noise_freq0 dst_noise_freq1 dir_min_shore_fac dir_freq dir_noise_scale dir_noise_freq dir_min_noise_fac dst_min_fac waves_hor_fac water_dynamic shore_smoothing".split(" "),
"disable")}function sb(){var a=V.get_lamps("SUN")[0];J.check_sensor_manifolds(a)&&J.remove_sensor_manifold(a,"ELAPSED")}function Gb(){var a=A.get_dof_params(),b="dof_distance dof_object dof_front dof_rear dof_power dof_on".split(" ");if(a){u("dof_front",a.dof_front);u("dof_rear",a.dof_rear);u("dof_power",a.dof_power);$("#dof_distance").parent().parent().parent().removeClass("ui-disabled");if(a.dof_object){var c=ka(a.dof_object);$("#dof_object").text(c);b.splice(0,1);$("#dof_distance").parent().addClass("ui-disabled");
$("#dof_object").parent().removeClass("ui-disabled")}else u("dof_distance",a.dof_distance),b.splice(1,1),$("#dof_distance").parent().removeClass("ui-disabled"),$("#dof_object").parent().addClass("ui-disabled");x(b,"enable");a=0<a.dof_distance?1:0;document.getElementById("dof_on").options[a].selected=!0;$("#dof_on").slider("refresh")}else x(b,"disable")}function va(a){var b={};"dof_distance"in a&&Number($("#dof_on").val())&&(b.dof_distance=a.dof_distance);"dof_front"in a&&(b.dof_front=a.dof_front);
"dof_rear"in a&&(b.dof_rear=a.dof_rear);"dof_power"in a&&(b.dof_power=a.dof_power);"dof_on"in a&&(b.dof_on=Boolean(a.dof_on));A.set_dof_params(b)}function Hb(){var a=A.get_god_rays_params(),b=["god_rays_intensity","god_rays_max_ray_length","god_rays_steps"];a?(x(b,"enable"),a&&(u("god_rays_intensity",a.god_rays_intensity),u("god_rays_max_ray_length",a.god_rays_max_ray_length),u("god_rays_steps",a.god_rays_steps))):x(b,"disable")}function La(a){var b={};"god_rays_intensity"in a&&(b.god_rays_intensity=
a.god_rays_intensity);"god_rays_max_ray_length"in a&&(b.god_rays_max_ray_length=a.god_rays_max_ray_length);"god_rays_steps"in a&&(b.god_rays_steps=a.god_rays_steps);A.set_god_rays_params(b)}function tb(a){"canvas_rf"in a&&(M.set("canvas_resolution_factor",a.canvas_rf),T())}function Mb(){var a=A.get_mb_params(),b=["mb_factor","mb_decay_threshold"];a?(x(b,"enable"),a&&(u("mb_factor",a.mb_factor),u("mb_decay_threshold",a.mb_decay_threshold))):x(b,"disable")}function Za(a){var b={};"mb_factor"in a&&(b.mb_factor=
a.mb_factor);"mb_decay_threshold"in a&&(b.mb_decay_threshold=a.mb_decay_threshold);A.set_mb_params(b)}function Nb(){var a=A.get_bloom_params(),b=["bloom_key","bloom_blur","bloom_edge_lum"];a?(x(b,"enable"),a&&(u("bloom_key",a.bloom_key),u("bloom_blur",a.bloom_blur),u("bloom_edge_lum",a.bloom_edge_lum))):x(b,"disable")}function Ma(a){var b={};"bloom_key"in a&&(b.bloom_key=a.bloom_key);"bloom_blur"in a&&(b.bloom_blur=a.bloom_blur);"bloom_edge_lum"in a&&(b.bloom_edge_lum=a.bloom_edge_lum);A.set_bloom_params(b)}
function Ob(){var a=A.get_glow_material_params(),b=["small_glow_mask_coeff","large_glow_mask_coeff","small_glow_mask_width","large_glow_mask_width"];a?(x(b,"enable"),u("small_glow_mask_coeff",a.small_glow_mask_coeff),u("large_glow_mask_coeff",a.large_glow_mask_coeff),u("small_glow_mask_width",a.small_glow_mask_width),u("large_glow_mask_width",a.large_glow_mask_width)):x(b,"disable")}function Da(a){var b={};"small_glow_mask_coeff"in a&&(b.small_glow_mask_coeff=a.small_glow_mask_coeff);"large_glow_mask_coeff"in
a&&(b.large_glow_mask_coeff=a.large_glow_mask_coeff);"small_glow_mask_width"in a&&(b.small_glow_mask_width=a.small_glow_mask_width);"large_glow_mask_width"in a&&(b.large_glow_mask_width=a.large_glow_mask_width);A.set_glow_material_params(b)}function la(a,b){var c=Ra.rgb_to_css(b),d=Ra.rgb_to_css_hex(b),c={r:c[0],g:c[1],b:c[2]};$("#"+a).ColorPickerSetColor(c);$("#"+a+" div").css("backgroundColor",d)}function Jb(){var a=A.get_wind_params(),b=["wind_dir","wind_strength"];a?(u("wind_dir",a.wind_dir),
u("wind_strength",a.wind_strength)):x(b,"disable")}function Ya(a){var b={};"wind_dir"in a&&(b.wind_dir=a.wind_dir);"wind_strength"in a&&(b.wind_strength=a.wind_strength);A.set_wind_params(b)}function u(a,b){var c=$("#"+a);c.val(b);c.slider("refresh")}function r(a,b,c){$("#"+b).bind("change",function(d){var e={};switch(c){case "string":e[b]=d.target.value;break;case "number":e[b]=parseFloat(d.target.value);break;case "bool":e[b]=Boolean(Number(d.target.value));break;default:return console.log("wrong value type"),
null}a(e)})}function da(a,b){$("#"+b).ColorPicker({onChange:function(c,d,e){$("#"+b+" div").css("backgroundColor","#"+d);c={};e=Ra.css_to_rgb(e.r,e.g,e.b);c[b]=[e[0],e[1],e[2]];a(c)}})}function pb(){Tb.auto_rotate(.3)}function x(a,b){if(!a)return null;for(var c=0;c<a.length;c++){var d=$("#"+a[c]).parent().parent();"enable"==b?d.removeClass("ui-disabled"):"disable"==b&&d.addClass("ui-disabled")}}function Ta(a,b){if(!a)return null;for(var c=0;c<a.length;c++){var d=$("#"+a[c]);"enable"==b?d.removeClass("ui-disabled"):
"disable"==b&&d.addClass("ui-disabled")}}function ka(a){return A.get_object_name_hierarchy(a).join("->")}function ta(a){return A.get_object_by_dupli_name_list(a.split("->"))}var B=n("animation"),H=n("app"),Ua=n("assets"),cb=n("camera"),Tb=n("camera_anim"),M=n("config");n("constraints");var Ea=n("container"),J=n("controls"),Oa=n("data"),K=n("debug"),hb=n("gp_conf"),Ia=n("hmd_conf"),ya=n("geometry"),yb=n("gyroscope"),Xa=n("input"),V=n("lights"),ua=n("main"),eb=n("hmd"),xb=n("mixer"),qa=n("material"),
S=n("nla"),wb=n("objects"),Ra=n("rgb"),Qb=n("screenshooter"),A=n("scenes"),F=n("storage"),Ab=n("transform"),wa=n("util"),Va=n("version"),Cb=n("vec3"),kb="DEBUG"===Va.type(),Sb=Math.PI/180,Rb=180/Math.PI,zb=new Float32Array(3),Bb=new Float32Array(3),xa=!1,Na,Y=null,G=null,ba=null,za="",sa=null,Ba=null,O=null,U=null,ab=function(){},ja=null,db=null;k.init=function(){F.init("b4w_viewer");var a=F.get("quality");if(a){switch(a){case "ULTRA":var b=M.P_ULTRA;break;case "HIGH":b=M.P_HIGH;break;case "LOW":b=
M.P_LOW;break;case "CUSTOM":b=M.P_CUSTOM}M.set("quality",b)}M.set("stereo",F.get("stereo")||"NONE");""==F.get("outlining_overview_mode")?M.set("outlining_overview_mode",!0):M.set("outlining_overview_mode","true"===F.get("outlining_overview_mode"));H.init({canvas_container_id:"main_canvas_container",callback:t,autoresize:!1,gl_debug:""==F.get("enable_gl_debug")?!0:"true"===F.get("enable_gl_debug"),show_hud_debug_info:"true"===F.get("show_hud_debug_info")?!0:!1,sfx_mix_mode:P(),show_fps:!0,fps_elem_id:"fps_logger",
fps_wrapper_id:"fps_container",alpha:!0,assets_dds_available:!kb,assets_min50_available:!kb,console_verbose:!0,physics_enabled:!0,debug_view:!0})}});b4w.require("viewer_main").init();
