<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Particle System &mdash; User Manual: Blend4Web v14.06</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '14.06',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="User Manual: Blend4Web v14.06" href="index.html" />
    <link rel="next" title="Particle System for Instancing Objects" href="particles_instancing.html" />
    <link rel="prev" title="Postprocessing Effects" href="postprocessing_effects.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="index.html">
            <img class="logo" src="_static/b4w_logo.png" alt="Logo"/>
          </a></p>
        <div class="headertitle"><a
          href="index.html">User Manual: Blend4Web v14.06</a></div>
        <div class="rel">
          <a href="postprocessing_effects.html" title="Postprocessing Effects"
             accesskey="P">previous</a> |
          <a href="particles_instancing.html" title="Particle System for Instancing Objects"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="particles"></span><div class="section" id="index-0">
<span id="id1"></span><h1>Particle System<a class="headerlink" href="#index-0" title="Permalink to this headline">¶</a></h1>
<p>The particle system is intended to visualize phenomena which are caused by the movement of numerous small objects such as smoke, fire, water splashes and other.</p>
<a class="reference internal image-reference" href="_images/particles_smoke.jpg"><img alt="Пример системы частиц" class="align-center" src="_images/particles_smoke.jpg" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>A particle system requires an emitter - an object which defines the location and the direction of the outgoing particles flow.</p>
<div class="section" id="id2">
<h2>Use<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3>Necessary steps<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Add a mesh emitter to the scene.</p>
</li>
<li><p class="first">Create a material for particles on the emitter, for example of the <tt class="docutils literal"><span class="pre">Halo</span></tt> type. The <tt class="docutils literal"><span class="pre">Surface</span></tt> material type with a mandatory diffuse texture is also supported.</p>
</li>
<li><p class="first">Add a particle system on the emitter.</p>
</li>
<li><dl class="first docutils">
<dt>Initiate the engine playback. Two options are available:</dt>
<dd><ul class="first last simple">
<li><p class="first">&#8220;cyclic emission&#8221; - enable the <tt class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Cyclic</span> <span class="pre">emission</span></tt> checkbox for the particle system.</p>
</li>
<li><p class="first">&#8220;non-cyclic animation&#8221; - enable the <tt class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Animation</span> <span class="pre">&gt;</span> <span class="pre">Use</span> <span class="pre">default</span></tt> checkbox for the emitter.</p>
</li>
</ul>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="id4">
<h3>Recommended additional settings<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p class="first">Set the <tt class="docutils literal"><span class="pre">Add</span></tt> transparency type for the particles&#8217; material.</p>
</li>
<li><p class="first">Disable emitter rendering if needed using the <tt class="docutils literal"><span class="pre">Particles</span> <span class="pre">&gt;</span> <span class="pre">Render</span> <span class="pre">&gt;</span> <span class="pre">Emitter</span></tt> checkbox.</p>
</li>
<li><p class="first">If an emitter is required on a scene use additional materials for it. In this case select the particles&#8217; material in the <tt class="docutils literal"><span class="pre">Particles</span> <span class="pre">&gt;</span> <span class="pre">Render</span> <span class="pre">&gt;</span> <span class="pre">Material</span></tt> menu on the particles settings panel.</p>
</li>
<li><p class="first">If the <tt class="docutils literal"><span class="pre">Surface</span></tt> material type is used it is required to add a diffuse texture (normally with the alpha channel) to this material. Select  <tt class="docutils literal"><span class="pre">UV</span></tt> in the <tt class="docutils literal"><span class="pre">Mapping</span> <span class="pre">&gt;</span> <span class="pre">Coordinates</span></tt> menu.  Make sure that the emitter&#8217;s mesh has a UV layer.</p>
</li>
</ol>
<a class="reference internal image-reference" href="_images/particles_first_steps.jpg"><img alt="Первоначальная настройка системы частиц" class="align-center" src="_images/particles_first_steps.jpg" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="id5">
<h2>Setup<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>The particle system parameters can be set up under the <tt class="docutils literal"><span class="pre">Particles</span></tt> tab. Multiple particle systems per emitter are supported.</p>
<div class="section" id="id6">
<h3>Basic settings<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><em>Name</em></dt>
<dd><p class="first last">Particle system name. The default name is &#8220;ParticleSystem&#8221;.</p>
</dd>
<dt><em>Settings</em></dt>
<dd><p class="first last">Reference to the settings datablock of the particle system. The datablock settings can be shared between different particle systems.</p>
</dd>
<dt><em>Type</em></dt>
<dd><p class="first last">Particle system type: <tt class="docutils literal"><span class="pre">Emitter</span></tt> or <tt class="docutils literal"><span class="pre">Hair</span></tt>. <tt class="docutils literal"><span class="pre">Hair</span></tt> particle systems can be used to create numerous copies of an object (so called instancing). The default is <tt class="docutils literal"><span class="pre">Emitter</span></tt>.</p>
</dd>
<dt><em>Seed</em></dt>
<dd><p class="first last">Index in the table of random numbers which are used for particle system generation. The default value is 0.</p>
</dd>
</dl>
</div>
<div class="section" id="id7">
<h3>Emission settings<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><em>Emission &gt; Number</em></dt>
<dd><p class="first last">Number of particles. The default value is 1000.</p>
</dd>
<dt><em>Emission &gt; Start</em></dt>
<dd><p class="first last">The first frame after which the emission of particles starts. The default value is 1.0.</p>
</dd>
<dt><em>Emission &gt; End</em></dt>
<dd><p class="first last">The last frame after which the emission of particles ends. The default value is 200.0.</p>
</dd>
<dt><em>Emission &gt; Lifetime</em></dt>
<dd><p class="first last">The life time of particles measured in frames. The default value is 50.0.</p>
</dd>
<dt><em>Emission &gt; Lifetime &gt; Random</em></dt>
<dd><p class="first last">The random factor for the life time. The default value is 0.0.</p>
</dd>
<dt><em>Emission &gt; Emit From</em></dt>
<dd><p class="first last">Emission source type. The following types are supported: <tt class="docutils literal"><span class="pre">Verts</span></tt> (emit from vertices), <tt class="docutils literal"><span class="pre">Faces</span></tt> (emit from polygons). The default is <tt class="docutils literal"><span class="pre">Faces</span></tt>.</p>
</dd>
<dt><em>Emission &gt; Emit From &gt; Distribution</em></dt>
<dd><p class="first last">Emission distribution settings: <tt class="docutils literal"><span class="pre">Jittered</span></tt>, <tt class="docutils literal"><span class="pre">Random</span></tt>, <tt class="docutils literal"><span class="pre">Grid</span></tt>. Ignored by the engine. Internally the engine always uses <tt class="docutils literal"><span class="pre">Random</span></tt> distribution. The default is <tt class="docutils literal"><span class="pre">Jittered</span></tt>.</p>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/particles_settings.jpg"><img alt="Настройка системы частиц" class="align-center" src="_images/particles_settings.jpg" style="width: 100%;" /></a>
</div>
<div class="section" id="id8">
<h3>Direction settings<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>Only the following settings are supported:</p>
<dl class="docutils">
<dt><em>Velocity &gt; Emitter Geometry &gt; Normal</em></dt>
<dd><p class="first last">Factor influencing the emission along the emitter&#8217;s mesh normals. The default value is 1.0.</p>
</dd>
<dt><em>Velocity &gt; Other &gt; Random</em></dt>
<dd><p class="first last">Factor of randomization for emission direction. The default value is 0.0.</p>
</dd>
</dl>
</div>
<div class="section" id="id9">
<h3>Rotation settings<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>Only the following settings are supported:</p>
<dl class="docutils">
<dt><em>Rotation &gt; Angular Velocity &gt; Mode</em></dt>
<dd><p class="first last">Mode for particle billboards self-rotating. The following modes are supported: <tt class="docutils literal"><span class="pre">Velocity</span></tt> (constant rotation speed), <tt class="docutils literal"><span class="pre">Random</span></tt> (random rotation), <tt class="docutils literal"><span class="pre">None</span></tt> (no rotation). The default is <tt class="docutils literal"><span class="pre">Velocity</span></tt>.</p>
</dd>
<dt><em>Rotation &gt; Angular Velocity &gt; Factor</em></dt>
<dd><p class="first last">Factor of rotation velocity for particle billboards. The default value is 0.0.</p>
</dd>
</dl>
</div>
<div class="section" id="id10">
<h3>Physics settings<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>Only the following settings are supported:</p>
<dl class="docutils">
<dt><em>Physics &gt; Type</em></dt>
<dd><p class="first last">Physics calculation type: <tt class="docutils literal"><span class="pre">No</span></tt>, <tt class="docutils literal"><span class="pre">Newtonian</span></tt>, <tt class="docutils literal"><span class="pre">Keyed</span></tt>, <tt class="docutils literal"><span class="pre">Boids</span></tt>, <tt class="docutils literal"><span class="pre">Fluid</span></tt>. Ignored by the engine. <tt class="docutils literal"><span class="pre">Newtonian</span></tt> physics is always used. The default is <tt class="docutils literal"><span class="pre">Newtonian</span></tt>.</p>
</dd>
<dt><em>Physics &gt; Size</em></dt>
<dd><p class="first last">Particle size. The default value is 0.05.</p>
</dd>
<dt><em>Physics &gt; Mass</em></dt>
<dd><p class="first last">Particle mass. Affects interaction with force fields (such as wind). The default value is 1.0.</p>
</dd>
<dt><em>Physics &gt; Forces &gt; Brownian</em></dt>
<dd><p class="first last">Exported but not used by the engine.</p>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/particles_settings2.jpg"><img alt="Настройка системы частиц" class="align-center" src="_images/particles_settings2.jpg" style="width: 100%;" /></a>
</div>
<div class="section" id="id11">
<h3>Rendering settings<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>Only the following settings are supported:</p>
<dl class="docutils">
<dt><em>Render &gt; Material</em></dt>
<dd><p class="first last">Menu for selecting the particle&#8217;s material. Used for referencing to the particle&#8217; material in case multiple materials are used by the emitter. The default value is <tt class="docutils literal"><span class="pre">Default</span> <span class="pre">Material</span></tt>.</p>
</dd>
<dt><em>Render &gt; Emitter</em></dt>
<dd><p class="first last">Enables emitter rendering on the scene. Enabled by default.</p>
</dd>
<dt><em>Render &gt; Type</em></dt>
<dd><p class="first last">Particle rendering mode: <tt class="docutils literal"><span class="pre">None</span></tt>, <tt class="docutils literal"><span class="pre">Halo</span></tt>, <tt class="docutils literal"><span class="pre">Line</span></tt>, <tt class="docutils literal"><span class="pre">Path</span></tt>, <tt class="docutils literal"><span class="pre">Object</span></tt>, <tt class="docutils literal"><span class="pre">Group</span></tt>, <tt class="docutils literal"><span class="pre">Billboard</span></tt>. The engine supports the <tt class="docutils literal"><span class="pre">Object</span></tt> and the <tt class="docutils literal"><span class="pre">Group</span></tt> modes which are used for objects and groups instancing respectively. Other modes are ignored. It is recommended to use the <tt class="docutils literal"><span class="pre">Billboard</span></tt> mode for convenient display of billboards. The default is <tt class="docutils literal"><span class="pre">Halo</span></tt>.</p>
</dd>
</dl>
</div>
<div class="section" id="particles-force-fields">
<span id="id12"></span><h3>Supported settings for force fields influence<a class="headerlink" href="#particles-force-fields" title="Permalink to this headline">¶</a></h3>
<p>Only the following settings are supported:</p>
<dl class="docutils">
<dt><em>Field Weights &gt; Gravity</em></dt>
<dd><p class="first last">Gravity influence factor (Earth&#8217;s attraction). The default value is 1.0.</p>
</dd>
<dt><em>Field Weights &gt; Wind</em></dt>
<dd><p class="first last">Wind influence factor. A <tt class="docutils literal"><span class="pre">Wind</span></tt> force field source should be present (can be added using <tt class="docutils literal"><span class="pre">Add</span> <span class="pre">&gt;</span> <span class="pre">Force</span> <span class="pre">Field</span></tt>). A particle system is also influenced by the wind direction and strength. The default value is 1.0.</p>
</dd>
</dl>
</div>
<div class="section" id="id13">
<h3>Engine specific settings<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><em>Blend4Web &gt; Do not export</em></dt>
<dd><p class="first last">Unsupported.</p>
</dd>
<dt><em>Blend4Web &gt; Cyclic emission</em></dt>
<dd><p class="first last">The option enables the cyclic emission mode. It can be used for permanent effects (such as smoke, burning, water splashes). It is recommended to set the <tt class="docutils literal"><span class="pre">Emission</span> <span class="pre">&gt;</span> <span class="pre">Start</span></tt> value to zero. Disabled by default.</p>
</dd>
<dt><em>Blend4Web &gt; Random emission</em></dt>
<dd><p class="first last">The option enables a random emission time for particles. Disabled by default.</p>
</dd>
<dt><em>Blend4Web &gt; Billboard align</em></dt>
<dd><p class="first last">The way billboards are oriented: <tt class="docutils literal"><span class="pre">View</span></tt> - follow the camera, <tt class="docutils literal"><span class="pre">XY</span> <span class="pre">plane</span></tt>, <tt class="docutils literal"><span class="pre">YZ</span> <span class="pre">plane</span></tt>, <tt class="docutils literal"><span class="pre">ZX</span> <span class="pre">plane</span></tt> - align to the corresponding plane (in the world coordinate system of Blender). The default is <tt class="docutils literal"><span class="pre">View</span></tt>.</p>
</dd>
<dt><em>Blend4Web &gt; Dissolve intervals &gt; Fade-in</em> and <em>Fade-out</em></dt>
<dd><p class="first last">Starting and ending intervals (measured in frames) for gradually increasing and decreasing the particles&#8217; transparency.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="particles-textures">
<span id="id14"></span><h2>Textures in Particle Systems<a class="headerlink" href="#particles-textures" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id15">
<h3>Textures of the particle&#8217;s material<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<p>For the <tt class="docutils literal"><span class="pre">Surface</span></tt> particle&#8217;s materials it is <strong>required</strong> to have a diffuse texture (normally with an alpha-channel). In the <tt class="docutils literal"><span class="pre">Mapping</span> <span class="pre">&gt;</span> <span class="pre">Coordinates</span></tt> menu choose the <tt class="docutils literal"><span class="pre">UV</span></tt> option.  Make sure that the emitter&#8217;s mesh has a UV layer.</p>
<p>For the <tt class="docutils literal"><span class="pre">Halo</span></tt> particle&#8217;s materials it is <strong>possible</strong> to use a <tt class="docutils literal"><span class="pre">Blend</span></tt> texture with a <tt class="docutils literal"><span class="pre">Linear</span></tt> gradient. In the <tt class="docutils literal"><span class="pre">Mapping</span> <span class="pre">&gt;</span> <span class="pre">Coordinates</span></tt> menu choose the <tt class="docutils literal"><span class="pre">Strand</span> <span class="pre">/</span> <span class="pre">Particle</span></tt> option. It is required to enable <tt class="docutils literal"><span class="pre">Ramp</span></tt> on a texture. Up to 4 gradient control points are supported.</p>
<a class="reference internal image-reference" href="_images/particles_settings_ramp_color.jpg"><img alt="Настройка текстуры градиента для материала частиц" class="align-center" src="_images/particles_settings_ramp_color.jpg" style="width: 100%;" /></a>
</div>
<div class="section" id="id16">
<h3>Textures of particle systems<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<p>Textures can also be used for setting up the behaviour of particle systems. Unlike textures for particle materials such textures belong to the particle system datablock, not to the material datablock. To create a texture for the particle system it is required to go <strong>from</strong> the <tt class="docutils literal"><span class="pre">Particles</span></tt> tab to the <tt class="docutils literal"><span class="pre">Textures</span></tt> tab and then to click the <tt class="docutils literal"><span class="pre">New</span></tt> button.</p>
<p>The only supported type of textures is <tt class="docutils literal"><span class="pre">Blend</span></tt> with a <tt class="docutils literal"><span class="pre">Linear</span></tt> gradient. <tt class="docutils literal"><span class="pre">Ramp</span></tt> should be enabled on the texture. Up to 4 gradient control points are supported.</p>
<p>On the <tt class="docutils literal"><span class="pre">Influence</span></tt> panel choose the parameter which is influenced by the texture. At the moment the only supported parameter is <tt class="docutils literal"><span class="pre">Size</span></tt>.</p>
<a class="reference internal image-reference" href="_images/particles_settings_ramp_size.jpg"><img alt="Настройка текстуры градиента для системы частиц" class="align-center" src="_images/particles_settings_ramp_size.jpg" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The result of using gradient textures on the particle material and the particle system:</p>
<a class="reference internal image-reference" href="_images/particles_gun.jpg"><img alt="Результат применения текстур градиента для материала частиц и для системы частиц" class="align-center" src="_images/particles_gun.jpg" style="width: 100%;" /></a>
<p><a class="reference external" href="http://www.blendswap.com/blends/view/13977">The original model was taken from here</a></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">The Engine Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="first_steps.html">Quick Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Development Environment Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">Scene Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="addon.html">The Addon</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="textures.html">Textures</a></li>
<li class="toctree-l1"><a class="reference internal" href="materials.html">Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="node_materials.html">Node Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="lighting.html">Lighting and Shadows</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessing_effects.html">Postprocessing Effects</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Particle System</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#particles-textures">Textures in Particle Systems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="particles_instancing.html">Particle System for Instancing Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="animation.html">Animation</a></li>
<li class="toctree-l1"><a class="reference internal" href="outdoor_rendering.html">Outdoor Rendering</a></li>
<li class="toctree-l1"><a class="reference internal" href="gamma_alpha.html">Gamma Correction and Alpha Compositing</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">Audio System</a></li>
<li class="toctree-l1"><a class="reference internal" href="physics.html">Physics</a></li>
<li class="toctree-l1"><a class="reference internal" href="nla.html">Non-Linear Animation</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">For Application Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers_advanced.html">For Engine Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_short_manual.html">Team Work. Using Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems_and_solutions.html">Problems and Solutions</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="postprocessing_effects.html" title="Postprocessing Effects"
             >previous</a> |
          <a href="particles_instancing.html" title="Particle System for Instancing Objects"
             >next</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2014, Triumph LLC.
      Last updated on 2014-06-25.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>