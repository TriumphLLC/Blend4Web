<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Текстуры &mdash; Руководство пользователя: Blend4Web v14.12</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '14.12',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="Об этих документах" href="about.html" />
    <link rel="top" title="Руководство пользователя: Blend4Web v14.12" href="index.html" />
    <link rel="next" title="Нодовые материалы" href="node_materials.html" />
    <link rel="prev" title="Материалы" href="materials.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="index.html">
            <img class="logo" src="_static/b4w_logo.png" alt="Logo"/>
          </a></p>
        <div class="headertitle"><a
          href="index.html">Руководство пользователя: Blend4Web v14.12</a></div>
        <div class="rel">
          <a href="materials.html" title="Материалы"
             accesskey="P">назад</a> |
          <a href="node_materials.html" title="Нодовые материалы"
             accesskey="N">вперёд</a> |
          <a href="genindex.html" title="Алфавитный указатель"
             accesskey="I">указатель</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="textures"></span><div class="section" id="index-0">
<span id="id1"></span><h1>Текстуры<a class="headerlink" href="#index-0" title="Ссылка на этот заголовок">¶</a></h1>
<p>Текстуры - подготовленные вручную или процедурно сгенерированные изображения, накладываемые на поверхность моделей с целью их детализации. Для соотнесения точек 3D поверхности и пикселей плоского изображения, как правило, используются текстурные развертки. По этой причине текстуры иногда называют картами.</p>
<p>Текстуры обычно помещаются в текстурные слоты <a class="reference internal" href="materials.html#materials"><em>материалов</em></a>, также возможно их использование для параметризации <a class="reference internal" href="particles.html#particles-textures"><em>систем частиц</em></a> и визуализации <a class="reference internal" href="#skydome-texture"><em>небесного свода</em></a>.</p>
<div class="section" id="index-1">
<span id="id2"></span><h2>Типы текстур<a class="headerlink" href="#index-1" title="Ссылка на этот заголовок">¶</a></h2>
<p>Опция выбора типа текстуры <tt class="docutils literal"><span class="pre">Type</span></tt> расположена во вкладке <tt class="docutils literal"><span class="pre">Textures</span></tt>. Движком поддерживаются текстуры следующих типов:</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">Image</span> <span class="pre">or</span> <span class="pre">Movie</span></tt>, изображение или фильм</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#diffuse-map"><em>диффузная (diffuse map)</em></a></li>
<li><a class="reference internal" href="#specular-map"><em>карта бликов (specular map)</em></a>, может также содержаться в альфа-канале диффузной текстуры</li>
<li><a class="reference internal" href="#normal-map"><em>карта нормалей (normal map)</em></a></li>
<li>карта высот (height map), может содержаться только в альфа-канале карты нормалей, используется для <a class="reference internal" href="#parallax-mapping"><em>реализации рельефной поверхности (parallax mapping)</em></a></li>
<li><a class="reference internal" href="#stencil-map"><em>карта смешивания (stencil map)</em></a></li>
<li><a class="reference internal" href="#video-texture"><em>видеотекстура</em></a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">Environment</span> <span class="pre">Map</span></tt>, карта окружения</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#mirror-map"><em>карта зеркального отражения (mirror map)</em></a></li>
<li><a class="reference internal" href="#skydome-texture"><em>текстура неба (skydome)</em></a></li>
<li>используется для реализации одной из методик <a class="reference internal" href="lighting.html#environment-lighting"><em>освещения от окружающей среды</em></a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">None</span></tt>, пустая</dt>
<dd><ul class="first last simple">
<li>применена на кубе в стартовой сцене Blender&#8217;a. Также используется для <a class="reference internal" href="#render-to-texture-scene"><em>рендеринга сцены в текстуру</em></a>, а также для <a class="reference internal" href="#render-to-texture-canvas"><em>рендеринга canvas-текстуры</em></a>.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">Blend</span></tt>, градиент</dt>
<dd><ul class="first last simple">
<li>используется в <a class="reference internal" href="particles.html#particles-textures"><em>системах частиц</em></a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">Voronoi</span></tt>, процедурная текстура с разбиением Вороного</dt>
<dd><ul class="first last simple">
<li>используется для <a class="reference internal" href="outdoor_rendering.html#water"><em>рендеринга воды</em></a> с целью настройки каустики</li>
</ul>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="main-conf">
<span id="index-2"></span><span id="id3"></span><h2>Общие настройки<a class="headerlink" href="#main-conf" title="Ссылка на этот заголовок">¶</a></h2>
<dl class="docutils">
<dt><em>Размер</em></dt>
<dd>Размер растров для текстур-изображений (длина и ширина изображения в пикселах) должен быть числом 2<sup>N</sup>, т.е. 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096 пикселов. Использование текстур других размеров (т.н. NPOT) поддерживается, но не рекомендуется. Для корректной работы компрессии текстур размер должен составлять не менее 4 пикселов. Как правило, используются изображения квадратной формы (например, 512 x 512 px), однако могут использоваться и прямоугольные (например, 4 x 128 px). Использование изображений размером более 2048 пикселов не рекомендуется.</dd>
</dl>
<dl class="docutils" id="texture-extension">
<dt><em>Image Mapping &gt; Extension</em></dt>
<dd>Режим интерпретации текстурных координат (в WebGL - Wrap Mode). Доступен для текстур типа <tt class="docutils literal"><span class="pre">Image</span> <span class="pre">or</span> <span class="pre">Movie</span></tt>. В случае значения <tt class="docutils literal"><span class="pre">Repeat</span></tt> движок устанавливает для текстуры режим <tt class="docutils literal"><span class="pre">REPEAT</span></tt>. При этом целочисленная часть текстурных координат игнорируется, используется только дробная часть. Во всех остальных случаях (например, <tt class="docutils literal"><span class="pre">Extend</span></tt>) движок устанавливает <tt class="docutils literal"><span class="pre">CLAMP_TO_EDGE</span></tt>. При этом происходит ограничение текстурных координат отрезком [0, 1]. Значение по умолчанию <tt class="docutils literal"><span class="pre">Repeat</span></tt>.</dd>
</dl>
<dl class="docutils" id="index-3">
<dt><em>Mapping &gt; Coordinates</em></dt>
<dd>Тип текстурных координат. Поддерживаются <tt class="docutils literal"><span class="pre">UV</span></tt> (использовать развертку), <tt class="docutils literal"><span class="pre">Normal</span></tt> (использовать направление на камеру, только для диффузных текстур, применяется для создания материалов в стиле <strong>material capture</strong>, <strong>matcap</strong>) и <tt class="docutils literal"><span class="pre">Generated</span></tt> (исходные недеформированные координаты объекта). Значение по умолчанию <tt class="docutils literal"><span class="pre">Generated</span></tt>.</dd>
<dt><em>Mapping &gt; Offset</em></dt>
<dd>Не поддерживается.</dd>
<dt><em>Mapping &gt; Size</em></dt>
<dd>Масштабирование развертки по соответствующим осям. Значения по умолчанию 1.0.</dd>
<dt><em>Blend4Web &gt; Do not export</em></dt>
<dd>Не экспортировать текстуру. По умолчанию отключено.</dd>
<dt><em>Blend4Web &gt; Anisotropic Filtering</em></dt>
<dd>Фактор анизотропной фильтрации для индивидуальной текстуры. Имеет приоритет перед аналогичной настройкой для сцены. Значение по умолчанию <tt class="docutils literal"><span class="pre">DEFAULT</span></tt> (т.е. использовать настройки сцены).</dd>
<dt><em>Blend4Web &gt; UV translation velocity</em></dt>
<dd><p class="first">Скорость анимации текстурных координат по соответствующим осям. Значения по умолчанию 0.0.</p>
<div class="last deprecated">
<p><span class="versionmodified">Не рекомендуется, начиная с версии 14.10: </span>указанная функциональность может быть реализована в нодовых материалах с помощью ноды TIME.</p>
</div>
</dd>
<dt><em>Blend4Web &gt; Water Foam</em></dt>
<dd>Текстура пены. Используется материалом для рендеринга воды.</dd>
</dl>
<span class="target" id="diffuse-map"></span></div>
<div class="section" id="index-4">
<span id="id4"></span><h2>Диффузная текстура (diffuse map)<a class="headerlink" href="#index-4" title="Ссылка на этот заголовок">¶</a></h2>
<p>Диффузная текстура применяется для указания распределения цвета рассеянного света (модель Ламберта).</p>
<div class="section" id="id5">
<h3>Активация<a class="headerlink" href="#id5" title="Ссылка на этот заголовок">¶</a></h3>
<p>Выставить опцию <tt class="docutils literal"><span class="pre">Diffuse</span> <span class="pre">&gt;</span> <span class="pre">Color</span></tt> на панели <tt class="docutils literal"><span class="pre">Textures</span> <span class="pre">&gt;</span> <span class="pre">Influence</span></tt>.</p>
</div>
<div class="section" id="id6">
<h3>Дополнительные настройки<a class="headerlink" href="#id6" title="Ссылка на этот заголовок">¶</a></h3>
<dl class="docutils">
<dt><em>Influence &gt; Diffuse &gt; Color</em></dt>
<dd>Степень влияния текстуры на диффузный цвет. Значение по умолчанию 1.0.</dd>
<dt><em>Influence &gt; Blend</em></dt>
<dd>Тип взаимодействия с цветом материала (<tt class="docutils literal"><span class="pre">Material</span> <span class="pre">&gt;</span> <span class="pre">Diffuse</span> <span class="pre">&gt;</span> <span class="pre">Color</span></tt>), или с вертексным цветом, если включена опция <tt class="docutils literal"><span class="pre">Vertex</span> <span class="pre">Color</span> <span class="pre">Paint</span></tt>. Поддерживаются <tt class="docutils literal"><span class="pre">Mix</span></tt> (смешивается с цветом), <tt class="docutils literal"><span class="pre">Multiply</span></tt> (умножается на цвет). Значение по умолчанию <tt class="docutils literal"><span class="pre">Mix</span></tt>.</dd>
</dl>
<span class="target" id="specular-map"></span></div>
</div>
<div class="section" id="index-5">
<span id="id7"></span><h2>Карта бликов (specular map)<a class="headerlink" href="#index-5" title="Ссылка на этот заголовок">¶</a></h2>
<p>Карта бликов применяется для указания распределения цвета отраженного света (модель Фонга).</p>
<div class="section" id="id8">
<h3>Активация<a class="headerlink" href="#id8" title="Ссылка на этот заголовок">¶</a></h3>
<p>Выставить опцию <tt class="docutils literal"><span class="pre">Specular</span> <span class="pre">&gt;</span> <span class="pre">Color</span></tt> на панели <tt class="docutils literal"><span class="pre">Textures</span> <span class="pre">&gt;</span> <span class="pre">Influence</span></tt> (опция <tt class="docutils literal"><span class="pre">Specular</span> <span class="pre">&gt;</span> <span class="pre">Intensity</span></tt> не поддерживается).</p>
</div>
<div class="section" id="id9">
<h3>Дополнительные настройки<a class="headerlink" href="#id9" title="Ссылка на этот заголовок">¶</a></h3>
<dl class="docutils">
<dt><em>Influence &gt; Specular &gt; Color</em></dt>
<dd>Степень влияния текстуры на цвет отраженного света. Значение по умолчанию 1.0.</dd>
<dt><em>Influence &gt; Blend</em></dt>
<dd>Тип взаимодействия с цветом отраженного света материала (<tt class="docutils literal"><span class="pre">Material</span> <span class="pre">&gt;</span> <span class="pre">Specular</span> <span class="pre">&gt;</span> <span class="pre">Color</span></tt>). Поддерживается только <tt class="docutils literal"><span class="pre">Mix</span></tt> (смешивается с цветом). Значение по умолчанию <tt class="docutils literal"><span class="pre">Mix</span></tt>.</dd>
</dl>
<p>Карта бликов может быть упакована в альфа-канал диффузной текстуры в целях оптимизации. В этом случае для текстуры необходимо одновременно выставить опции <tt class="docutils literal"><span class="pre">Diffuse</span> <span class="pre">&gt;</span> <span class="pre">Color</span></tt> и <tt class="docutils literal"><span class="pre">Specular</span> <span class="pre">&gt;</span> <span class="pre">Color</span></tt>. Цветовой диапазон ограничен оттенками серого цвета.</p>
<span class="target" id="normal-map"></span></div>
</div>
<div class="section" id="index-6">
<span id="id10"></span><h2>Карта нормалей (normal map)<a class="headerlink" href="#index-6" title="Ссылка на этот заголовок">¶</a></h2>
<p>Карта нормалей применяется для указания распределения нормалей (перпендикуляров) к поверхности с целью увеличения уровня детализации ее рельефа. Информация о нормалях должна храниться в текстурном пространстве координат. Карты нормалей в объектном пространстве не поддерживаются.</p>
<div class="section" id="id11">
<h3>Активация<a class="headerlink" href="#id11" title="Ссылка на этот заголовок">¶</a></h3>
<p>Выставить опцию <tt class="docutils literal"><span class="pre">Geometry</span> <span class="pre">&gt;</span> <span class="pre">Normal</span></tt> на панели <tt class="docutils literal"><span class="pre">Textures</span> <span class="pre">&gt;</span> <span class="pre">Influence</span></tt>.</p>
</div>
<div class="section" id="id12">
<h3>Дополнительные настройки<a class="headerlink" href="#id12" title="Ссылка на этот заголовок">¶</a></h3>
<dl class="docutils">
<dt><em>Influence &gt; Geometry &gt; Normal</em></dt>
<dd>Степень участия карты в расчетах нормалей. Значение по умолчанию 1.0.</dd>
</dl>
<span class="target" id="parallax-mapping"></span></div>
</div>
<div class="section" id="height-map-parallax-mapping">
<span id="index-7"></span><h2>Карта высот (height map). Parallax mapping<a class="headerlink" href="#height-map-parallax-mapping" title="Ссылка на этот заголовок">¶</a></h2>
<p>Карта высот содержит информацию о распределении относительных высот рельефа. Более высокий уровень поверхности обозначается более светлым цветом. Карта высот в сочетании с картой нормалей требуются в качестве входящих данных для реализации рельефной поверхности (parallax mapping). Карта высот должна содержатся в альфа-канале карты нормалей.</p>
<div class="section" id="id13">
<h3>Активация<a class="headerlink" href="#id13" title="Ссылка на этот заголовок">¶</a></h3>
<p>Для карты нормалей дополнительно к опции <tt class="docutils literal"><span class="pre">Geometry</span> <span class="pre">&gt;</span> <span class="pre">Normal</span></tt> на панели <tt class="docutils literal"><span class="pre">Textures</span> <span class="pre">&gt;</span> <span class="pre">Influence</span></tt> выставить опцию <tt class="docutils literal"><span class="pre">Parallax</span></tt> на панели <tt class="docutils literal"><span class="pre">Textures</span> <span class="pre">&gt;</span> <span class="pre">Blend4Web</span></tt>.</p>
</div>
<div class="section" id="id14">
<h3>Дополнительные настройки<a class="headerlink" href="#id14" title="Ссылка на этот заголовок">¶</a></h3>
<dl class="docutils">
<dt><em>Blend4Web &gt; Parallax Scale</em></dt>
<dd>Фактор влияния эффекта рельефной поверхности. Значение по умолчанию 0.03.</dd>
<dt><em>Blend4Web &gt; Parallax Steps</em></dt>
<dd>Количество итераций в расчетах рельефной поверхности. Большее значение приводит к лучшему качеству и к большим затратам вычислительных ресурсов. Значение по умолчанию 10.</dd>
<dt><em>Blend4Web &gt; Parallax LOD distance</em></dt>
<dd>Расстояние на котором виден эффект параллакса.</dd>
</dl>
<a class="reference internal image-reference" href="_images/parallax.jpg"><img alt="_images/parallax.jpg" class="align-center" src="_images/parallax.jpg" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<span class="target" id="stencil-map"></span></div>
</div>
<div class="section" id="index-8">
<span id="id15"></span><h2>Карта смешивания (stencil map)<a class="headerlink" href="#index-8" title="Ссылка на этот заголовок">¶</a></h2>
<p>Специальная текстура (цветная или оттенков серого), содержащая информацию о распределении других текстур по поверхности.</p>
<div class="section" id="id16">
<h3>Активация<a class="headerlink" href="#id16" title="Ссылка на этот заголовок">¶</a></h3>
<ol class="arabic simple">
<li>В случае нодовых материалов карта смешивания должна использоваться соответствующим образом в нодовой структуре.</li>
<li>В случае обычных материалов карта смешивания должна располагаться в текстурном слоте между двумя смешиваемыми диффузными текстурами. Для текстуры смешивания необходимо одновременно выставить опции <tt class="docutils literal"><span class="pre">RGB</span> <span class="pre">to</span> <span class="pre">Intensity</span></tt> и <tt class="docutils literal"><span class="pre">Stencil</span></tt> на панели <tt class="docutils literal"><span class="pre">Textures</span> <span class="pre">&gt;</span> <span class="pre">Influence</span></tt>.</li>
</ol>
</div>
<div class="section" id="id17">
<h3>Дополнительные настройки<a class="headerlink" href="#id17" title="Ссылка на этот заголовок">¶</a></h3>
<p>В случае обычных материалов для одной из смешиваемых диффузных текстур поддерживается тип текстурных координат <tt class="docutils literal"><span class="pre">Normal</span></tt> (&#8220;matcap&#8221;).</p>
</div>
<div class="section" id="id18">
<h3>Ограничения<a class="headerlink" href="#id18" title="Ссылка на этот заголовок">¶</a></h3>
<p>В случае обычных материалов движком интерпретируется только красный канал текстуры смешивания. Карта бликов или карта нормалей при их наличии смешиванию не подвергаются. Настройка масштабирования <tt class="docutils literal"><span class="pre">Mapping</span> <span class="pre">&gt;</span> <span class="pre">Size</span></tt> извлекается из первой текстуры и применяется ко всем остальным текстурам.</p>
</div>
<div class="section" id="id19">
<h3>Пример<a class="headerlink" href="#id19" title="Ссылка на этот заголовок">¶</a></h3>
<p>Материал яблока имеет текстуры: карту нормалей, диффузную текстуру с картой бликов в альфа-канале, карту смешивания, диффузную карту &#8220;matcap&#8221;, карту зеркального отражения.</p>
<a class="reference internal image-reference" href="_images/stencil_apple.jpg"><img alt="_images/stencil_apple.jpg" class="align-center" src="_images/stencil_apple.jpg" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="_images/stencil_apple_separate_textures.jpg"><img alt="_images/stencil_apple_separate_textures.jpg" class="align-center" src="_images/stencil_apple_separate_textures.jpg" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="video-texture">
<span id="id20"></span><h2>Видео-текстуры<a class="headerlink" href="#video-texture" title="Ссылка на этот заголовок">¶</a></h2>
<p>В качестве текстуры может применяться видеозапись. Для этого должен быть выбран тип текстуры <tt class="docutils literal"><span class="pre">Image</span> <span class="pre">or</span> <span class="pre">Movie</span></tt>. Также, если была включена опция <tt class="docutils literal"><span class="pre">Scene</span> <span class="pre">&gt;</span> <span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Use</span> <span class="pre">NLA</span></tt>, то воспроизведение видеотекстур будет происходить и в рамках NLA-сценария.</p>
<div class="admonition note">
<p class="first admonition-title">Примечание</p>
<p class="last">Видеотекстура поддерживает только воспроизведение видеоряда. Звуковое сопровождение следует накладывать, используя объект типа <tt class="docutils literal"><span class="pre">SPEAKER</span></tt>.</p>
</div>
<div class="section" id="id21">
<h3>Настройка текстуры<a class="headerlink" href="#id21" title="Ссылка на этот заголовок">¶</a></h3>
<p>При использовании видео-текстуры можно настроить следующие опции на панели <tt class="docutils literal"><span class="pre">Texture</span> <span class="pre">&gt;</span> <span class="pre">Image</span></tt>:</p>
<dl class="docutils">
<dt><em>Image &gt; Frames</em></dt>
<dd>Длина воспроизводимого фрагмента видеозаписи в кадрах.</dd>
<dt><em>Image &gt; Start</em></dt>
<dd>Задержка воспроизведения видеозаписи в кадрах при использовании нелинейной анимации (опция <tt class="docutils literal"><span class="pre">Scene</span> <span class="pre">&gt;</span> <span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Use</span> <span class="pre">NLA</span></tt>).</dd>
<dt><em>Image &gt; Offset</em></dt>
<dd>Номер кадра, с которого будет начинаться воспроизведение видеозаписи.</dd>
<dt><em>Image &gt; Auto refresh</em></dt>
<dd>Воспроизводить видеозапись сразу после загрузки. Не актуальна при использовании нелинейной анимации: воспроизведение видео определяется остальными параметрами.</dd>
<dt><em>Image &gt; Cyclic</em></dt>
<dd>Начинать воспроизводить видеозапись заново каждый раз после ее завершения.</dd>
</dl>
<img alt="_images/video_tex.jpg" class="align-center" src="_images/video_tex.jpg" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Существует возможность ускоренного воспроизведения видеозаписей. Для этого необходимо задать значение свойства <tt class="docutils literal"><span class="pre">Scene</span> <span class="pre">&gt;</span> <span class="pre">Dimensions</span> <span class="pre">&gt;</span> <span class="pre">Frame</span> <span class="pre">rate</span></tt> отличным от значения fps (кадров в секунду) для видеозаписи. При этом скорость воспроизведения видеозаписи расчитывается как отношение Frame rate сцены к fps видеозаписи.</p>
<img alt="_images/fps.jpg" class="align-center" src="_images/fps.jpg" />
</div>
<div class="section" id="id22">
<h3>Особенности работы на мобильных устройствах<a class="headerlink" href="#id22" title="Ссылка на этот заголовок">¶</a></h3>
<p>Присутствуют следующие особенности реализации на мобильных устройствах:</p>
<ol class="arabic simple">
<li>нормальная работа видеотекстур на iPhone невозможна в связи с тем, что данное устройство воспроизводит видеоданные через свой стандартный видеопроигрыватель.</li>
<li>на некоторых мобильных устройствах имеется поддержка воспроизведения только одного видеофайла.</li>
<li>не гарантируется стабильная работа при выставлении опции <tt class="docutils literal"><span class="pre">Offset</span></tt> в ненулевое значение.</li>
<li>не на всех устройствах поддерживается ускореное воспроизведение видео.</li>
<li>на iPad и iPhone отсутствует возможность управления громкостью звука видеофайла, поэтому следует убрать аудио дорожку из видео перед добавлением файла в Blender.</li>
</ol>
<span class="target" id="environment-map"></span></div>
</div>
<div class="section" id="index-9">
<span id="id23"></span><h2>Карта окружения (environment map)<a class="headerlink" href="#index-9" title="Ссылка на этот заголовок">¶</a></h2>
<p>Применяется в качестве <a class="reference internal" href="#mirror-map"><em>карты зеркального отражения (mirror map)</em></a>, в качестве статической <a class="reference internal" href="#skydome-texture"><em>текстуры неба (skydome)</em></a>, а также для реализации одной из методик <a class="reference internal" href="lighting.html#environment-lighting"><em>освещения от окружающей среды</em></a>.</p>
<p>В движке представлена кубической текстурой. Растры для карт окружения должны содержать 6 спроецированных изображений окружающей среды, упакованных в 2 ряда по 3 (формат, используемый в Blender&#8217;e). Размер растров для каждого из изображений должен подчиняться правилу 2<sup>N</sup> (512, 1024 и т.п.).</p>
<p>Во избежание проявления швов рекомендуется использовать формат без потери качества (PNG).</p>
<a class="reference internal image-reference" href="_images/environment_map.png"><img alt="_images/environment_map.png" class="align-center" src="_images/environment_map.png" style="width: 100%;" /></a>
<div class="section" id="id24">
<h3>Создание карты окружения<a class="headerlink" href="#id24" title="Ссылка на этот заголовок">¶</a></h3>
<p>Blender позволяет запекать сцену в карту окружения. Для этого:</p>
<ol class="arabic simple">
<li>Создать сцену для запекания.</li>
<li>Добавить пустой объект в предполагаемом центре обзора (<tt class="docutils literal"><span class="pre">Add</span> <span class="pre">&gt;</span> <span class="pre">Empty</span></tt>).</li>
<li>Перейти во вкладку <tt class="docutils literal"><span class="pre">World</span></tt>, затем перейти во вкладку <tt class="docutils literal"><span class="pre">Textures</span></tt>, создать новую текстуру, выбрать тип <tt class="docutils literal"><span class="pre">Environment</span> <span class="pre">Map</span></tt>.</li>
<li>На панели <tt class="docutils literal"><span class="pre">Environment</span> <span class="pre">Map</span></tt> выбрать источник <tt class="docutils literal"><span class="pre">Static</span></tt>, выбрать созданный пустой объект в поле <tt class="docutils literal"><span class="pre">Viewport</span> <span class="pre">Object</span></tt>, установить разрешение 2<sup>N</sup> (512, 1024 и т.п.).</li>
<li>Выполнить рендеринг сцены <tt class="docutils literal"><span class="pre">F12</span></tt> (требуется наличие камеры).</li>
<li>Сохранить карту окружения в файл.</li>
</ol>
<a class="reference internal image-reference" href="_images/environment_map_baking_scene.jpg"><img alt="_images/environment_map_baking_scene.jpg" class="align-center" src="_images/environment_map_baking_scene.jpg" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="_images/environment_map_baking_ui.png"><img alt="_images/environment_map_baking_ui.png" class="align-center" src="_images/environment_map_baking_ui.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="mirror-map">
<span id="index-10"></span><span id="id25"></span><h2>Карта зеркального отражения (mirror map)<a class="headerlink" href="#mirror-map" title="Ссылка на этот заголовок">¶</a></h2>
<p>Применяется для визуализации отражающей способности поверхности. Представляет собой <a class="reference internal" href="#environment-map"><em>карту окружения</em></a>.</p>
<div class="section" id="id26">
<h3>Активация<a class="headerlink" href="#id26" title="Ссылка на этот заголовок">¶</a></h3>
<p>Выбрать тип текстуры (<tt class="docutils literal"><span class="pre">Type</span></tt>) <tt class="docutils literal"><span class="pre">Environment</span> <span class="pre">Map</span></tt>. Выставить опцию <tt class="docutils literal"><span class="pre">Shading</span> <span class="pre">&gt;</span> <span class="pre">Mirror</span></tt> на панели <tt class="docutils literal"><span class="pre">Textures</span> <span class="pre">&gt;</span> <span class="pre">Influence</span></tt>.</p>
</div>
<div class="section" id="id27">
<h3>Дополнительные настройки<a class="headerlink" href="#id27" title="Ссылка на этот заголовок">¶</a></h3>
<dl class="docutils">
<dt><em>Influence &gt; Shading &gt; Mirror</em></dt>
<dd>Степень влияния карты зеркального отражения. Значение по умолчанию 1.0.</dd>
</dl>
<div class="admonition seealso">
<p class="first admonition-title">См.также</p>
<p class="last"><a class="reference internal" href="materials.html#reflection-static"><em>Статическое отражение</em></a>.</p>
</div>
</div>
</div>
<div class="section" id="skydome">
<span id="skydome-texture"></span><span id="index-11"></span><h2>Текстура неба (skydome)<a class="headerlink" href="#skydome" title="Ссылка на этот заголовок">¶</a></h2>
<p>Применяется для визуализации бесконечно удаленного окружения (например, небесного свода). Представляет собой <a class="reference internal" href="#environment-map"><em>карту окружения</em></a>.</p>
<p>Также может применяться для реализации одной из методик <a class="reference internal" href="lighting.html#environment-lighting"><em>освещения от окружающей среды</em></a>.</p>
<div class="section" id="id28">
<h3>Активация<a class="headerlink" href="#id28" title="Ссылка на этот заголовок">¶</a></h3>
<p>Создать текстуру мира (world texture) с типом &#8220;Environment Map&#8221;. Выбрать опцию <tt class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Sky</span> <span class="pre">texture</span> <span class="pre">usage</span> <span class="pre">&gt;</span> <span class="pre">SKYDOME</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Примечание</p>
<p>Для имитации <a class="reference internal" href="lighting.html#environment-lighting"><em>освещения от окружающей среды</em></a> можно воспользоваться опцией <tt class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Sky</span> <span class="pre">texture</span> <span class="pre">usage</span> <span class="pre">&gt;</span> <span class="pre">ENVIRONMENT_LIGHTING</span></tt>. При этом необходимо также выбрать соответствующую опцию в настройках мира: <tt class="docutils literal"><span class="pre">Environment</span> <span class="pre">Lighting</span> <span class="pre">&gt;</span> <span class="pre">Sky</span> <span class="pre">Texture</span></tt>.</p>
<p class="last">Для создания обоих эффектов от одной текстуры необходимо выставить опцию <tt class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Sky</span> <span class="pre">texture</span> <span class="pre">usage</span> <span class="pre">&gt;</span> <span class="pre">BOTH</span></tt>.</p>
</div>
<a class="reference internal image-reference" href="_images/skydome.png"><img alt="_images/skydome.png" class="align-center" src="_images/skydome.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="index-12">
<span id="id29"></span><h2>Особые типы текстур<a class="headerlink" href="#index-12" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для использования особых типов текстур необходимо выставить тип текстуры <tt class="docutils literal"><span class="pre">None</span></tt> на панели <tt class="docutils literal"><span class="pre">Textures</span></tt>.</p>
<img alt="_images/type_none.jpg" class="align-center" src="_images/type_none.jpg" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>В меню <tt class="docutils literal"><span class="pre">Textures</span> <span class="pre">&gt;</span> <span class="pre">Blend4Web</span></tt> имеется возможность задать основные свойства для данного типа текстуры:</p>
<dl class="docutils">
<dt><em>Blend4Web &gt; Source type</em></dt>
<dd>Выбор особого типа текстуры: <tt class="docutils literal"><span class="pre">Scene</span></tt> - для рендеринга 3D сцены в текстуру, <tt class="docutils literal"><span class="pre">Canvas</span></tt> - использование HTML-элемента &lt;canvas&gt; и <tt class="docutils literal"><span class="pre">None</span></tt> - отсутствие текстуры.</dd>
<dt><em>Blend4Web &gt; Source id</em></dt>
<dd>Имя сцены, которая будет отображена в текстуре, в случае 3D сцены либо идентификатор HTML-элемента &lt;canvas&gt; в случае Canvas-текстуры.</dd>
<dt><em>Blend4Web &gt; Source size</em></dt>
<dd>Разрешение текстуры.</dd>
<dt><em>Blend4Web &gt; Extension</em></dt>
<dd><a class="reference internal" href="#texture-extension"><em>Режим интерпретации текстурных координат</em></a>. Значение по умолчанию <tt class="docutils literal"><span class="pre">Repeat</span></tt>.</dd>
<dt><em>Blend4Web &gt; Enable mipmapping</em></dt>
<dd>Включение MIP-текстурирования для Canvas-текстуры. По умолчанию включено.</dd>
</dl>
<img alt="_images/canvas_tex.jpg" class="align-center" src="_images/canvas_tex.jpg" />
<div class="section" id="d-a">
<span id="render-to-texture-scene"></span><h3>3D сценa<a class="headerlink" href="#d-a" title="Ссылка на этот заголовок">¶</a></h3>
<p>Изображение 3D сцены может быть использовано в качестве текстуры на объекте другой (&#8220;главной&#8221;) сцены.</p>
<ol class="arabic simple">
<li>Создать дополнительную сцену-источник, переименовать для удобства, создать <tt class="docutils literal"><span class="pre">World</span></tt>, добавить нужные объекты, настроить вид из камеры.</li>
<li>В главной сцене для текстуры целевого объекта выставить тип <tt class="docutils literal"><span class="pre">None</span></tt>, в поле <tt class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Source</span> <span class="pre">type</span></tt> указать тип <tt class="docutils literal"><span class="pre">Scene</span></tt>. В поле <tt class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Source</span> <span class="pre">id</span></tt> указать название сцены-источника. В поле <tt class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Source</span> <span class="pre">size</span></tt> указать размер текстуры в пикселях.</li>
</ol>
<a class="reference internal image-reference" href="_images/render_to_texture.jpg"><img alt="_images/render_to_texture.jpg" class="align-center" src="_images/render_to_texture.jpg" style="width: 100%;" /></a>
<div class="admonition note">
<p class="first admonition-title">Примечание</p>
<p class="last">В настоящее время имеется баг, вынуждающий иметь в обеих сценах один общий источник света.</p>
</div>
</div>
<div class="section" id="canvas">
<span id="render-to-texture-canvas"></span><h3>Canvas<a class="headerlink" href="#canvas" title="Ссылка на этот заголовок">¶</a></h3>
<p>В качестве текстуры используется HTML-элемент &lt;canvas&gt;. Его редактирование осуществляется при помощи <a class="reference internal" href="developers.html#canvas-texture"><em>API</em></a>.</p>
<p>В главной сцене для текстуры целевого объекта выставить тип <tt class="docutils literal"><span class="pre">None</span></tt>, в поле <tt class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Source</span> <span class="pre">type</span></tt> указать тип <tt class="docutils literal"><span class="pre">Canvas</span></tt>. В поле <tt class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Source</span> <span class="pre">id</span></tt> указать идентификатор объекта типа <tt class="docutils literal"><span class="pre">Canvas</span></tt>. В поле <tt class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Source</span> <span class="pre">size</span></tt> указать размер текстуры в пикселях.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Оглавление</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">Общие сведения</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Функционал движка</a></li>
<li class="toctree-l1"><a class="reference internal" href="first_steps.html">Экспресс-установка</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Развёртывание среды разработки</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Рабочий процесс</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">Просмотрщик сцен</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_player.html">Веб-плеер</a></li>
<li class="toctree-l1"><a class="reference internal" href="addon.html">Аддон</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">Объекты</a></li>
<li class="toctree-l1"><a class="reference internal" href="camera.html">Камера</a></li>
<li class="toctree-l1"><a class="reference internal" href="materials.html">Материалы</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Текстуры</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#index-1">Типы текстур</a></li>
<li class="toctree-l2"><a class="reference internal" href="#main-conf">Общие настройки</a></li>
<li class="toctree-l2"><a class="reference internal" href="#index-4">Диффузная текстура (diffuse map)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#index-5">Карта бликов (specular map)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#index-6">Карта нормалей (normal map)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#height-map-parallax-mapping">Карта высот (height map). Parallax mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="#index-8">Карта смешивания (stencil map)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#video-texture">Видео-текстуры</a></li>
<li class="toctree-l2"><a class="reference internal" href="#index-9">Карта окружения (environment map)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mirror-map">Карта зеркального отражения (mirror map)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#skydome">Текстура неба (skydome)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#index-12">Особые типы текстур</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="node_materials.html">Нодовые материалы</a></li>
<li class="toctree-l1"><a class="reference internal" href="lighting.html">Освещение, тени и фон</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessing_effects.html">Постпроцессинговые эффекты</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles.html">Система частиц</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles_instancing.html">Система частиц для инстансинга объектов</a></li>
<li class="toctree-l1"><a class="reference internal" href="animation.html">Анимация</a></li>
<li class="toctree-l1"><a class="reference internal" href="outdoor_rendering.html">Рендеринг наружных сцен</a></li>
<li class="toctree-l1"><a class="reference internal" href="gamma_alpha.html">Гамма-коррекция и альфа-композитинг</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">Звуковая подсистема</a></li>
<li class="toctree-l1"><a class="reference internal" href="physics.html">Физика</a></li>
<li class="toctree-l1"><a class="reference internal" href="nla.html">Нелинейная анимация</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">Разработчикам приложений</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers_advanced.html">Разработчикам движка</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_short_manual.html">Работа в команде. Использование git</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems_and_solutions.html">Проблемы и решения</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Замечания к релизам</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Поиск</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Искать" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Введите слова для поиска или имя модуля, класса или функции.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="materials.html" title="Материалы"
             >назад</a> |
          <a href="node_materials.html" title="Нодовые материалы"
             >вперёд</a> |
          <a href="genindex.html" title="Алфавитный указатель"
             >указатель</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2014, ООО &#34;Триумф&#34;.
      Обновлено: 2014-12-24.
      Создано с помощью <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>